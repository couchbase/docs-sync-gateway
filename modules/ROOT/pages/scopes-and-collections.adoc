= Scopes and Collections
// :page-aliases: scopes-and-collections.adoc
ifdef::show_edition[:page-edition: {release}]
ifdef::prerelease[:page-status: {prerelease}]
:page-role:
:page-content: conceptual
:description: pass:q[Scopes and Collections in Couchbase Mobile 3.1 enable you to logically separate and organize data while managing app lifecycles independently across Mobile and Edge applications.]

== New Features

Introduced with Couchbase Mobile 3.1, Scopes and Collections provide enhanced functionality, delivering significant benefits over the traditional bucket-based method:

=== Cloud-to-Edge support for Scopes and Collections

A Sync Gateway database is associated with a single Scope and can be related to one or more Collections within the Scope, including all Collections within the Scope. 
The most significant benefit of this feature is enhanced data organization and management, leading to improved scalability, security, flexibility, and simplified development.

=== Sync Gateway Metadata Isolation

Scopes and Collections isolate Sync Gateway metadata. 
System data used by Sync Gateway is maintained in _default scope/collection, where it is logically isolated from application data in user-defined scopes/collections. 
The most crucial benefit of this feature is the separation of system data from application data, which results in improved data organization, security, and maintainability.

=== Inter-Cluster Synchronization Gateway Replication
This feature enables improved syncing of one or more data scopes across Sync Gateway clusters by employing a resilient replication protocol tailored explicitly for inter-Gateway communication. 
This robust Inter-Gateway replication protocol ensures seamless data synchronization, enhancing system reliability and performance.

== Sync Gatewayâ€™s Function

Sync Gateway's primary function in Scopes and Collections is facilitating data synchronization between Couchbase Lite clients and Couchbase Server. 
The system accomplishes this by efficiently managing and executing the following tasks:

1. Segregation of Data
2. Simplified Access Control
3. Scalable Multi-tenant Applications
4. High Application Density at the Edge 
5. Sync Gateway Metadata Isolation
6. Cloud-to-Edge Support for Scopes and Collections

=== Segregation of Data

Sync Gateway allows you to segregate data into different scopes within a single bucket and logically group documents of specific types into their collections. 
This improves data organization and simplifies access control policies.

=== Simplified Access Control

Sync Gateway simplifies access control and replication configurations by setting sync functions at the collection level. 
App users can be segregated by scope, ensuring they only access the authorized data.

=== Scalable Multi-tenant Applications

Sync Gateway supports multi-tenant applications that do not need strict resource isolation but still require independent data lifecycle management. 
Each tenant can have its own scope, allowing for easy addition or removal of tenants without impacting others.

=== High Application Density at the Edge 

Sync Gateway enables large-scale cloud-to-edge deployments with numerous applications at the edge, each served using a microservices-based application architecture. 
Scopes and collections allow for bucket consolidation, making the solution more scalable and cost-effective.

=== Sync Gateway Metadata Isolation

Sync Gateway can isolate system metadata from application data by storing it in the _default scope/collection. This separation ensures that SDK-based applications do not inadvertently modify sync metadata and simplifies query implementations.

=== Cloud-to-Edge Support for Scopes and Collections

Sync Gateway provides end-to-end support for scopes and collections across the entire Couchbase Mobile stack, allowing for various configurations of replication and synchronization between Couchbase Server, Sync Gateway, and Couchbase Lite clients.