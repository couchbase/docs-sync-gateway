= Release Notes
:page-aliases: prodnotes/pn-releasenotes.adoc, prodnotes/pn-release-notes.adoc, releasenotes.adoc, pn-release-notes.adoc
:page-edition: {release}
ifdef::prerelease[:page-status: {prerelease}]
:page-role:
:description: Couchbase Sync Gateway
:keywords: edge nosql api synchronization replication
// End of Page Attribute Statements

include::partial$_std-hdr-sgw.adoc[]

:ns-this: {ns} for this release
:fn-icr: footnote:icr[As of Sync Gateway version 2.8]
// :this-release: {version-full}

:docpath: sync-gateway::release-notes.adoc
Quicklinks to previous release notes:
xref:2.8@{docpath}[Release 2.8] |
xref:2.7@{docpath}[Release 2.7] |
xref:2.6@{docpath}[Release 2.6] |
xref:2.5@{docpath}[Release 2.5] |
xref:2.1@{docpath}[Release 2.1] |
xref:2.0@{docpath}[Release 2.0]

:docpath!:

// DO NOT EDIT -- Header Content Block
:param-abstract: This content describes the key features and changes implemented by release {version-full} of Couchbase Sync{nbsp}Gateway
:param-related: {whatsnew--xref}  |  {compatibility--xref} | {supported-environments--xref}
include::partial$block-abstract.adoc[]
// DO NOT EDIT -- Header Content Block


:xref-sgw-bmk-cfg-dbsvr: xref:{configuration-properties-legacy--page}#databases-this_db-server[Couchbase Server Connection String]
:xref-sgw-bmk-cfg-hideprodvn: xref:{configuration-properties-legacy--page}#hide_product_version[Hide Product Version in Headers]

// END DO NOT REMOVE

.One Way Upgrade
[CAUTION]
--
The migration to 3.0 BETA configuration is a ONE WAY process -- see: {upgrading--xref} for more.
--


[#lbl-rel300]
== Release {version-full} -- October 2021
Quicklinks: <<new-features-300>> *|*
<<improvements-300>> *|*
<<issues-and-resolutions-300>> *|*
<<support-notices-300>>


[#new-features-300]
== New Feature Highlights

=== Centralized Persistent Modular Configuration
include::partial$common-releasenotes.adoc[tag="new-300-centralized-cfg-summ", leveloffset=+1]

xref:whatsnew.adoc#centralized-persistent-modular-configuration[Read More ...]


=== Secure Administration

include::partial$common-releasenotes.adoc[tag="new-300-secure-admin-summ", leveloffset=+1]

xref:whatsnew.adoc#secure-administration[Read More ...]


=== TLS Encryption Enabled by Default

include::partial$common-releasenotes.adoc[tag="new-300-tls-summ", leveloffset=+1]

xref:whatsnew.adoc#tls-encryption-enabled-by-default[Read More ...]


=== User Defined Extended Attributes(XAttrs) for Access Control

include::partial$common-releasenotes.adoc[tag="new-300-xattrs-summ", leveloffset=+1]

xref:whatsnew.adoc#user-defined-extended-attributesxattrs-for-access-control[Read More ...]


=== Auto-Purge on Channel Access Revocation in Inter-Sync Gateway Replication

include::partial$common-releasenotes.adoc[tag="new-300-auto-purge-summ", leveloffset=+1]

xref:whatsnew.adoc#auto-purge-on-channel-access-revocation-in-inter-sync-gateway-replication[Read More ...]


=== Use Environment Variables in Configuration File

include::partial$common-releasenotes.adoc[tag="new-300-environment-vars-summ", leveloffset=+1]

xref:whatsnew.adoc#use-environment-variables-in-configuration-file[Read More ...]


[#improvements-300]
== Other Enhancements
// tag::enhancements-300[]

// tag::Enhancements-3-0-0-beta[]
include::partial$pn-issues-list.adoc[tags="Enhancements-3-0-0-beta"]

// end::Enhancements-3-0-0-beta[]
// end::enhancements-300[]

[#issues-and-resolutions-300]
== Issues and Resolutions

=== Known Issues

// tag::known-300[]
// .List of issues outstanding at this release
include::partial$pn-issues-list.adoc[tags="KI-3-0-0-beta"]



// end::known-300[]

=== Fixed Issues
// tag::fixed-300[]
// tag::Fixed-3-0-0-beta[]
include::partial$pn-issues-list.adoc[tags="Fixed-3-0-0-beta"]
// end::Fixed-3-0-0-beta[]
// end::fixed-300[]

// tag::api-changed-300[]
// tbd
// end::api-changed-300[]

// tag::cfg-changed-300[]
// tbd
// end::cfg-changed-300[]

=== Deprecated
include::partial$pn-issues-list.adoc[tags="Deprecated-3-0-0-beta"]

=== Removed
include::partial$pn-issues-list.adoc[tags="Removed-3-0-0-beta"]


== API and Confiuration Changes
// â€“ identify any REST API changes
// tag::api-changes-300[]
// tag::all-changed-300-api[]
This release introduces significant configuration and persistent API changes; some of which may be breaking changes if they impact a feature you rely on -- see the items identified in:attribute: value <<tbl-breaking>> |
<<tbl-deprecated>> |
<<tbl-dropped>>.

=== Breaks compatibility

.Breaks compatibility
[#tbl-breaking, cols="1a,1a", options="header"]
|===
.>|  Feature
.>|   Link

// |  Cannot start sync gateway in CLI without providing either a configuration file or a CLI flag
// |

|  enable_shared_bucket_access -- enabled by default

The change _ought to be_ transparent to the user, *if*:

* Doc metadata is smaller than 1MB
* There is no reliance on inspecting doc metadata using the `_sync` property in a document on the server side

Old documents are automatically migrated to the `xattr` metadata format.

|   xref:2.8@sync-gateway:ROOT:configuration-properties.adoc#databases-this_db-enable_shared_bucket_access[enable_shared_bucket_access]

|  Enforce TLS by default
|  xref:secure-sgw-access.html#lbl-cbs-comms[Couchbase Server Connection]

|===

=== Deprecated

.Deprecated
[#tbl-deprecated, cols="1a,1a", options="header"]
|===
.>|  Feature
.>|   Link

|  allow_conflicts confg
|   xref:2.8@sync-gateway:ROOT:configuration-properties.adoc#databases-this_db-allow_conflicts[allow_conflicts]

|  enable_shared_bucket_access -- disabled option
|

|  Facebook User Auth Config
|   xref:2.8@sync-gateway:ROOT:configuration-properties.adoc#facebook[facebook]

|  Google User Auth Config
|   xref:2.8@sync-gateway:ROOT:configuration-properties.adoc#facebook[Google]

|  Logging API
|
|   Deprecated
|===

=== Dropped or removed
.Dropped or removed
[#tbl-dropped, cols="1a,1a", options="header"]
|===
.>|  Feature
.>|   Link

|  admin UI
|

|  configServer property
|   xref:2.8@sync-gateway:ROOT:configuration-properties.adoc#configServer[configserver]

|  databases.this_db.cache.channel_cache_expiry
|   xref:2.8@sync-gateway:ROOT:configuration-properties.adoc#databases-this_db-cache-channel_cache_expiry[channel_cache_expiry]

|  databases.this_db.feed_type
|   xref:2.8@sync-gateway:ROOT:configuration-properties.adoc#databases-this_db-feed_type[feed_type]

|  logging.default config section
|   xref:legacy-logging-pre2-1.adoc[Legacy - Pre-2.1 Logging]

|  old cache config values :databases.this_db.cache.channel_cache_max_length
|   xref:2.8@sync-gateway:ROOT:configuration-properties.adoc#databases-this_db-cache-channel_cache_max_length[channel_cache_max_length]

|  old cache config values :databases.this_db.cache.channel_cache_min_length
|   xref:2.8@sync-gateway:ROOT:configuration-properties.adoc#databases-this_db-cache-channel_cache_min_length[channel_cache_min_length]

|  old cache config values :databases.this_db.cache.enable_star_channel
|   xref:2.8@sync-gateway:ROOT:configuration-properties.adoc#databases-this_db-cache-enable_star_channel[enable_star_channel]

|  old cache config values :databases.this_db.cache.max_num_pending
|   xref:2.8@sync-gateway:ROOT:configuration-properties.adoc#databases-this_db-cache-max_num_pending[max_num_pending]

|  old cache config values :databases.this_db.cache.max_wait_pending
|   xref:2.8@sync-gateway:ROOT:configuration-properties.adoc#databases-this_db-cache-max_wait_pending[db-cache-max_wait_pending]

|  old cache config values :databases.this_db.cache.max_wait_skipped
|   xref:2.8@sync-gateway:ROOT:configuration-properties.adoc#databases-this_db-cache-max_wait_skipped[max_num_skipped]

|  old cache config values: databases.this_db.rev_cache_size
|   xref:2.8@sync-gateway:ROOT:configuration-properties.adoc#databases-this_db-rev_cache_size[rev_cache_size]

|  SG-Replicate
|   xref:2.8@sync-gateway:ROOT:legacy-sg-replicate.adoc[Legacy -- SG-Replicate]

|  walrus (should not be default database mode)
|   xref:2.8@sync-gateway:ROOT:configuration-properties.adoc#databases-this_db-server[server]
|   Dropped
|===


// end::all-changed-300-api[]

// end::api-changes-300[]

[#support-notices-300]
== Support Notices
This section documents any support-related notes, constraints and changes

=== Deprecation Notices
Items (features and-or functionality) are marked as deprecated when a more current, and usually enhanced, alternative is available.

Whilst the deprecated item will remain usable, it is no longer supported, and will be removed in a future release.
You should plan to move to an alternative, supported, solution as soon as practical.

// tag::deprecated-300[]
// tag::dnsgw-30[] all deprecations for the release
// // tag::dnsgw-30-001-note[]
// // tag::dnsgw-30-001-notetitle[]
// =====  note title
// // tag::dnsgw-30-001-noteannounce[]

// // end::dnsgw-30-001-noteannounce[]

// tag::dnsgw-30-001-noteimpact[]
// The functionality of SG{nbsp}Replicate remains unchanged, unless explicitly stated in these release notes and-or in the appropriate documentation section.
// Refer to {xref-sgw-pg-upgrade} for more information on upgrading from SG Replicate to Inter-Sync Gateway replication.
// end::dnsgw-30-001-noteimpact[]
// end::dnsgw-30-001-note[]

// ==== Configuration deprecations
// // tag::dnsgw-30-001-cfg[]

// // tag::dnsgw-30-001-cfg1[]
// // end::dnsgw-30-001-cfg1[]

// // end::dnsgw-30-001-cfg[]

// ===== REST API Deprecations
// // tag::dnsgw-30-001-api[]

// // tag::dnsgw-30-001-api1[]
// // end::dnsgw-30-001-api1[]

// // end::dnsgw-30-001-api[]

// ===== Operating Systems
// Support for Microsoft Windows 2012 (64-bit) is deprecated

// end::dnsgw-30[]
// end::deprecated-300[]
// ===== Ongoing
// include::partial$block-deprecations.adoc[tag=any-platform-ongoing]
// include::partial$block-deprecations.adoc[tag={param-platform}-ongoing]

// === End of Life
// include::partial$block-deprecations.adoc[tag=any-platform-eol]
// include::partial$block-deprecations.adoc[tag={param-platform}-eol]

// === End of Support
// {ns-this}

// ==== Other Notices

// ===== Support is added for:


=== Upgrading

// tag::upgrading[]

// end::upgrading[]

For more on upgrading -- see: {upgrading--xref}


// DO NOT EDIT -- Footer Related Content Block
include::partial$block-related-content-product.adoc[]
// DO NOT EDIT -- Footer Related Content Block


// END -- PAGE -- modules/ROOT/pages/release-notes.adoc