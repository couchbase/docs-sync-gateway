////
= Sync Gateway
team@openapitools.org
:keywords: openapi, rest, Sync Gateway
:specDir: 
:snippetDir: 
:generator-template: v1 2019-12-20 (+ SimonD + HakimC changes)
:info-url: https://openapi-generator.tech
:app-name: Sync Gateway

[abstract]
.Abstract
Sync Gateway manages access and synchronization between Couchbase Lite and Couchbase Server

=== Version information
[%hardbreaks]
__Version__ : 3.1.0

=== Host information
[%hardbreaks]
__Host__ : localhost
////


// markup not found, no include::{specDir}intro.adoc[opts=optional]


== Resources

This section describes the operations available with this REST API.
The operations are grouped in the following categories.

* <<Authentication>>
* <<DatabaseManagement>>
* <<Document>>
* <<DocumentAttachment>>
* <<PublicOnlyEndpoints>>
* <<Replication>>
* <<Server>>
* <<Session>>
* <<Unsupported>>


[#Authentication]
=== Authentication

Manage OpenID Connect Authentication



////
// Commenting out, as SGW Spec doesn't use operationID
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
////




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Create a new Facebook-based session
....
POST /{db}/_facebook
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Creates a new session based on a Facebook user. On a successful session creation, a session cookie is stored to keep the user authenticated for future API calls.

If CORS is enabled, the origin must match an allowed login origin otherwise an error will be returned.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| xref:#++DbFacebookPostRequest++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Session created successfully
| 

| 400
a| Origin is not in the approved list of allowed origins
| xref:#++HTTP-Error++[]

| 401
a| Received error from Facebook verifier
| xref:#++__db___facebook_post_401_response++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 502
a| Received invalid response from the Facebook verifier
| xref:#++__db___facebook_post_401_response++[]

| 504
a| Unable to send request to Facebook API
| xref:#++__db___facebook_post_401_response++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_facebook/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_facebook/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Create a new Google-based session
....
POST /{db}/_google
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Creates a new session based on a Google user. On a successful session creation, a session cookie is stored to keep the user authenticated for future API calls.

If CORS is enabled, the origin must match an allowed login origin otherwise an error will be returned.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| xref:#++DbGooglePostRequest++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Session created successfully
| 

| 400
a| Origin is not in the approved list of allowed origins
| xref:#++HTTP-Error++[]

| 401
a| Received error from Google token verifier or invalid application ID in the config
| xref:#++__db___facebook_post_401_response++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 502
a| Received invalid response from the Google token verifier
| xref:#++__db___facebook_post_401_response++[]

| 504
a| Unable to send request to the Google token verifier
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_google/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_google/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect authentication callback
....
GET /{db}/_oidc_callback
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
The callback URL that the client is redirected to after authenticating with the OpenID Connect provider.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*error* +
_optional_
a| 
[markdown]
--
The OpenID Connect error, if any occurred.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*code* +
_required_
a| 
[markdown]
--
The OpenID Connect authentication code.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*provider* +
_optional_
a| 
[markdown]
--
The OpenID Connect provider to use for authentication.  The list of providers are defined in the Sync Gateway config. If left empty, the default provider will be used.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*state* +
_optional_
a| 
[markdown]
--
The OpenID Connect state to verify against the state cookie. This is used to prevent cross-site request forgery (CSRF). This is not required if `disable_callback_state=true` for the provider config (NOT recommended).

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully authenticated with OpenID Connect.
| xref:#++OIDC-callback++[]

| 400
a| A problem occurred when reading the callback request body
| 

| 401
a| An error was received from the OpenID Connect provider. This means the error query parameter was filled.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 500
a| A problem occurred in regards to the token
| xref:#++__db___facebook_post_401_response++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc_callback/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc_callback/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect authentication initiation via WWW-Authenticate header
....
GET /{db}/_oidc_challenge
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Called by clients to initiate the OpenID Connect Authorization Code Flow. This will establish a connection with the provider, then put the redirect URL in the `WWW-Authenticate` header.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*provider* +
_optional_
a| 
[markdown]
--
The OpenID Connect provider to use for authentication.  The list of providers are defined in the Sync Gateway config. If left empty, the default provider will be used.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*offline* +
_optional_
a| 
[markdown]
--
If true, the OpenID Connect provider is requested to confirm with the user the permissions requested and refresh the OIDC token. To do this, access_type=offline and prompt=consent is set on the redirection link.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 400
a| The provider provided is not defined in the Sync Gateway config. If no provided was specified then there is no default provider set. 
| 

| 401
a| Successfully connected with the OpenID Connect provider so now the client can login.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 500
a| Unable to connect and validate with the OpenID Connect provider requested
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc_challenge/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc_challenge/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect authentication initiation via Location header redirect
....
GET /{db}/_oidc
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Called by clients to initiate the OpenID Connect Authorization Code Flow. Redirects to the OpenID Connect provider if successful. 
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*provider* +
_optional_
a| 
[markdown]
--
The OpenID Connect provider to use for authentication.  The list of providers are defined in the Sync Gateway config. If left empty, the default provider will be used.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*offline* +
_optional_
a| 
[markdown]
--
If true, the OpenID Connect provider is requested to confirm with the user the permissions requested and refresh the OIDC token. To do this, access_type=offline and prompt=consent is set on the redirection link.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 302
a| Successfully connected with the OpenID Connect provider so now redirecting to the requested OIDC provider for authentication.
| 

| 400
a| The provider provided is not defined in the Sync Gateway config. If no provided was specified then there is no default provider set. 
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 500
a| Unable to connect and validate with the OpenID Connect provider requested
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect token refresh
....
GET /{db}/_oidc_refresh
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Refresh the OpenID Connect token based on the provided refresh token.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*refresh_token* +
_required_
a| 
[markdown]
--
The OpenID Connect refresh token.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*provider* +
_optional_
a| 
[markdown]
--
The OpenID Connect provider to use for authentication.  The list of providers are defined in the Sync Gateway config. If left empty, the default provider will be used.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully authenticated with OpenID Connect.
| xref:#++OIDC-callback++[]

| 400
a| The provider provided is not defined in the Sync Gateway config. If no provided was specified then there is no default provider set. 
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 500
a| Unable to connect and validate with the OpenID Connect provider requested
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc_refresh/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc_refresh/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect mock login page handler
....
GET /{db}/_oidc_testing/authenticate
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Used to handle the login page displayed for the `GET /{db}/_oidc_testing/authorize` endpoint.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*redirect_uri* +
_optional_
a| 
[markdown]
--
The Sync Gateway OpenID Connect callback URL.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*scope* +
_required_
a| 
[markdown]
--
The OpenID Connect authentication scope.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*username* +
_required_
a| 
[markdown]
--


--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*tokenttl* +
_required_
a| 
[markdown]
--


--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


a| 
*identity-token-formats* +
_required_
a| 
[markdown]
--


--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*authenticated* +
_required_
a| 
[markdown]
--


--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 302
a| Redirecting to Sync Gateway OpenID Connect callback URL
| 

| 403
a| The OpenID Connect unsupported config option `oidc_test_provider` is not enabled. To use this endpoint, this option must be enabled.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc_testing/authenticate/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc_testing/authenticate/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect mock login page handler
....
POST /{db}/_oidc_testing/authenticate
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Used to handle the login page displayed for the `GET /{db}/_oidc_testing/authorize` endpoint.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

Properties passed from the OpenID Connect mock login page to the handler
--

[%hardbreaks]
// end

| xref:#++OIDCLoginPageHandler++[]


|===



====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*redirect_uri* +
_optional_
a| 
[markdown]
--
The Sync Gateway OpenID Connect callback URL.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*scope* +
_required_
a| 
[markdown]
--
The OpenID Connect authentication scope.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 302
a| Redirecting to Sync Gateway OpenID Connect callback URL
| 

| 403
a| The OpenID Connect unsupported config option `oidc_test_provider` is not enabled. To use this endpoint, this option must be enabled.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc_testing/authenticate/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc_testing/authenticate/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect mock login page
....
GET /{db}/_oidc_testing/authorize
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Show a mock OpenID Connect login page for the client to log in to.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*scope* +
_required_
a| 
[markdown]
--
The OpenID Connect authentication scope.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| 

| 400
a| A validation error occurred with the scope.
| xref:#++HTTP-Error++[]

| 403
a| The OpenID Connect unsupported config option `oidc_test_provider` is not enabled. To use this endpoint, this option must be enabled.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 500
a| An error occurred.
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc_testing/authorize/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc_testing/authorize/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect mock login page
....
POST /{db}/_oidc_testing/authorize
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Show a mock OpenID Connect login page for the client to log in to.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*scope* +
_required_
a| 
[markdown]
--
The OpenID Connect authentication scope.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| 

| 400
a| A validation error occurred with the scope.
| xref:#++HTTP-Error++[]

| 403
a| The OpenID Connect unsupported config option `oidc_test_provider` is not enabled. To use this endpoint, this option must be enabled.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 500
a| An error occurred.
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc_testing/authorize/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc_testing/authorize/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect public certificates for signing keys
....
GET /{db}/_oidc_testing/certs
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Return a mock OpenID Connect public key to be used as signing keys.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Returned public key successfully
| xref:#++__db___oidc_testing_certs_get_200_response++[]

| 403
a| The OpenID Connect unsupported config option `oidc_test_provider` is not enabled. To use this endpoint, this option must be enabled.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 500
a| An error occurred while getting the private RSA key
| xref:#++__db___facebook_post_401_response++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc_testing/certs/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc_testing/certs/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect mock token
....
POST /{db}/_oidc_testing/token
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Return a mock OpenID Connect token for the OIDC authentication flow.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| xref:#++DbOidcTestingTokenPostRequest++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Properties expected back from an OpenID Connect provider after successful authentication
| xref:#++OIDC-token++[]

| 400
a| Invalid token provided
| 

| 403
a| The OpenID Connect unsupported config option `oidc_test_provider` is not enabled. To use this endpoint, this option must be enabled.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc_testing/token/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc_testing/token/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect mock provider
....
GET /{db}/_oidc_testing/.well-known/openid-configuration
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Mock an OpenID Connect provider response for testing purposes. This returns a response that is the same structure as what Sync Gateway expects from an OIDC provider after initiating OIDC authentication.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully generated OpenID Connect provider mock response. 
| xref:#++__db___oidc_testing__well_known_openid_configuration_get_200_response++[]

| 403
a| The OpenID Connect unsupported config option `oidc_test_provider` is not enabled. To use this endpoint, this option must be enabled.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc_testing/.well-known/openid-configuration/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc_testing/.well-known/openid-configuration/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]



[#DatabaseManagement]
=== Database Management

Create and manage Sync Gateway databases



////
// Commenting out, as SGW Spec doesn't use operationID
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
////




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== /{db}/_ensure_full_commit
....
POST /{db}/_ensure_full_commit
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This endpoint is non-functional but is present for CouchDB compatibility.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 201
a| OK
| xref:#++__db___ensure_full_commit_post_201_response++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_ensure_full_commit/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_ensure_full_commit/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get database information
....
GET /{db}/
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Retrieve information about the database.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully returned database information
| xref:#++__db___get_200_response++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Check if database exists
....
HEAD /{db}/
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Check if a database exists by using the response status code.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Database exists
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get changes list
....
GET /{keyspace}/_changes
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request retrieves a sorted list of changes made to documents in the database, in time order of application. Each document appears at most once, ordered by its most recent change, regardless of how many times it has been changed.

This request can be used to listen for update and modifications to the database for post processing or synchronization. A continuously connected changes feed is a reasonable approach for generating a real-time log for most applications.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*limit* +
_optional_
a| 
[markdown]
--
Maximum number of changes to return.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


a| 
*since* +
_optional_
a| 
[markdown]
--
Starts the results from the change immediately after the given sequence ID. Sequence IDs should be considered opaque; they come from the last_seq property of a prior response.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*style* +
_optional_
a| 
[markdown]
--
Controls whether to return the current winning revision (`main_only`) or all the leaf revision including conflicts and deleted former conflicts (`all_docs`).

--

[%hardbreaks]
*Values:* `main_only`, `all_docs`
ifeval::["main_only" != "null"]
*Default:* `main_only`
endif::[]
// end

| String


a| 
*active_only* +
_optional_
a| 
[markdown]
--
Set true to exclude deleted documents and notifications for documents the user no longer has access to from the changes feed.

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


a| 
*include_docs* +
_optional_
a| 
[markdown]
--
Include the body associated with each document.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*revocations* +
_optional_
a| 
[markdown]
--
If true, revocation messages will be sent on the changes feed.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*filter* +
_optional_
a| 
[markdown]
--
Set a filter to either filter by channels or document IDs.

--

[%hardbreaks]
*Values:* `sync_gateway/bychannel`, `_doc_ids`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*channels* +
_optional_
a| 
[markdown]
--
A comma-separated list of channel names to filter the response to only the channels specified. To use this option, the `filter` query option must be set to `sync_gateway/bychannels`.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*doc_ids* +
_optional_
a| 
[markdown]
--
A valid JSON array of document IDs to filter the documents in the response to only the documents specified. To use this option, the `filter` query option must be set to `_doc_ids` and the `feed` parameter must be `normal`. Also accepts a comma separated list of document IDs instead.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String
List


a| 
*heartbeat* +
_optional_
a| 
[markdown]
--
The interval (in milliseconds) to send an empty line (CRLF) in the response. This is to help prevent gateways from deciding the socket is idle and therefore closing it. This is only applicable to `feed=longpoll` or `feed=continuous`. This will override any timeouts to keep the feed alive indefinitely. Setting to 0 results in no heartbeat. The maximum heartbeat can be set in the server replication configuration.

--

[%hardbreaks]
ifeval::["0" != "null"]
*Default:* `0`
endif::[]
*Minimum:* `25000`
// end

| Integer


a| 
*timeout* +
_optional_
a| 
[markdown]
--
This is the maximum period (in milliseconds) to wait for a change before the response is sent, even if there are no results. This is only applicable for `feed=longpoll` or `feed=continuous` changes feeds. Setting to 0 results in no timeout.

--

[%hardbreaks]
ifeval::["300000" != "null"]
*Default:* `300000`
endif::[]
*Minimum:* `0`
*Maximum:* `900000`
// end

| Integer


a| 
*feed* +
_optional_
a| 
[markdown]
--
The type of changes feed to use. 

--

[%hardbreaks]
*Values:* `normal`, `longpoll`, `continuous`, `websocket`
ifeval::["normal" != "null"]
*Default:* `normal`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully returned the changes feed
| xref:#++Changes-feed++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_changes/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_changes/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== /{db}/_changes
....
HEAD /{keyspace}/_changes
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--

--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]





// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| 

| 400
a| Bad Request
| 

| 404
a| Not Found
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_changes/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_changes/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get changes list
....
POST /{keyspace}/_changes
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request retrieves a sorted list of changes made to documents in the database, in time order of application. Each document appears at most once, ordered by its most recent change, regardless of how many times it has been changed.

This request can be used to listen for update and modifications to the database for post processing or synchronization. A continuously connected changes feed is a reasonable approach for generating a real-time log for most applications.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| xref:#++KeyspaceChangesPostRequest++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully returned the changes feed
| xref:#++Changes-feed++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_changes/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_changes/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Compare revisions to what is in the database
....
POST /{keyspace}/_revs_diff
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Takes a set of document IDs, each with a set of revision IDs. For each document, an array of unknown revisions are returned with an array of known revisions that may be recent ancestors.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| xref:#++KeyspaceRevsDiffPostRequest++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Comparisons successful
| xref:#++__keyspace___revs_diff_post_200_response++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_revs_diff/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_revs_diff/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Create DB public API stub
....
PUT /{targetdb}/
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
A stub that always returns an error on the Public API, for createTarget/CouchDB compatibility.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*targetdb* +
_required_
a| 
[markdown]
--
The database name to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]





// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 403
a| Database does not exist and cannot be created over the public API
| 

| 412
a| Database exists
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{targetdb}/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{targetdb\}/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]



[#Document]
=== Document

Create and manage documents



////
// Commenting out, as SGW Spec doesn't use operationID
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
////




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Gets all the documents in the database with the given parameters
....
GET /{keyspace}/_all_docs
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Returns all documents in the databased based on the specified parameters.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*include_docs* +
_optional_
a| 
[markdown]
--
Include the body associated with each document.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*channels* +
_optional_
a| 
[markdown]
--
Include the channels each document is part of that the calling user also has access too.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*access* +
_optional_
a| 
[markdown]
--
Include what user/roles that each document grants access too.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*revs* +
_optional_
a| 
[markdown]
--
Include all the revisions for each document under the `_revisions` property.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*update_seq* +
_optional_
a| 
[markdown]
--
Include the document sequence number `update_seq` property for each document.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*keys* +
_optional_
a| 
[markdown]
--
An array of document ID strings to filter by.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String
List


a| 
*startkey* +
_optional_
a| 
[markdown]
--
Return records starting with the specified key.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*endkey* +
_optional_
a| 
[markdown]
--
Stop returning records when this key is reached.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*limit* +
_optional_
a| 
[markdown]
--
This limits the number of result rows returned. Using a value of `0` has the same effect as the value `1`.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| BigDecimal


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Operation ran successfully
| xref:#++__keyspace___all_docs_get_200_response++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_all_docs/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_all_docs/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== /{db}/_all_docs
....
HEAD /{keyspace}/_all_docs
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--

--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*include_docs* +
_optional_
a| 
[markdown]
--
Include the body associated with each document.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*channels* +
_optional_
a| 
[markdown]
--
Include the channels each document is part of that the calling user also has access too.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*access* +
_optional_
a| 
[markdown]
--
Include what user/roles that each document grants access too.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*revs* +
_optional_
a| 
[markdown]
--
Include all the revisions for each document under the `_revisions` property.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*update_seq* +
_optional_
a| 
[markdown]
--
Include the document sequence number `update_seq` property for each document.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*keys* +
_optional_
a| 
[markdown]
--
An array of document ID strings to filter by.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String
List


a| 
*startkey* +
_optional_
a| 
[markdown]
--
Return records starting with the specified key.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*endkey* +
_optional_
a| 
[markdown]
--
Stop returning records when this key is reached.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*limit* +
_optional_
a| 
[markdown]
--
This limits the number of result rows returned. Using a value of `0` has the same effect as the value `1`.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| BigDecimal


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_all_docs/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_all_docs/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get all the documents in the database using a built-in view
....
POST /{keyspace}/_all_docs
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Get a built-in view of all the documents in the database.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| xref:#++KeyspaceAllDocsPostRequest++[]


|===



====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*include_docs* +
_optional_
a| 
[markdown]
--
Include the body associated with each document.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*channels* +
_optional_
a| 
[markdown]
--
Include the channels each document is part of that the calling user also has access too.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*access* +
_optional_
a| 
[markdown]
--
Include what user/roles that each document grants access too.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*revs* +
_optional_
a| 
[markdown]
--
Include all the revisions for each document under the `_revisions` property.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*update_seq* +
_optional_
a| 
[markdown]
--
Include the document sequence number `update_seq` property for each document.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*startkey* +
_optional_
a| 
[markdown]
--
Return records starting with the specified key.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*endkey* +
_optional_
a| 
[markdown]
--
Stop returning records when this key is reached.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*limit* +
_optional_
a| 
[markdown]
--
This limits the number of result rows returned. Using a value of `0` has the same effect as the value `1`.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| BigDecimal


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Operation ran successfully
| xref:#++__keyspace___all_docs_get_200_response++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_all_docs/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_all_docs/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Bulk document operations
....
POST /{keyspace}/_bulk_docs
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This will allow multiple documented to be created, updated or deleted in bulk.

To create a new document, simply add the body in an object under `docs`. A doc ID will be generated by Sync Gateway unless `_id` is specified.

To update an existing document, provide the document ID (`_id`) and revision ID (`_rev`) as well as the new body values.

To delete an existing document, provide the document ID (`_id`), revision ID (`_rev`), and set the deletion flag (`_deleted`) to true.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
ifeval::["{new_edits=true, docs=[{_id=FooBar, foo=bar}, {_id=AliceSettings, _rev=5-832a6db48ed130adadede928aee54576, FailedLoginAttempts=7}, {_id=BobSettings, _rev=1-fa76ba41ee5fdfee1b91fc478ed09e59, _deleted=true}]}" != "null"]
*Example:* `{new_edits=true, docs=[{_id=FooBar, foo=bar}, {_id=AliceSettings, _rev=5-832a6db48ed130adadede928aee54576, FailedLoginAttempts=7}, {_id=BobSettings, _rev=1-fa76ba41ee5fdfee1b91fc478ed09e59, _deleted=true}]}`
endif::[]
// end

| xref:#++KeyspaceBulkDocsPostRequest++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 201
a| Executed all operations.  Each object in the returned array represents a document. Each document should be checked to make sure it was successfully added to the database.
| Set

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_bulk_docs/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_bulk_docs/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get multiple documents in a MIME multipart response
....
POST /{keyspace}/_bulk_get
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request returns any number of documents, as individual bodies in a MIME multipart response.

Each enclosed body contains one requested document. The bodies appear in the same order as in the request, but can also be identified by their `X-Doc-ID` and `X-Rev-ID` headers (if the `attachments` query is `true`).

A body for a document with no attachments will have content type `application/json` and contain the document itself.

A body for a document that has attachments will be written as a nested `multipart/related` body.

--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
ifeval::["{docs=[{id=FooBar}, {id=attachment}, {id=AliceSettings}]}" != "null"]
*Example:* `{docs=[{id=FooBar}, {id=attachment}, {id=AliceSettings}]}`
endif::[]
// end

| xref:#++KeyspaceBulkGetPostRequest++[]


|===


====== Header Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*X-Accept-Part-Encoding* +
_optional_
a| 
[markdown]
--
If this header includes `gzip` then the part HTTP compression encoding will be done.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*Accept-Encoding* +
_optional_
a| 
[markdown]
--
If this header includes `gzip` then the the HTTP response will be compressed. This takes priority over `X-Accept-Part-Encoding`. Only part compression will be done if `X-Accept-Part-Encoding=gzip` and the `User-Agent` is below 1.2 due to clients not being able to handle full compression.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*attachments* +
_optional_
a| 
[markdown]
--
This is for whether to include attachments in each of the documents returned or not.

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


a| 
*revs* +
_optional_
a| 
[markdown]
--
Include all the revisions for each document under the `_revisions` property.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*revs_limit* +
_optional_
a| 
[markdown]
--
The number of revisions to include in the response from the document history. This parameter only makes a different if the `revs` query parameter is set to `true`. The full revision history will be returned if `revs` is set but this is not.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Returned the requested docs as `multipart/mixed` response type
| 

| 400
a| Bad Request
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_bulk_get/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_bulk_get/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Delete a document
....
DELETE /{keyspace}/{docid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Delete a document from the database. A new revision is created so the database can track the deletion in synchronized copies.

A revision ID either in the header or on the query parameters is required.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The document ID to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===



====== Header Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*If-Match* +
_optional_
a| 
[markdown]
--
The revision ID to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*rev* +
_optional_
a| 
[markdown]
--
The document revision to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| New revision created successfully
| xref:#++New-revision++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/{docid}/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/\{docid\}/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get a document
....
GET /{keyspace}/{docid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Retrieve a document from the database by its doc ID.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The document ID to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*rev* +
_optional_
a| 
[markdown]
--
The document revision to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*open_revs* +
_optional_
a| 
[markdown]
--
Option to fetch specified revisions of the document. The value can be all to fetch all leaf revisions or an array of revision numbers (i.e. open_revs=["rev1", "rev2"]). Only leaf revision bodies that haven't been pruned are guaranteed to be returned. If this option is specified the response will be in multipart format. Use the `Accept: application/json` request header to get the result as a JSON object.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String
List


a| 
*show_exp* +
_optional_
a| 
[markdown]
--
Whether to show the expiry property (`_exp`) in the response.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*revs_from* +
_optional_
a| 
[markdown]
--
Trim the revision history to stop at the first revision in the provided list. If no match is found, the revisions will be trimmed to the `revs_limit`.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String
List


a| 
*atts_since* +
_optional_
a| 
[markdown]
--
Include attachments only since specified revisions. Excludes the attachments for the specified revisions. Only gets used if `attachments=true`.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String
List


a| 
*revs_limit* +
_optional_
a| 
[markdown]
--
Maximum amount of revisions to return for each document.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


a| 
*attachments* +
_optional_
a| 
[markdown]
--
Include attachment bodies in response.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*replicator2* +
_optional_
a| 
[markdown]
--
Returns the document with the required properties for replication. This is an enterprise-edition only feature.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Document found and returned successfully
| xref:#++__keyspace___docid__get_200_response++[]

| 400
a| Document ID is not in an allowed format therefore is invalid.  This could be because it is over 250 characters or is prefixed with an underscore (\"_\").
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 501
a| Not Implemented. It is likely this error was caused due to trying to use an enterprise-only feature on the community edition.
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/{docid}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/\{docid\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Check if a document exists
....
HEAD /{keyspace}/{docid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Return a status code based on if the document exists or not.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The document ID to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*rev* +
_optional_
a| 
[markdown]
--
The document revision to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*open_revs* +
_optional_
a| 
[markdown]
--
Option to fetch specified revisions of the document. The value can be all to fetch all leaf revisions or an array of revision numbers (i.e. open_revs=["rev1", "rev2"]). Only leaf revision bodies that haven't been pruned are guaranteed to be returned. If this option is specified the response will be in multipart format. Use the `Accept: application/json` request header to get the result as a JSON object.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String
List


a| 
*show_exp* +
_optional_
a| 
[markdown]
--
Whether to show the expiry property (`_exp`) in the response.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*revs_from* +
_optional_
a| 
[markdown]
--
Trim the revision history to stop at the first revision in the provided list. If no match is found, the revisions will be trimmed to the `revs_limit`.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String
List


a| 
*atts_since* +
_optional_
a| 
[markdown]
--
Include attachments only since specified revisions. Excludes the attachments for the specified revisions. Only gets used if `attachments=true`.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String
List


a| 
*revs_limit* +
_optional_
a| 
[markdown]
--
Maximum amount of revisions to return for each document.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


a| 
*attachments* +
_optional_
a| 
[markdown]
--
Include attachment bodies in response.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*replicator2* +
_optional_
a| 
[markdown]
--
Returns the document with the required properties for replication. This is an enterprise-edition only feature.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Document exists
| 

| 400
a| Document ID is not in an allowed format therefore is invalid.  This could be because it is over 250 characters or is prefixed with an underscore (\"_\").
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/{docid}/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/\{docid\}/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Upsert a document
....
PUT /{keyspace}/{docid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This will upsert a document meaning if it does not exist, then it will be created. Otherwise a new revision will be made for the existing document. A revision ID must be provided if targetting an existing document.

A document ID must be specified for this endpoint. To let Sync Gateway generate the ID, use the `POST /{db}/` endpoint.

If a document does exist, then replace the document content with the request body. This means unspecified fields will be removed in the new revision.

The maximum size for a document is 20MB.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The document ID to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| oas_any_type_not_mapped
Map


|===


====== Header Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*If-Match* +
_optional_
a| 
[markdown]
--
The revision ID to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*roundtrip* +
_optional_
a| 
[markdown]
--
Block until document has been received by change cache

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*replicator2* +
_optional_
a| 
[markdown]
--
Returns the document with the required properties for replication. This is an enterprise-edition only feature.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*new_edits* +
_optional_
a| 
[markdown]
--
Setting this to false indicates that the request body is an already-existing revision that should be directly inserted into the database, instead of a modification to apply to the current document. This mode is used for replication.  This option must be used in conjunction with the `_revisions` property in the request body.

--

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
// end

| Boolean


a| 
*rev* +
_optional_
a| 
[markdown]
--
The document revision to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 201
a| Created
| xref:#++New-revision++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 409
a| Resource already exists under that name
| xref:#++HTTP-Error++[]

| 415
a| Invalid content type
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/{docid}/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/\{docid\}/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Delete a local document
....
DELETE /{keyspace}/_local/{docid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request deletes a local document.

Local document IDs begin with `_local/`. Local documents are not replicated or indexed, don't support attachments, and don't save revision histories. In practice they are almost only used by Couchbase Lite's replicator, as a place to store replication checkpoint data.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The name of the local document ID excluding the `_local/` prefix.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*rev* +
_required_
a| 
[markdown]
--
The revision ID of the revision to delete.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully removed the local document.
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 409
a| A revision ID conflict would result from deleting this document revision.
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_local/{docid}/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_local/\{docid\}/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get local document
....
GET /{keyspace}/_local/{docid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request retrieves a local document.

Local document IDs begin with `_local/`. Local documents are not replicated or indexed, don't support attachments, and don't save revision histories. In practice they are almost only used by Couchbase Lite's replicator, as a place to store replication checkpoint data.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The name of the local document ID excluding the `_local/` prefix.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully found local document
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_local/{docid}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_local/\{docid\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Check if local document exists
....
HEAD /{keyspace}/_local/{docid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request checks if a local document exists.

Local document IDs begin with `_local/`. Local documents are not replicated or indexed, don't support attachments, and don't save revision histories. In practice they are almost only used by Couchbase Lite's replicator, as a place to store replication checkpoint data.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The name of the local document ID excluding the `_local/` prefix.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Document exists
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_local/{docid}/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_local/\{docid\}/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Upsert a local document
....
PUT /{keyspace}/_local/{docid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request creates or updates a local document. Updating a local document requires that the revision ID be put in the body under `_rev`.

Local document IDs are given a `_local/` prefix. Local documents are not replicated or indexed, don't support attachments, and don't save revision histories. In practice they are almost only used by the client's replicator, as a place to store replication checkpoint data.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The name of the local document ID excluding the `_local/` prefix.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

The body of the document
--

[%hardbreaks]
// end

| xref:#++KeyspaceLocalDocidPutRequest++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 201
a| Document successfully written. The document ID will be prefixed with `_local/`.
| xref:#++New-revision++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 409
a| A revision ID conflict would result from updating this document revision.
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_local/{docid}/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_local/\{docid\}/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Create a new document
....
POST /{keyspace}/
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Create a new document in the keyspace.

This will generate a random document ID unless specified in the body.

A document can have a maximum size of 20MB.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| oas_any_type_not_mapped
Map


|===



====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*roundtrip* +
_optional_
a| 
[markdown]
--
Block until document has been received by change cache

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| New document revision created successfully.
| xref:#++New-revision++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 409
a| Resource already exists under that name
| xref:#++HTTP-Error++[]

| 415
a| Invalid content type
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]



[#DocumentAttachment]
=== Document Attachment

Create and manage document attachments



////
// Commenting out, as SGW Spec doesn't use operationID
* <<>>
* <<>>
* <<>>
* <<>>
////




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Delete an attachment on a document
....
DELETE /{keyspace}/{docid}/{attach}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request deletes an attachment associated with the document.

If the attachment exists, the attachment will be removed from the document.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The document ID to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*attach* +
_required_
a| 
[markdown]
--
The attachment name. This value must be URL encoded. For example, if the attachment name is `blob_/avatar`, the path component passed to the URL should be `blob_%2Favatar` (tested with [URLEncoder](https://www.urlencoder.org/)).

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===



====== Header Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*If-Match* +
_optional_
a| 
[markdown]
--
An alternative way of specifying the document revision ID.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*rev* +
_optional_
a| 
[markdown]
--
The existing document revision ID to modify.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Attachment removed from the document successfully
| xref:#++New-revision++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 409
a| Resource already exists under that name
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/{docid}/{attach}/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/\{docid\}/\{attach\}/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get an attachment from a document
....
GET /{keyspace}/{docid}/{attach}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request retrieves a file attachment associated with the document.

The raw data of the associated attachment is returned (just as if you were accessing a static file). The `Content-Type` response header is the same content type set when the document attachment was added to the database. The `Content-Disposition` response header will be set if the content type is considered unsafe to display in a browser (unless overridden by by database config option `serve_insecure_attachment_types`) which will force the attachment to be downloaded.

If the `meta` query parameter is set then the response will be in JSON with the additional metadata tags.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The document ID to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*attach* +
_required_
a| 
[markdown]
--
The attachment name. This value must be URL encoded. For example, if the attachment name is `blob_/avatar`, the path component passed to the URL should be `blob_%2Favatar` (tested with [URLEncoder](https://www.urlencoder.org/)).

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===



====== Header Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Range* +
_optional_
a| 
[markdown]
--
RFC-2616 bytes range header.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*rev* +
_optional_
a| 
[markdown]
--
The document revision to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*content_encoding* +
_optional_
a| 
[markdown]
--
Set to false to disable the `Content-Encoding` response header.

--

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
// end

| Boolean


a| 
*meta* +
_optional_
a| 
[markdown]
--
Return only the metadata of the attachment in the response body.

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Found attachment successfully.
| 

| 206
a| Partial attachment content returned
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 416
a| Requested range exceeds content length
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/{docid}/{attach}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/\{docid\}/\{attach\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Check if attachment exists
....
HEAD /{keyspace}/{docid}/{attach}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request check if the attachment exists on the specified document.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The document ID to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*attach* +
_required_
a| 
[markdown]
--
The attachment name. This value must be URL encoded. For example, if the attachment name is `blob_/avatar`, the path component passed to the URL should be `blob_%2Favatar` (tested with [URLEncoder](https://www.urlencoder.org/)).

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*rev* +
_optional_
a| 
[markdown]
--
The document revision to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| The document exists and the attachment exists on the document.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/{docid}/{attach}/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/\{docid\}/\{attach\}/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Create or update an attachment on a document
....
PUT /{keyspace}/{docid}/{attach}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request adds or updates an attachment associated with the document. If the document does not exist, it will be created and the attachment will be added to it.

If the attachment already exists, the data of the existing attachment will be replaced in the new revision.

The maximum content size of an attachment is 20MB. The `Content-Type` header of the request specifies the content type of the attachment.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The document ID to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*attach* +
_required_
a| 
[markdown]
--
The attachment name. This value must be URL encoded. For example, if the attachment name is `blob_/avatar`, the path component passed to the URL should be `blob_%2Favatar` (tested with [URLEncoder](https://www.urlencoder.org/)).

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

The attachment data
--

[%hardbreaks]
ifeval::["body_example" != "null"]
*Example:* `body_example`
endif::[]
// end

| String


|===


====== Header Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Content-Type* +
_optional_
a| 
[markdown]
--
The content type of the attachment.

--

[%hardbreaks]
ifeval::["application/octet-stream" != "null"]
*Default:* `application/octet-stream`
endif::[]
// end

| String


a| 
*If-Match* +
_optional_
a| 
[markdown]
--
An alternative way of specifying the document revision ID.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*rev* +
_optional_
a| 
[markdown]
--
The existing document revision ID to modify. Required only when modifying an existing document.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* Attachment content type


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 201
a| Attachment added to new or existing document successfully
| xref:#++New-revision++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 409
a| Resource already exists under that name
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/{docid}/{attach}/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/\{docid\}/\{attach\}/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]



[#PublicOnlyEndpoints]
=== Public only endpoints

Endpoints that are unique to the Public API (port 4984)



////
// Commenting out, as SGW Spec doesn't use operationID
* <<>>
* <<>>
////




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Log out
....
DELETE /{db}/_session
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Invalidates the session for the currently authenticated user and removes their session cookie.

If CORS is enabled, the origin must match an allowed login origin otherwise an error will be returned.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully removed session (logged out)
| 

| 400
a| Bad Request
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_session/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_session/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Create DB public API stub
....
PUT /{targetdb}/
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
A stub that always returns an error on the Public API, for createTarget/CouchDB compatibility.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*targetdb* +
_required_
a| 
[markdown]
--
The database name to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]





// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 403
a| Database does not exist and cannot be created over the public API
| 

| 412
a| Database exists
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{targetdb}/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{targetdb\}/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]



[#Replication]
=== Replication

Create and manage inter-Sync Gateway replications



////
// Commenting out, as SGW Spec doesn't use operationID
* <<>>
////




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Handle incoming BLIP Sync web socket request
....
GET /{db}/_blipsync
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This handles incoming BLIP Sync requests from either Couchbase Lite or another Sync Gateway node. The connection has to be upgradable to a websocket connection or else the request will fail.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*client* +
_optional_
a| 
[markdown]
--
This is the client type that is making the BLIP Sync request. Used to control client-type specific replication behaviour.

--

[%hardbreaks]
*Values:* `cbl2`, `sgr2`
ifeval::["cbl2" != "null"]
*Default:* `cbl2`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 101
a| Upgraded to a web socket connection
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 426
a| Cannot upgrade connection to a web socket connection
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_blipsync/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_blipsync/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]



[#Server]
=== Server

Manage server activities



////
// Commenting out, as SGW Spec doesn't use operationID
* <<>>
* <<>>
////




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get server information
....
GET /
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Returns information about the Sync Gateway node.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]









// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Returned server information
| xref:#++NodeInfo++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Check if server online
....
HEAD /
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Check if the server is online by checking the status code of response.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]









// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]





// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Server is online
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]



[#Session]
=== Public only endpoints

Endpoints that are unique to the Public API (port 4984)



////
// Commenting out, as SGW Spec doesn't use operationID
* <<>>
* <<>>
* <<>>
* <<>>
////




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Log out
....
DELETE /{db}/_session
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Invalidates the session for the currently authenticated user and removes their session cookie.

If CORS is enabled, the origin must match an allowed login origin otherwise an error will be returned.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully removed session (logged out)
| 

| 400
a| Bad Request
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_session/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_session/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get information about the current user
....
GET /{db}/_session
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This will get the information about the current user.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Properties associated with a user session
| xref:#++User-session-information++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_session/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_session/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== /{db}/_session
....
HEAD /{db}/_session
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--

--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_session/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_session/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Create a new user session
....
POST /{db}/_session
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Generates a login session for the user based on the credentials provided in the request body or if that fails (due to invalid credentials or none provided at all), generates the new session for the currently authenticated user instead. On a successful session creation, a session cookie is stored to keep the user authenticated for future API calls.

If CORS is enabled, the origin must match an allowed login origin otherwise an error will be returned.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

The body can depend on if using the Public or Admin APIs.
--

[%hardbreaks]
// end

| xref:#++DbSessionPostRequest++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Session created successfully. Returned body is dependant on if using Public or Admin APIs
| xref:#++__db___session_post_200_response++[]

| 400
a| Origin is not in the approved list of allowed origins
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_session/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_session/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]



[#Unsupported]
=== Unsupported

Endpoints that are not supported by Sync Gateway



////
// Commenting out, as SGW Spec doesn't use operationID
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
////




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Delete a design document | Unsupported
....
DELETE /{db}/_design/{ddoc}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
**This is unsupported**

Delete a design document.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*ddoc* +
_required_
a| 
[markdown]
--
The design document name.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Design document deleted successfully
| 

| 403
a| Forbidden access possibly due to not using the Admin API or the design document is a built-in Sync Gateway one.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_design/{ddoc}/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_design/\{ddoc\}/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get views of a design document | Unsupported
....
GET /{db}/_design/{ddoc}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
**This is unsupported**

Query a design document.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*ddoc* +
_required_
a| 
[markdown]
--
The design document name.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully returned design document.
| xref:#++Design-doc++[]

| 403
a| Forbidden access possibly due to not using the Admin API or the design document is a built-in Sync Gateway one.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_design/{ddoc}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_design/\{ddoc\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Check if view of design document exists | Unsupported
....
HEAD /{db}/_design/{ddoc}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
**This is unsupported**

Check if a design document can be queried.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*ddoc* +
_required_
a| 
[markdown]
--
The design document name.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Design document exists
| 

| 403
a| Forbidden access possibly due to not using the Admin API or the design document is a built-in Sync Gateway one.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_design/{ddoc}/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_design/\{ddoc\}/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Update views of a design document | Unsupported
....
PUT /{db}/_design/{ddoc}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
**This is unsupported**

Update the views of a design document.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*ddoc* +
_required_
a| 
[markdown]
--
The design document name.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| xref:#++DesignDoc++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Design document changes successfully
| 

| 403
a| Forbidden access possibly due to not using the Admin API or the design document is a built-in Sync Gateway one.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_design/{ddoc}/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_design/\{ddoc\}/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Query a view on a design document | Unsupported
....
GET /{db}/_design/{ddoc}/_view/{view}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
**This is unsupported**

Query a view on a design document.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*ddoc* +
_required_
a| 
[markdown]
--
The design document name.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*view* +
_required_
a| 
[markdown]
--
The view to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*inclusive_end* +
_optional_
a| 
[markdown]
--
Indicates whether the specified end key should be included in the result.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*descending* +
_optional_
a| 
[markdown]
--
Return documents in descending order.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*include_docs* +
_optional_
a| 
[markdown]
--
Only works when using Couchbase Server 3.0 and earlier. Indicates whether to include the full content of the documents in the response.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*reduce* +
_optional_
a| 
[markdown]
--
Whether to execute a reduce function on the response or not.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*group* +
_optional_
a| 
[markdown]
--
Group the results using the reduce function to a group or single row.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*skip* +
_optional_
a| 
[markdown]
--
Skip the specified number of documents before starting to return results.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


a| 
*limit* +
_optional_
a| 
[markdown]
--
Return only the specified number of documents

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


a| 
*group_level* +
_optional_
a| 
[markdown]
--
Specify the group level to be used.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


a| 
*startkey_docid* +
_optional_
a| 
[markdown]
--
Return documents starting with the specified document identifier.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*endkey_docid* +
_optional_
a| 
[markdown]
--
Stop returning records when the specified document identifier is reached.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*stale* +
_optional_
a| 
[markdown]
--
Allow the results from a stale view to be used, without triggering a rebuild of all views within the encompassing design document.

--

[%hardbreaks]
*Values:* `ok`, `update_after`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*startkey* +
_optional_
a| 
[markdown]
--
Return records starting with the specified key.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*endkey* +
_optional_
a| 
[markdown]
--
Stop returning records when this key is reached.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*key* +
_optional_
a| 
[markdown]
--
Return only the document that matches the specified key.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*keys* +
_optional_
a| 
[markdown]
--
An array of document ID strings to filter by.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String
List


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Returned view successfully
| xref:#++__db___design__ddoc___view__view__get_200_response++[]

| 403
a| Forbidden
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_design/{ddoc}/_view/{view}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_design/\{ddoc\}/_view/\{view\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/document-before.adoc[opts=optional]


[#models]
== Definitions

:desc-Changes-feed: Properties of a changes feed
:desc-__db___session_post_200_response_userCtx_channels_value: The channel name (as the key) and the channel sequence number the user was granted access to that channel.
:desc-Design-doc: Properties of a design document
:desc-Design_doc_views_additionalProperties: The name of the view.
:desc-Document: The configurable Sync Gateway properties of a document.
:desc-Document__attachments_value: The name of the attachment.
:desc-__keyspace___revs_diff_post_200_response_docid: The document ID.
:desc-New-revision: Properties returned when a new document revision is created
:desc-NodeInfo_vendor: Product vendor
:desc-OIDC-login-page-handler: Properties passed from the OpenID Connect mock login page to the handler
:desc-OIDC-token: Properties expected back from an OpenID Connect provider after successful authentication


// markup not found, no include::{specDir}definitions/document-begin.adoc[opts=optional]


This section describes the properties consumed and returned by this REST API.

* xref:#++Changes-feed++[]
* xref:#++Changes_feed_results_inner++[]
* xref:#++Changes_feed_results_inner_changes_inner++[]
* xref:#++__db___design__ddoc___view__view__get_200_response++[]
* xref:#++__db___design__ddoc___view__view__get_200_response_errors_inner++[]
* xref:#++__db___design__ddoc___view__view__get_200_response_rows_inner++[]
* xref:#++__db___ensure_full_commit_post_201_response++[]
* xref:#++__db___facebook_post_401_response++[]
* xref:#++__db___facebook_post_request++[]
* xref:#++__db___get_200_response++[]
* xref:#++__db___google_post_request++[]
* xref:#++__db___oidc_testing_certs_get_200_response++[]
* xref:#++__db___oidc_testing_certs_get_200_response_keys_inner++[]
* xref:#++__db___oidc_testing_token_post_request++[]
* xref:#++__db___oidc_testing__well_known_openid_configuration_get_200_response++[]
* xref:#++__db___session_post_200_response++[]
* xref:#++__db___session_post_200_response_userCtx++[]
* xref:#++__db___session_post_200_response_userCtx_channels_value++[]
* xref:#++__db___session_post_request++[]
* xref:#++Design-doc++[]
* xref:#++Design_doc_options++[]
* xref:#++Design_doc_views++[]
* xref:#++Design_doc_views_additionalProperties++[]
* xref:#++Document++[]
* xref:#++Document__attachments_value++[]
* xref:#++Document__revisions++[]
* xref:#++HTTP-Error++[]
* xref:#++__keyspace___all_docs_get_200_response++[]
* xref:#++__keyspace___all_docs_get_200_response_rows_inner++[]
* xref:#++__keyspace___all_docs_get_200_response_rows_inner_value++[]
* xref:#++__keyspace___all_docs_post_request++[]
* xref:#++__keyspace___bulk_docs_post_201_response_inner++[]
* xref:#++__keyspace___bulk_docs_post_request++[]
* xref:#++__keyspace___bulk_get_post_request++[]
* xref:#++__keyspace___bulk_get_post_request_docs_inner++[]
* xref:#++__keyspace___changes_post_request++[]
* xref:#++__keyspace___docid__get_200_response++[]
* xref:#++__keyspace___local__docid__put_request++[]
* xref:#++__keyspace___revs_diff_post_200_response++[]
* xref:#++__keyspace___revs_diff_post_200_response_docid++[]
* xref:#++__keyspace___revs_diff_post_request++[]
* xref:#++New-revision++[]
* xref:#++NodeInfo++[]
* xref:#++NodeInfo_vendor++[]
* xref:#++OIDC-callback++[]
* xref:#++OIDC-login-page-handler++[]
* xref:#++OIDC-token++[]
* xref:#++User-session-information++[]
* xref:#++User_session_information_userCtx++[]



// markup not found, no include::{specDir}definitions/Changes-feed/definition-before.adoc[opts=optional]


[#Changes-feed]
=== ChangesFeed


// markup not found, no include::{specDir}definitions/Changes-feed/definition-begin.adoc[opts=optional]


[#fields-Changes-feed]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *results* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Changes_feed_results_inner++[]
Set


a| *last_seq* +
_optional_
a| The last change sequence number.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/Changes-feed/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Changes-feed/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Changes_feed_results_inner/definition-before.adoc[opts=optional]


[#Changes_feed_results_inner]
=== ChangesFeedResultsInner


// markup not found, no include::{specDir}definitions/Changes_feed_results_inner/definition-begin.adoc[opts=optional]


[#fields-Changes_feed_results_inner]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *seq* +
_optional_
a| The change sequence number.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *id* +
_optional_
a| The document ID the change happened on.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *changes* +
_optional_
a| List of document leafs with each leaf containing only a `rev` field.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Changes_feed_results_inner_changes_inner++[]
Set


|===


// markup not found, no include::{specDir}definitions/Changes_feed_results_inner/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Changes_feed_results_inner/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Changes_feed_results_inner_changes_inner/definition-before.adoc[opts=optional]


[#Changes_feed_results_inner_changes_inner]
=== ChangesFeedResultsInnerChangesInner


// markup not found, no include::{specDir}definitions/Changes_feed_results_inner_changes_inner/definition-begin.adoc[opts=optional]


[#fields-Changes_feed_results_inner_changes_inner]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *rev* +
_optional_
a| The new revision that was caused by that change.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/Changes_feed_results_inner_changes_inner/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Changes_feed_results_inner_changes_inner/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___design__ddoc___view__view__get_200_response/definition-before.adoc[opts=optional]


[#__db___design__ddoc___view__view__get_200_response]
=== DbDesignDdocViewViewGet200Response


// markup not found, no include::{specDir}definitions/__db___design__ddoc___view__view__get_200_response/definition-begin.adoc[opts=optional]


[#fields-__db___design__ddoc___view__view__get_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *total_rows* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *rows* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__db___design__ddoc___view__view__get_200_response_rows_inner++[]
List


a| *errors* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__db___design__ddoc___view__view__get_200_response_errors_inner++[]
List


|===


// markup not found, no include::{specDir}definitions/__db___design__ddoc___view__view__get_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___design__ddoc___view__view__get_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___design__ddoc___view__view__get_200_response_errors_inner/definition-before.adoc[opts=optional]


[#__db___design__ddoc___view__view__get_200_response_errors_inner]
=== DbDesignDdocViewViewGet200ResponseErrorsInner


// markup not found, no include::{specDir}definitions/__db___design__ddoc___view__view__get_200_response_errors_inner/definition-begin.adoc[opts=optional]


[#fields-__db___design__ddoc___view__view__get_200_response_errors_inner]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *From* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *Reason* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__db___design__ddoc___view__view__get_200_response_errors_inner/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___design__ddoc___view__view__get_200_response_errors_inner/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___design__ddoc___view__view__get_200_response_rows_inner/definition-before.adoc[opts=optional]


[#__db___design__ddoc___view__view__get_200_response_rows_inner]
=== DbDesignDdocViewViewGet200ResponseRowsInner


// markup not found, no include::{specDir}definitions/__db___design__ddoc___view__view__get_200_response_rows_inner/definition-begin.adoc[opts=optional]


[#fields-__db___design__ddoc___view__view__get_200_response_rows_inner]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *id* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *key* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *value* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *doc* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


|===


// markup not found, no include::{specDir}definitions/__db___design__ddoc___view__view__get_200_response_rows_inner/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___design__ddoc___view__view__get_200_response_rows_inner/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___ensure_full_commit_post_201_response/definition-before.adoc[opts=optional]


[#__db___ensure_full_commit_post_201_response]
=== DbEnsureFullCommitPost201Response


// markup not found, no include::{specDir}definitions/__db___ensure_full_commit_post_201_response/definition-begin.adoc[opts=optional]


[#fields-__db___ensure_full_commit_post_201_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *instance_start_time* +
_optional_
a| Timestamp of when the database opened, in microseconds since the Unix epoch.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["1644600082279583" != "null"]
*Example:* `1644600082279583`
endif::[]
// end
| Integer


a| *ok* +
_optional_
a| 

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
ifeval::["true" != "null"]
*Example:* `true`
endif::[]
// end
| Boolean


|===


// markup not found, no include::{specDir}definitions/__db___ensure_full_commit_post_201_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___ensure_full_commit_post_201_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___facebook_post_401_response/definition-before.adoc[opts=optional]


[#__db___facebook_post_401_response]
=== DbFacebookPost401Response


// markup not found, no include::{specDir}definitions/__db___facebook_post_401_response/definition-begin.adoc[opts=optional]


[#fields-__db___facebook_post_401_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *error* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *reason* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__db___facebook_post_401_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___facebook_post_401_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___facebook_post_request/definition-before.adoc[opts=optional]


[#__db___facebook_post_request]
=== DbFacebookPostRequest


// markup not found, no include::{specDir}definitions/__db___facebook_post_request/definition-begin.adoc[opts=optional]


[#fields-__db___facebook_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *access_token* +
_required_
a| Facebook access token to base the new session on.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__db___facebook_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___facebook_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___get_200_response/definition-before.adoc[opts=optional]


[#__db___get_200_response]
=== DbGet200Response


// markup not found, no include::{specDir}definitions/__db___get_200_response/definition-begin.adoc[opts=optional]


[#fields-__db___get_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *db_name* +
_optional_
a| Database name

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["db" != "null"]
*Example:* `db`
endif::[]
// end
| String


a| *update_seq* +
_optional_
a| The last sequence number that was committed to the database.

Will return 0 if the database is offline.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["123456" != "null"]
*Example:* `123456`
endif::[]
// end
| Integer


a| *committed_update_seq* +
_optional_
a| The last sequence number that was committed to the database.

Will return 0 if the database is offline.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["123456" != "null"]
*Example:* `123456`
endif::[]
// end
| Integer


a| *instance_start_time* +
_optional_
a| Timestamp of when the database opened, in microseconds since the Unix epoch.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["1644600082279583" != "null"]
*Example:* `1644600082279583`
endif::[]
// end
| Integer


a| *compact_running* +
_optional_
a| Indicates whether database compaction is currently taking place or not.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *purge_seq* +
_optional_
a| Unused field.

[%hardbreaks]
ifeval::["0" != "null"]
*Default:* `0`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *disk_format_version* +
_optional_
a| Unused field.

[%hardbreaks]
ifeval::["0" != "null"]
*Default:* `0`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *state* +
_optional_
a| The database state. Change using the `/{db}/_offline` and `/{db}/_online` endpoints.

[%hardbreaks]
*Values:* `Online`, `Offline`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *server_uuid* +
_optional_
a| Unique server identifier.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["995618a6a6cc9ac79731bd13240e19b5" != "null"]
*Example:* `995618a6a6cc9ac79731bd13240e19b5`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__db___get_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___get_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___google_post_request/definition-before.adoc[opts=optional]


[#__db___google_post_request]
=== DbGooglePostRequest


// markup not found, no include::{specDir}definitions/__db___google_post_request/definition-begin.adoc[opts=optional]


[#fields-__db___google_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *id_token* +
_required_
a| Google ID token to base the new session on.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__db___google_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___google_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___oidc_testing_certs_get_200_response/definition-before.adoc[opts=optional]


[#__db___oidc_testing_certs_get_200_response]
=== DbOidcTestingCertsGet200Response


// markup not found, no include::{specDir}definitions/__db___oidc_testing_certs_get_200_response/definition-begin.adoc[opts=optional]


[#fields-__db___oidc_testing_certs_get_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *keys* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__db___oidc_testing_certs_get_200_response_keys_inner++[]
List


|===


// markup not found, no include::{specDir}definitions/__db___oidc_testing_certs_get_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___oidc_testing_certs_get_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___oidc_testing_certs_get_200_response_keys_inner/definition-before.adoc[opts=optional]


[#__db___oidc_testing_certs_get_200_response_keys_inner]
=== DbOidcTestingCertsGet200ResponseKeysInner


// markup not found, no include::{specDir}definitions/__db___oidc_testing_certs_get_200_response_keys_inner/definition-begin.adoc[opts=optional]


[#fields-__db___oidc_testing_certs_get_200_response_keys_inner]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *Key* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *KeyID* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *Use* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *Certificates* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object
List


a| *Algorithm* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__db___oidc_testing_certs_get_200_response_keys_inner/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___oidc_testing_certs_get_200_response_keys_inner/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___oidc_testing_token_post_request/definition-before.adoc[opts=optional]


[#__db___oidc_testing_token_post_request]
=== DbOidcTestingTokenPostRequest


// markup not found, no include::{specDir}definitions/__db___oidc_testing_token_post_request/definition-begin.adoc[opts=optional]


[#fields-__db___oidc_testing_token_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *grant_type* +
_required_
a| The grant type of the token to request. Can either be an `authorization_code` or `refresh_token`.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *code* +
_optional_
a| **`grant_type=authorization_code` only**: The OpenID Connect authentication token.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *refresh_token* +
_optional_
a| **`grant_type=refresh_token` only**: The OpenID Connect refresh token.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__db___oidc_testing_token_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___oidc_testing_token_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___oidc_testing__well_known_openid_configuration_get_200_response/definition-before.adoc[opts=optional]


[#__db___oidc_testing__well_known_openid_configuration_get_200_response]
=== DbOidcTestingWellKnownOpenidConfigurationGet200Response


// markup not found, no include::{specDir}definitions/__db___oidc_testing__well_known_openid_configuration_get_200_response/definition-begin.adoc[opts=optional]


[#fields-__db___oidc_testing__well_known_openid_configuration_get_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *issuer* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *authorization_endpoint* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *token_endpoint* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *jwks_uri* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *userinfo_endpoint* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *id_token_signing_alg_values_supported* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *response_types_supported* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *subject_types_supported* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *scopes_supported* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *claims_supported* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *token_endpoint_auth_methods_supported* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__db___oidc_testing__well_known_openid_configuration_get_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___oidc_testing__well_known_openid_configuration_get_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___session_post_200_response/definition-before.adoc[opts=optional]


[#__db___session_post_200_response]
=== DbSessionPost200Response


// markup not found, no include::{specDir}definitions/__db___session_post_200_response/definition-begin.adoc[opts=optional]


[#fields-__db___session_post_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *authentication_handlers* +
_required_
a| Used for CouchDB compatability. Always contains "default" and "cookie".

[%hardbreaks]
*Values:* 
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *ok* +
_required_
a| Used for CouchDB compatability. Always true.

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *userCtx* +
_required_
a| 
ifdef::desc-__db___session_post_200_response_userCtx[]
{desc-__db___session_post_200_response_userCtx}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__db___session_post_200_response_userCtx++[]


|===


// markup not found, no include::{specDir}definitions/__db___session_post_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___session_post_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___session_post_200_response_userCtx/definition-before.adoc[opts=optional]


[#__db___session_post_200_response_userCtx]
=== DbSessionPost200ResponseUserCtx


// markup not found, no include::{specDir}definitions/__db___session_post_200_response_userCtx/definition-begin.adoc[opts=optional]


[#fields-__db___session_post_200_response_userCtx]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *channels* +
_required_
a| A map of the channels the user is in along with the sequence number the user was granted access.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__db___session_post_200_response_userCtx_channels_value++[]
Map


a| *name* +
_required_
a| The name of the user.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__db___session_post_200_response_userCtx/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___session_post_200_response_userCtx/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___session_post_200_response_userCtx_channels_value/definition-before.adoc[opts=optional]


[#__db___session_post_200_response_userCtx_channels_value]
=== DbSessionPost200ResponseUserCtxChannelsValue


// markup not found, no include::{specDir}definitions/__db___session_post_200_response_userCtx_channels_value/definition-begin.adoc[opts=optional]


One of the following:

* BigDecimal

* String



// markup not found, no include::{specDir}definitions/__db___session_post_200_response_userCtx_channels_value/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___session_post_200_response_userCtx_channels_value/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___session_post_request/definition-before.adoc[opts=optional]


[#__db___session_post_request]
=== DbSessionPostRequest


// markup not found, no include::{specDir}definitions/__db___session_post_request/definition-begin.adoc[opts=optional]


[#fields-__db___session_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *name* +
_optional_
a| User name to generate the session for.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *password* +
_optional_
a| Password of the user to generate the session for.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__db___session_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___session_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Design-doc/definition-before.adoc[opts=optional]


[#Design-doc]
=== DesignDoc


// markup not found, no include::{specDir}definitions/Design-doc/definition-begin.adoc[opts=optional]


[#fields-Design-doc]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *language* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *views* +
_optional_
a| 
ifdef::desc-Design_doc_views[]
{desc-Design_doc_views}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Design_doc_views++[]


a| *options* +
_optional_
a| 
ifdef::desc-Design_doc_options[]
{desc-Design_doc_options}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Design_doc_options++[]


|===


// markup not found, no include::{specDir}definitions/Design-doc/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Design-doc/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Design_doc_options/definition-before.adoc[opts=optional]


[#Design_doc_options]
=== DesignDocOptions


// markup not found, no include::{specDir}definitions/Design_doc_options/definition-begin.adoc[opts=optional]


[#fields-Design_doc_options]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *local_seq* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *include_design* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *raw* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *index_xattr_on_deleted_docs* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/Design_doc_options/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Design_doc_options/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Design_doc_views/definition-before.adoc[opts=optional]


[#Design_doc_views]
=== DesignDocViews


// markup not found, no include::{specDir}definitions/Design_doc_views/definition-begin.adoc[opts=optional]


[#fields-Design_doc_views]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *additionalProperties* +
_optional_
a| 
ifdef::desc-Design_doc_views_additionalProperties[]
{desc-Design_doc_views_additionalProperties}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Design_doc_views_additionalProperties++[]


|===


// markup not found, no include::{specDir}definitions/Design_doc_views/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Design_doc_views/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Design_doc_views_additionalProperties/definition-before.adoc[opts=optional]


[#Design_doc_views_additionalProperties]
=== DesignDocViewsAdditionalProperties


// markup not found, no include::{specDir}definitions/Design_doc_views_additionalProperties/definition-begin.adoc[opts=optional]


[#fields-Design_doc_views_additionalProperties]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *map* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *reduce* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/Design_doc_views_additionalProperties/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Design_doc_views_additionalProperties/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Document/definition-before.adoc[opts=optional]


[#Document]
=== Document


// markup not found, no include::{specDir}definitions/Document/definition-begin.adoc[opts=optional]


[#fields-Document]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *_id* +
_optional_
a| The ID of the document.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *_rev* +
_optional_
a| The revision of the document.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *_exp* +
_optional_
a| Expiry time after which the document will be purged. The expiration time is set and managed on the Couchbase Server document. The value can be specified in two ways; in ISO-8601 format, for example the 6th of July 2022 at 17:00 in the BST timezone would be `2016-07-06T17:00:00+01:00`; it can also be specified as a numeric Couchbase Server expiry value. Couchbase Server expiries are specified as Unix time, and if the desired TTL is below 30 days then it can also represent an interval in seconds from the current time (for example, a value of 5 will remove the document 5 seconds after it is written to Couchbase Server). The document expiration time is returned in the response of `GET /{db}/{doc} ` when `show_exp=true` is included in the query.

As with the existing explicit purge mechanism, this applies only to the local database; it has nothing to do with replication. This expiration time is not propagated when the document is replicated. The purge of the document does not cause it to be deleted on any other database.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *_deleted* +
_optional_
a| Whether the document is a tombstone or not. If true, it is a tombstone.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *_revisions* +
_optional_
a| 
ifdef::desc-Document__revisions[]
{desc-Document__revisions}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Document__revisions++[]


a| *_attachments* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Document__attachments_value++[]
Map


|===


// markup not found, no include::{specDir}definitions/Document/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Document/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Document__attachments_value/definition-before.adoc[opts=optional]


[#Document__attachments_value]
=== DocumentAttachmentsValue


// markup not found, no include::{specDir}definitions/Document__attachments_value/definition-begin.adoc[opts=optional]


[#fields-Document__attachments_value]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *content_type* +
_optional_
a| Content type of the attachment.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *data* +
_optional_
a| The data in the attachment in base64.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/Document__attachments_value/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Document__attachments_value/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Document__revisions/definition-before.adoc[opts=optional]


[#Document__revisions]
=== DocumentRevisions


// markup not found, no include::{specDir}definitions/Document__revisions/definition-begin.adoc[opts=optional]


[#fields-Document__revisions]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *start* +
_optional_
a| Prefix number for the latest revision.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *ids* +
_optional_
a| Array of valid revision IDs, in reverse order (latest first).

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


|===


// markup not found, no include::{specDir}definitions/Document__revisions/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Document__revisions/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/HTTP-Error/definition-before.adoc[opts=optional]


[#HTTP-Error]
=== HTTP-Error


// markup not found, no include::{specDir}definitions/HTTP-Error/definition-begin.adoc[opts=optional]


[#fields-HTTP-Error]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *error* +
_required_
a| The error name.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *reason* +
_required_
a| The error description.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/HTTP-Error/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/HTTP-Error/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response/definition-before.adoc[opts=optional]


[#__keyspace___all_docs_get_200_response]
=== KeyspaceAllDocsGet200Response


// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response/definition-begin.adoc[opts=optional]


[#fields-__keyspace___all_docs_get_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *rows* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__keyspace___all_docs_get_200_response_rows_inner++[]
Set


a| *total_rows* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *update_seq* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


|===


// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response_rows_inner/definition-before.adoc[opts=optional]


[#__keyspace___all_docs_get_200_response_rows_inner]
=== KeyspaceAllDocsGet200ResponseRowsInner


// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response_rows_inner/definition-begin.adoc[opts=optional]


[#fields-__keyspace___all_docs_get_200_response_rows_inner]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *key* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *id* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *value* +
_optional_
a| 
ifdef::desc-__keyspace___all_docs_get_200_response_rows_inner_value[]
{desc-__keyspace___all_docs_get_200_response_rows_inner_value}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__keyspace___all_docs_get_200_response_rows_inner_value++[]


|===


// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response_rows_inner/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response_rows_inner/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response_rows_inner_value/definition-before.adoc[opts=optional]


[#__keyspace___all_docs_get_200_response_rows_inner_value]
=== KeyspaceAllDocsGet200ResponseRowsInnerValue


// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response_rows_inner_value/definition-begin.adoc[opts=optional]


[#fields-__keyspace___all_docs_get_200_response_rows_inner_value]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *rev* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response_rows_inner_value/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response_rows_inner_value/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___all_docs_post_request/definition-before.adoc[opts=optional]


[#__keyspace___all_docs_post_request]
=== KeyspaceAllDocsPostRequest


// markup not found, no include::{specDir}definitions/__keyspace___all_docs_post_request/definition-begin.adoc[opts=optional]


[#fields-__keyspace___all_docs_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *keys* +
_required_
a| List of the documents to retrieve.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


|===


// markup not found, no include::{specDir}definitions/__keyspace___all_docs_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___all_docs_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___bulk_docs_post_201_response_inner/definition-before.adoc[opts=optional]


[#__keyspace___bulk_docs_post_201_response_inner]
=== KeyspaceBulkDocsPost201ResponseInner


// markup not found, no include::{specDir}definitions/__keyspace___bulk_docs_post_201_response_inner/definition-begin.adoc[opts=optional]


[#fields-__keyspace___bulk_docs_post_201_response_inner]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *id* +
_required_
a| The ID of the document that the operation was performed on.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *rev* +
_optional_
a| The new revision of the document if the operation was a success.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *error* +
_optional_
a| The error type if the operation of the document failed.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *reason* +
_optional_
a| The reason the operation failed.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *status* +
_optional_
a| The HTTP status code for why the operation failed.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


|===


// markup not found, no include::{specDir}definitions/__keyspace___bulk_docs_post_201_response_inner/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___bulk_docs_post_201_response_inner/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___bulk_docs_post_request/definition-before.adoc[opts=optional]


[#__keyspace___bulk_docs_post_request]
=== KeyspaceBulkDocsPostRequest


// markup not found, no include::{specDir}definitions/__keyspace___bulk_docs_post_request/definition-begin.adoc[opts=optional]


[#fields-__keyspace___bulk_docs_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *new_edits* +
_optional_
a| This controls whether to assign new revision identifiers to new edits (`true`) or use the existing ones (`false`).

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *docs* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Document
List


|===


// markup not found, no include::{specDir}definitions/__keyspace___bulk_docs_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___bulk_docs_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___bulk_get_post_request/definition-before.adoc[opts=optional]


[#__keyspace___bulk_get_post_request]
=== KeyspaceBulkGetPostRequest


// markup not found, no include::{specDir}definitions/__keyspace___bulk_get_post_request/definition-begin.adoc[opts=optional]


[#fields-__keyspace___bulk_get_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *docs* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__keyspace___bulk_get_post_request_docs_inner++[]
List


|===


// markup not found, no include::{specDir}definitions/__keyspace___bulk_get_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___bulk_get_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___bulk_get_post_request_docs_inner/definition-before.adoc[opts=optional]


[#__keyspace___bulk_get_post_request_docs_inner]
=== KeyspaceBulkGetPostRequestDocsInner


// markup not found, no include::{specDir}definitions/__keyspace___bulk_get_post_request_docs_inner/definition-begin.adoc[opts=optional]


[#fields-__keyspace___bulk_get_post_request_docs_inner]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *id* +
_required_
a| ID of the document to retrieve.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__keyspace___bulk_get_post_request_docs_inner/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___bulk_get_post_request_docs_inner/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___changes_post_request/definition-before.adoc[opts=optional]


[#__keyspace___changes_post_request]
=== KeyspaceChangesPostRequest


// markup not found, no include::{specDir}definitions/__keyspace___changes_post_request/definition-begin.adoc[opts=optional]


[#fields-__keyspace___changes_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *limit* +
_optional_
a| Maximum number of changes to return.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *style* +
_optional_
a| Controls whether to return the current winning revision (`main_only`) or all the leaf revision including conflicts and deleted former conflicts (`all_docs`).

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *active_only* +
_optional_
a| Set true to exclude deleted documents and notifications for documents the user no longer has access to from the changes feed.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *include_docs* +
_optional_
a| Include the body associated with each document.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *revocations* +
_optional_
a| If true, revocation messages will be sent on the changes feed.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *filter* +
_optional_
a| Set a filter to either filter by channels or document IDs.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *channels* +
_optional_
a| A comma-separated list of channel names to filter the response to only the channels specified. To use this option, the `filter` query option must be set to `sync_gateway/bychannels`.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *doc_ids* +
_optional_
a| A valid JSON array of document IDs to filter the documents in the response to only the documents specified. To use this option, the `filter` query option must be set to `_doc_ids` and the `feed` parameter must be `normal`.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *heartbeat* +
_optional_
a| The interval (in milliseconds) to send an empty line (CRLF) in the response. This is to help prevent gateways from deciding the socket is idle and therefore closing it. This is only applicable to `feed=longpoll` or `feed=continuous`. This will override any timeouts to keep the feed alive indefinitely. Setting to 0 results in no heartbeat. The maximum heartbeat can be set in the server replication configuration.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *timeout* +
_optional_
a| This is the maximum period (in milliseconds) to wait for a change before the response is sent, even if there are no results. This is only applicable for `feed=longpoll` or `feed=continuous` changes feeds. Setting to 0 results in no timeout.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *feed* +
_optional_
a| The type of changes feed to use. 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__keyspace___changes_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___changes_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___docid__get_200_response/definition-before.adoc[opts=optional]


[#__keyspace___docid__get_200_response]
=== KeyspaceDocidGet200Response


// markup not found, no include::{specDir}definitions/__keyspace___docid__get_200_response/definition-begin.adoc[opts=optional]


[#fields-__keyspace___docid__get_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *_id* +
_optional_
a| The ID of the document.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *_rev* +
_optional_
a| The revision ID of the document.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__keyspace___docid__get_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___docid__get_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___local__docid__put_request/definition-before.adoc[opts=optional]


[#__keyspace___local__docid__put_request]
=== KeyspaceLocalDocidPutRequest


// markup not found, no include::{specDir}definitions/__keyspace___local__docid__put_request/definition-begin.adoc[opts=optional]


[#fields-__keyspace___local__docid__put_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *_rev* +
_optional_
a| Revision to replace. Required if updating existing local document.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__keyspace___local__docid__put_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___local__docid__put_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_200_response/definition-before.adoc[opts=optional]


[#__keyspace___revs_diff_post_200_response]
=== KeyspaceRevsDiffPost200Response


// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_200_response/definition-begin.adoc[opts=optional]


[#fields-__keyspace___revs_diff_post_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *docid* +
_optional_
a| 
ifdef::desc-__keyspace___revs_diff_post_200_response_docid[]
{desc-__keyspace___revs_diff_post_200_response_docid}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__keyspace___revs_diff_post_200_response_docid++[]


|===


// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_200_response_docid/definition-before.adoc[opts=optional]


[#__keyspace___revs_diff_post_200_response_docid]
=== KeyspaceRevsDiffPost200ResponseDocid


// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_200_response_docid/definition-begin.adoc[opts=optional]


[#fields-__keyspace___revs_diff_post_200_response_docid]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *missing* +
_optional_
a| The revisions that are not in the database (and therefore `missing`).

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *possible_ancestors* +
_optional_
a| An array of known revisions that might be the recent ancestors.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


|===


// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_200_response_docid/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_200_response_docid/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_request/definition-before.adoc[opts=optional]


[#__keyspace___revs_diff_post_request]
=== KeyspaceRevsDiffPostRequest


// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_request/definition-begin.adoc[opts=optional]


[#fields-__keyspace___revs_diff_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *docid* +
_optional_
a| The document ID with an array of revisions to use for the comparison.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


|===


// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/New-revision/definition-before.adoc[opts=optional]


[#New-revision]
=== New-revision


// markup not found, no include::{specDir}definitions/New-revision/definition-begin.adoc[opts=optional]


[#fields-New-revision]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *id* +
_required_
a| The ID of the document.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *ok* +
_required_
a| Whether the request completed successfully.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *rev* +
_required_
a| The revision of the document.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/New-revision/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/New-revision/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/NodeInfo/definition-before.adoc[opts=optional]


[#NodeInfo]
=== NodeInfo


// markup not found, no include::{specDir}definitions/NodeInfo/definition-begin.adoc[opts=optional]


[#fields-NodeInfo]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *ADMIN* +
_optional_
a| `true` if the request is from the Admin API - otherwise omitted.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["true" != "null"]
*Example:* `true`
endif::[]
// end
| Boolean


a| *couchdb* +
_required_
a| CouchDB welcome

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["Welcome" != "null"]
*Example:* `Welcome`
endif::[]
// end
| String


a| *vendor* +
_required_
a| 
ifdef::desc-NodeInfo_vendor[]
{desc-NodeInfo_vendor}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++NodeInfo_vendor++[]


a| *version* +
_optional_
a| Product version, including the build number and edition (i.e. `EE` or `CE`)
Omitted if `api.hide_product_version=true`

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["Couchbase Sync Gateway/3.1.0(1;a765231) EE" != "null"]
*Example:* `Couchbase Sync Gateway/3.1.0(1;a765231) EE`
endif::[]
// end
| String


a| *persistent_config* +
_optional_
a| Indication for whether sync gateway is running in persistent config mode or legacy config mode.
`true` if the sync gateway node is running in persistent config mode.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["true" != "null"]
*Example:* `true`
endif::[]
// end
| Boolean


|===


// markup not found, no include::{specDir}definitions/NodeInfo/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/NodeInfo/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/NodeInfo_vendor/definition-before.adoc[opts=optional]


[#NodeInfo_vendor]
=== NodeInfoVendor


// markup not found, no include::{specDir}definitions/NodeInfo_vendor/definition-begin.adoc[opts=optional]


[#fields-NodeInfo_vendor]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *name* +
_required_
a| Product name

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["Couchbase Sync Gateway" != "null"]
*Example:* `Couchbase Sync Gateway`
endif::[]
// end
| String


a| *version* +
_optional_
a| API version.
Omitted if `api.hide_product_version=true`

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["3.1" != "null"]
*Example:* `3.1`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/NodeInfo_vendor/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/NodeInfo_vendor/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/OIDC-callback/definition-before.adoc[opts=optional]


[#OIDC-callback]
=== OpenID Connect callback properties


// markup not found, no include::{specDir}definitions/OIDC-callback/definition-begin.adoc[opts=optional]


[#fields-OIDC-callback]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *id_token* +
_optional_
a| The OpenID Connect ID token

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *refresh_token* +
_optional_
a| The OpenID Connect ID refresh token

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *session_id* +
_optional_
a| The Sync Gateway session token

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *name* +
_optional_
a| The Sync Gateway user

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *access_token* +
_optional_
a| The OpenID Connect access token

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *token_type* +
_optional_
a| The OpenID Connect ID token type

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *expires_in* +
_optional_
a| The time until the id_token expires (TTL).

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


|===


// markup not found, no include::{specDir}definitions/OIDC-callback/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/OIDC-callback/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/OIDC-login-page-handler/definition-before.adoc[opts=optional]


[#OIDC-login-page-handler]
=== OIDCLoginPageHandler


// markup not found, no include::{specDir}definitions/OIDC-login-page-handler/definition-begin.adoc[opts=optional]


[#fields-OIDC-login-page-handler]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *username* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *tokenttl* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *identity-token-formats* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *authenticated* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/OIDC-login-page-handler/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/OIDC-login-page-handler/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/OIDC-token/definition-before.adoc[opts=optional]


[#OIDC-token]
=== OIDC-token


// markup not found, no include::{specDir}definitions/OIDC-token/definition-begin.adoc[opts=optional]


[#fields-OIDC-token]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *access_token* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *token_type* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *refresh_token* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *expires_in* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *id_token* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/OIDC-token/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/OIDC-token/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/User-session-information/definition-before.adoc[opts=optional]


[#User-session-information]
=== User Session Information


// markup not found, no include::{specDir}definitions/User-session-information/definition-begin.adoc[opts=optional]


[#fields-User-session-information]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *authentication_handlers* +
_optional_
a| The ways authentication can be established to authenticate as the user.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *ok* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *userCtx* +
_optional_
a| 
ifdef::desc-User_session_information_userCtx[]
{desc-User_session_information_userCtx}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++User_session_information_userCtx++[]


|===


// markup not found, no include::{specDir}definitions/User-session-information/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/User-session-information/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/User_session_information_userCtx/definition-before.adoc[opts=optional]


[#User_session_information_userCtx]
=== UserSessionInformationUserCtx


// markup not found, no include::{specDir}definitions/User_session_information_userCtx/definition-begin.adoc[opts=optional]


[#fields-User_session_information_userCtx]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *channels* +
_optional_
a| A map of the channels the user has access to and the sequence number each channel was created at.

The key is the channel name and the value is the sequence number.


[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *name* +
_optional_
a| The name of the user.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/User_session_information_userCtx/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/User_session_information_userCtx/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/document-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/document-after.adoc[opts=optional]



