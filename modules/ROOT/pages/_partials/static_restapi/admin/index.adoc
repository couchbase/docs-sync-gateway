////
= Sync Gateway
team@openapitools.org
:keywords: openapi, rest, Sync Gateway
:specDir: 
:snippetDir: 
:generator-template: v1 2019-12-20 (+ SimonD + HakimC changes)
:info-url: https://openapi-generator.tech
:app-name: Sync Gateway

[abstract]
.Abstract
Sync Gateway manages access and synchronization between Couchbase Lite and Couchbase Server

=== Version information
[%hardbreaks]
__Version__ : 3.1.0

=== Host information
[%hardbreaks]
__Host__ : localhost
////


// markup not found, no include::{specDir}intro.adoc[opts=optional]


== Resources

This section describes the operations available with this REST API.
The operations are grouped in the following categories.

* <<Authentication>>
* <<DatabaseConfiguration>>
* <<DatabaseManagement>>
* <<DatabaseSecurity>>
* <<Document>>
* <<Metrics>>
* <<Profiling>>
* <<Replication>>
* <<Server>>
* <<Session>>
* <<Unsupported>>


[#Authentication]
=== Authentication

Manage authentication



////
// Commenting out, as SGW Spec doesn't use operationID
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
////




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Create a new Facebook-based session
....
POST /{db}/_facebook
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Creates a new session based on a Facebook user. On a successful session creation, a session cookie is stored to keep the user authenticated for future API calls.

If CORS is enabled, the origin must match an allowed login origin otherwise an error will be returned.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| xref:#++DbFacebookPostRequest++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Session created successfully
| 

| 400
a| Origin is not in the approved list of allowed origins
| xref:#++HTTP-Error++[]

| 401
a| Received error from Facebook verifier
| xref:#++__db___facebook_post_401_response++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 502
a| Received invalid response from the Facebook verifier
| xref:#++__db___facebook_post_401_response++[]

| 504
a| Unable to send request to Facebook API
| xref:#++__db___facebook_post_401_response++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_facebook/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_facebook/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Create a new Google-based session
....
POST /{db}/_google
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Creates a new session based on a Google user. On a successful session creation, a session cookie is stored to keep the user authenticated for future API calls.

If CORS is enabled, the origin must match an allowed login origin otherwise an error will be returned.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| xref:#++DbGooglePostRequest++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Session created successfully
| 

| 400
a| Origin is not in the approved list of allowed origins
| xref:#++HTTP-Error++[]

| 401
a| Received error from Google token verifier or invalid application ID in the config
| xref:#++__db___facebook_post_401_response++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 502
a| Received invalid response from the Google token verifier
| xref:#++__db___facebook_post_401_response++[]

| 504
a| Unable to send request to the Google token verifier
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_google/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_google/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect authentication callback
....
GET /{db}/_oidc_callback
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
The callback URL that the client is redirected to after authenticating with the OpenID Connect provider.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*error* +
_optional_
a| 
[markdown]
--
The OpenID Connect error, if any occurred.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*code* +
_required_
a| 
[markdown]
--
The OpenID Connect authentication code.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*provider* +
_optional_
a| 
[markdown]
--
The OpenID Connect provider to use for authentication.  The list of providers are defined in the Sync Gateway config. If left empty, the default provider will be used.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*state* +
_optional_
a| 
[markdown]
--
The OpenID Connect state to verify against the state cookie. This is used to prevent cross-site request forgery (CSRF). This is not required if `disable_callback_state=true` for the provider config (NOT recommended).

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully authenticated with OpenID Connect.
| xref:#++OIDC-callback++[]

| 400
a| A problem occurred when reading the callback request body
| 

| 401
a| An error was received from the OpenID Connect provider. This means the error query parameter was filled.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 500
a| A problem occurred in regards to the token
| xref:#++__db___facebook_post_401_response++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc_callback/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc_callback/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect authentication initiation via WWW-Authenticate header
....
GET /{db}/_oidc_challenge
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Called by clients to initiate the OpenID Connect Authorization Code Flow. This will establish a connection with the provider, then put the redirect URL in the `WWW-Authenticate` header.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*provider* +
_optional_
a| 
[markdown]
--
The OpenID Connect provider to use for authentication.  The list of providers are defined in the Sync Gateway config. If left empty, the default provider will be used.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*offline* +
_optional_
a| 
[markdown]
--
If true, the OpenID Connect provider is requested to confirm with the user the permissions requested and refresh the OIDC token. To do this, access_type=offline and prompt=consent is set on the redirection link.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 400
a| The provider provided is not defined in the Sync Gateway config. If no provided was specified then there is no default provider set. 
| 

| 401
a| Successfully connected with the OpenID Connect provider so now the client can login.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 500
a| Unable to connect and validate with the OpenID Connect provider requested
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc_challenge/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc_challenge/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect authentication initiation via Location header redirect
....
GET /{db}/_oidc
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Called by clients to initiate the OpenID Connect Authorization Code Flow. Redirects to the OpenID Connect provider if successful. 
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*provider* +
_optional_
a| 
[markdown]
--
The OpenID Connect provider to use for authentication.  The list of providers are defined in the Sync Gateway config. If left empty, the default provider will be used.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*offline* +
_optional_
a| 
[markdown]
--
If true, the OpenID Connect provider is requested to confirm with the user the permissions requested and refresh the OIDC token. To do this, access_type=offline and prompt=consent is set on the redirection link.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 302
a| Successfully connected with the OpenID Connect provider so now redirecting to the requested OIDC provider for authentication.
| 

| 400
a| The provider provided is not defined in the Sync Gateway config. If no provided was specified then there is no default provider set. 
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 500
a| Unable to connect and validate with the OpenID Connect provider requested
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect token refresh
....
GET /{db}/_oidc_refresh
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Refresh the OpenID Connect token based on the provided refresh token.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*refresh_token* +
_required_
a| 
[markdown]
--
The OpenID Connect refresh token.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*provider* +
_optional_
a| 
[markdown]
--
The OpenID Connect provider to use for authentication.  The list of providers are defined in the Sync Gateway config. If left empty, the default provider will be used.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully authenticated with OpenID Connect.
| xref:#++OIDC-callback++[]

| 400
a| The provider provided is not defined in the Sync Gateway config. If no provided was specified then there is no default provider set. 
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 500
a| Unable to connect and validate with the OpenID Connect provider requested
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc_refresh/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc_refresh/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect mock login page handler
....
GET /{db}/_oidc_testing/authenticate
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Used to handle the login page displayed for the `GET /{db}/_oidc_testing/authorize` endpoint.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*redirect_uri* +
_optional_
a| 
[markdown]
--
The Sync Gateway OpenID Connect callback URL.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*scope* +
_required_
a| 
[markdown]
--
The OpenID Connect authentication scope.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*username* +
_required_
a| 
[markdown]
--


--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*tokenttl* +
_required_
a| 
[markdown]
--


--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


a| 
*identity-token-formats* +
_required_
a| 
[markdown]
--


--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*authenticated* +
_required_
a| 
[markdown]
--


--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 302
a| Redirecting to Sync Gateway OpenID Connect callback URL
| 

| 403
a| The OpenID Connect unsupported config option `oidc_test_provider` is not enabled. To use this endpoint, this option must be enabled.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc_testing/authenticate/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc_testing/authenticate/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect mock login page handler
....
POST /{db}/_oidc_testing/authenticate
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Used to handle the login page displayed for the `GET /{db}/_oidc_testing/authorize` endpoint.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

Properties passed from the OpenID Connect mock login page to the handler
--

[%hardbreaks]
// end

| xref:#++OIDCLoginPageHandler++[]


|===



====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*redirect_uri* +
_optional_
a| 
[markdown]
--
The Sync Gateway OpenID Connect callback URL.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*scope* +
_required_
a| 
[markdown]
--
The OpenID Connect authentication scope.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 302
a| Redirecting to Sync Gateway OpenID Connect callback URL
| 

| 403
a| The OpenID Connect unsupported config option `oidc_test_provider` is not enabled. To use this endpoint, this option must be enabled.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc_testing/authenticate/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc_testing/authenticate/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect mock login page
....
GET /{db}/_oidc_testing/authorize
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Show a mock OpenID Connect login page for the client to log in to.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*scope* +
_required_
a| 
[markdown]
--
The OpenID Connect authentication scope.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| 

| 400
a| A validation error occurred with the scope.
| xref:#++HTTP-Error++[]

| 403
a| The OpenID Connect unsupported config option `oidc_test_provider` is not enabled. To use this endpoint, this option must be enabled.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 500
a| An error occurred.
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc_testing/authorize/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc_testing/authorize/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect mock login page
....
POST /{db}/_oidc_testing/authorize
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Show a mock OpenID Connect login page for the client to log in to.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*scope* +
_required_
a| 
[markdown]
--
The OpenID Connect authentication scope.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| 

| 400
a| A validation error occurred with the scope.
| xref:#++HTTP-Error++[]

| 403
a| The OpenID Connect unsupported config option `oidc_test_provider` is not enabled. To use this endpoint, this option must be enabled.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 500
a| An error occurred.
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc_testing/authorize/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc_testing/authorize/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect public certificates for signing keys
....
GET /{db}/_oidc_testing/certs
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Return a mock OpenID Connect public key to be used as signing keys.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Returned public key successfully
| xref:#++__db___oidc_testing_certs_get_200_response++[]

| 403
a| The OpenID Connect unsupported config option `oidc_test_provider` is not enabled. To use this endpoint, this option must be enabled.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 500
a| An error occurred while getting the private RSA key
| xref:#++__db___facebook_post_401_response++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc_testing/certs/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc_testing/certs/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect mock token
....
POST /{db}/_oidc_testing/token
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Return a mock OpenID Connect token for the OIDC authentication flow.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| xref:#++DbOidcTestingTokenPostRequest++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Properties expected back from an OpenID Connect provider after successful authentication
| xref:#++OIDC-token++[]

| 400
a| Invalid token provided
| 

| 403
a| The OpenID Connect unsupported config option `oidc_test_provider` is not enabled. To use this endpoint, this option must be enabled.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc_testing/token/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc_testing/token/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== OpenID Connect mock provider
....
GET /{db}/_oidc_testing/.well-known/openid-configuration
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Mock an OpenID Connect provider response for testing purposes. This returns a response that is the same structure as what Sync Gateway expects from an OIDC provider after initiating OIDC authentication.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully generated OpenID Connect provider mock response. 
| xref:#++__db___oidc_testing__well_known_openid_configuration_get_200_response++[]

| 403
a| The OpenID Connect unsupported config option `oidc_test_provider` is not enabled. To use this endpoint, this option must be enabled.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_oidc_testing/.well-known/openid-configuration/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_oidc_testing/.well-known/openid-configuration/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]



[#DatabaseConfiguration]
=== Database Configuration

Configure Sync Gateway databases



////
// Commenting out, as SGW Spec doesn't use operationID
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
////




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get database configuration
....
GET /{db}/_config
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Retrieve the full configuration for the database specified.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*redact* +
_optional_
a| 
[markdown]
--
No longer supported field.

--

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
// end

| Boolean


a| 
*include_javascript* +
_optional_
a| 
[markdown]
--
Include the fields that have Javascript functions in the response. E.g. sync function, import filter, and event handlers.

--

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
// end

| Boolean


a| 
*include_runtime* +
_optional_
a| 
[markdown]
--
Whether to include the values set at runtime, and default values.

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


a| 
*refresh_config* +
_optional_
a| 
[markdown]
--
Forces the configuration to be reloaded on the Sync Gateway node.

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully retrieved database configuration
| xref:#++Database++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_config/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_config/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Update database configuration
....
POST /{db}/_config
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This is used to update the database configuration fields specified. Only the fields specified in the request will have their values replaced.

The bucket and database name cannot be changed. If these need to be changed, the database will need to be deleted then recreated with the new settings.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

The database configuration fields to update
--

[%hardbreaks]
// end

| xref:#++Database++[]


|===


====== Header Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*If-Match* +
_optional_
a| 
[markdown]
--
If set to a configuration's Etag value, enables optimistic concurrency control for the request. Returns HTTP 412 if another update happened underneath this one.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===



// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 201
a| Database configuration successfully updated
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Not Found
| 

| 412
a| Precondition Failed  The supplied If-Match header did not match the current version of the configuration.  Returned when optimistic concurrency control is used, and there has been an update to the configuration in between this update.
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_config/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_config/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Replace database configuration
....
PUT /{db}/_config
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Replaces the database configuration with the one sent in the request.

The bucket and database name cannot be changed. If these need to be changed, the database will need to be deleted then recreated with the new settings.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

The new database configuration to use
--

[%hardbreaks]
// end

| xref:#++Database++[]


|===


====== Header Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*If-Match* +
_optional_
a| 
[markdown]
--
If set to a configuration's Etag value, enables optimistic concurrency control for the request. Returns HTTP 412 if another update happened underneath this one.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*disable_oidc_validation* +
_optional_
a| 
[markdown]
--
If set, will not attempt to validate the configured OpenID Connect providers are reachable.

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 201
a| Database configuration successfully updated
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 412
a| Precondition Failed  The supplied If-Match header did not match the current version of the configuration.  Returned when optimistic concurrency control is used, and there has been an update to the configuration in between this update.
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_config/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_config/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Delete import filter
....
DELETE /{keyspace}/_config/import_filter
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This will remove the custom import filter function from the database configuration so that Sync Gateway will not filter any documents during import.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===



====== Header Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*If-Match* +
_optional_
a| 
[markdown]
--
If set to a configuration's Etag value, enables optimistic concurrency control for the request. Returns HTTP 412 if another update happened underneath this one.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===



// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully deleted the import filter
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 412
a| Precondition Failed  The supplied If-Match header did not match the current version of the configuration.  Returned when optimistic concurrency control is used, and there has been an update to the configuration in between this update.
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_config/import_filter/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_config/import_filter/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get database import filter
....
GET /{keyspace}/_config/import_filter
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This returns the database's import filter that documents are ran through when importing.

Response will be blank if there has been no import filter set.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/javascript
* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully retrieved the import filter
| xref:#++String++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_config/import_filter/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_config/import_filter/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Set database import filter
....
PUT /{keyspace}/_config/import_filter
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This will allow you to update the database's import filter.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

The import filter to use
--

[%hardbreaks]
ifeval::["body_example" != "null"]
*Example:* `body_example`
endif::[]
// end

| String


|===


====== Header Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*If-Match* +
_optional_
a| 
[markdown]
--
If set to a configuration's Etag value, enables optimistic concurrency control for the request. Returns HTTP 412 if another update happened underneath this one.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*disable_oidc_validation* +
_optional_
a| 
[markdown]
--
If set, will not attempt to validate the configured OpenID Connect providers are reachable.

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/javascript


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Updated import filter successfully
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 412
a| Precondition Failed  The supplied If-Match header did not match the current version of the configuration.  Returned when optimistic concurrency control is used, and there has been an update to the configuration in between this update.
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_config/import_filter/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_config/import_filter/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Remove custom sync function
....
DELETE /{keyspace}/_config/sync
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This will remove the custom sync function from the database configuration.

The default sync function is equivalent to:
```javascript
function (doc) {
  channel(doc.channels);
}
```

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===



====== Header Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*If-Match* +
_optional_
a| 
[markdown]
--
The revision ID to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===



// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully reset the sync function
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 412
a| Precondition Failed  The supplied If-Match header did not match the current version of the configuration.  Returned when optimistic concurrency control is used, and there has been an update to the configuration in between this update.
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_config/sync/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_config/sync/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get database sync function
....
GET /{keyspace}/_config/sync
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This returns the database's sync function.

Response will be blank if there has been no sync function set.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/javascript
* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully retrieved the sync function
| xref:#++String++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_config/sync/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_config/sync/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Set database sync function
....
PUT /{keyspace}/_config/sync
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This will allow you to update the sync function.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

The new sync function to use
--

[%hardbreaks]
ifeval::["function (doc, oldDoc) {
  channel(doc.channels);
}" != "null"]
*Example:* `function (doc, oldDoc) {
  channel(doc.channels);
}`
endif::[]
// end

| String


|===


====== Header Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*If-Match* +
_optional_
a| 
[markdown]
--
If set to a configuration's Etag value, enables optimistic concurrency control for the request. Returns HTTP 412 if another update happened underneath this one.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*disable_oidc_validation* +
_optional_
a| 
[markdown]
--
If set, will not attempt to validate the configured OpenID Connect providers are reachable.

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/javascript


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Updated sync function successfully
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 412
a| Precondition Failed  The supplied If-Match header did not match the current version of the configuration.  Returned when optimistic concurrency control is used, and there has been an update to the configuration in between this update.
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_config/sync/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_config/sync/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]



[#DatabaseManagement]
=== Database Management

Create and manage Sync Gateway databases



////
// Commenting out, as SGW Spec doesn't use operationID
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
////




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get a list of all the databases
....
GET /_all_dbs
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This retrieves all the database's names that are in the current Sync Gateway node.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]









// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully retrieved all database names
| List


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_all_dbs/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_all_dbs/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== /_all_dbs
....
HEAD /_all_dbs
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]









// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]





// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_all_dbs/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_all_dbs/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get the status of the most recent compact operation
....
GET /{db}/_compact
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This will retrieve the current status of the most recent compact operation.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*type* +
_optional_
a| 
[markdown]
--
This is the type of compaction to use. The type must be either:
* `attachment` for cleaning up legacy (pre-3.0) attachments
* `tombstone` for purging the JSON bodies of non-leaf revisions.'

--

[%hardbreaks]
*Values:* `attachment`, `tombstone`
ifeval::["tombstone" != "null"]
*Default:* `tombstone`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Compaction status retrieved successfully
| xref:#++Compact-status++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_compact/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_compact/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Manage a compact operation
....
POST /{db}/_compact
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This allows a new compact operation to be done on the database, or to stop an existing running compact operation.

The type of compaction that is done depends on what the `type` query parameter is set to. The 2 options will:
* `tombstone` - purge the JSON bodies of non-leaf revisions. This is known as database compaction. Database compaction is done periodically automatically by the system. JSON bodies of leaf nodes (conflicting branches) are not removed therefore it is important to resolve conflicts in order to re-claim disk space.
* `attachment` - purge all unlinked/unused legacy (pre 3.0) attachments. If the previous attachment compact operation failed, this will attempt to restart the `compact_id` at the appropriate phase (if possible).

Both types can each have a maximum of 1 compact operation running at any one point. This means that an attachment compaction can be running at the same time as a tombstone compaction but not 2 tombstone compactions.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*type* +
_optional_
a| 
[markdown]
--
This is the type of compaction to use. The type must be either:
* `attachment` for cleaning up legacy (pre-3.0) attachments
* `tombstone` for purging the JSON bodies of non-leaf revisions.'

--

[%hardbreaks]
*Values:* `attachment`, `tombstone`
ifeval::["tombstone" != "null"]
*Default:* `tombstone`
endif::[]
// end

| String


a| 
*action* +
_optional_
a| 
[markdown]
--
Defines whether the a compact operation is being started or stopped.

--

[%hardbreaks]
*Values:* `start`, `stop`
ifeval::["start" != "null"]
*Default:* `start`
endif::[]
// end

| String


a| 
*reset* +
_optional_
a| 
[markdown]
--
**Attachment compaction only**

This forces a fresh compact start instead of trying to resume the previous failed compact operation.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*dry_run* +
_optional_
a| 
[markdown]
--
**Attachment compaction only**

This will run through all 3 stages of attachment compact but will not purge any attachments. This can be used to check how many attachments will be purged.'

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Started or stopped compact operation successfully
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 503
a| Cannot start compaction due to another compaction operation still running.
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_compact/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_compact/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Remove a database
....
DELETE /{db}/
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Removes a database from the Sync Gateway cluster

**Note:** If running in legacy mode, this will only delete the database from the current node.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully removed the database
| Object

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 500
a| Cannot remove database from bucket
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== /{db}/_ensure_full_commit
....
POST /{db}/_ensure_full_commit
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This endpoint is non-functional but is present for CouchDB compatibility.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 201
a| OK
| xref:#++__db___ensure_full_commit_post_201_response++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_ensure_full_commit/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_ensure_full_commit/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get database information
....
GET /{db}/
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Retrieve information about the database.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully returned database information
| xref:#++__db___get_200_response++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Check if database exists
....
HEAD /{db}/
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Check if a database exists by using the response status code.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Database exists
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Take the database offline
....
POST /{db}/_offline
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This will take the database offline meaning actions can be taken without disrupting current operations ungracefully or having the restart the Sync Gateway instance.

This will not take the backing Couchbase Server bucket offline.

Taking a database offline that is in the progress of coming online will take the database offline after it comes online.

Taking the database offline will:
* Close all active `_changes` feeds for the database.
* Reject all access to the database via the Public REST API (returning a 503 Service Unavailable code).
* Reject most Admin API requests (by returning a 503 Service Unavailable code). The only endpoints to be available are: the resync endpoints, the configuration endpoints, `DELETE, GET, HEAD /{db}/`, `POST /{db}/_offline`, and `POST /{db}/_online`.
* Stops webhook event handlers.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Database has been taken offline successfully
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 503
a| An error occurred while trying to take the database offline
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_offline/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_offline/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Bring the database online
....
POST /{db}/_online
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This will bring the database online so the Public and full Admin REST API requests can be served.

Bringing a database online will:
* Close the database connection to the backing Couchbase Server bucket.
* Reload the database configuration, and connect to the backing Couchbase Server bucket.
* Re-establish access to the database from the Public REST API and accept all Admin API requests.

A specific delay before bringing the database online may be wanted to:
* Make the database available for Couchbase Lite clients at a specific time.
* Make the databases on several Sync Gateway instances available at the same time.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

Add an optional delay to wait before bringing the database online
--

[%hardbreaks]
// end

| xref:#++DbOnlinePostRequest++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Database will be brought online immediately or with the specified delay
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 503
a| An error occurred
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_online/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_online/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Create a new Sync Gateway database
....
PUT /{db}/
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This is to create a new database for Sync Gateway.

The new database name will be the name specified in the URL, not what is specified in the request body database configuration.

If the bucket is not provided in the database configuration, Sync Gateway will attempt to find and use the database name as the bucket.

By default, the new database will be brought online immediately. This can be avoided by including `"offline": true` in the configuration in the request body.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

The configuration to use for the new database
--

[%hardbreaks]
// end

| xref:#++Database++[]


|===



====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*disable_oidc_validation* +
_optional_
a| 
[markdown]
--
If set, will not attempt to validate the configured OpenID Connect providers are reachable.

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 201
a| Database created successfully
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 403
a| An authentication failure occurred
| xref:#++HTTP-Error++[]

| 409
a| A database already exists for this bucket
| xref:#++HTTP-Error++[]

| 412
a| A database under that name already exists
| xref:#++HTTP-Error++[]

| 500
a| A server error occurred
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get resync status
....
GET /{db}/_resync
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This will retrieve the status of last resync operation (whether it is running or not) in the Sync Gateway cluster.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| successfully retrieved the most recent resync operation status
| xref:#++Resync-status++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_resync/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_resync/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Start or stop Resync
....
POST /{db}/_resync
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This can be used to start or stop a resync operation. A resync operation will cause all documents in the keyspace to be reprocessed through the sync function.

Generally, a resync operation might be wanted when the sync function has been modified in such a way that the channel or access mappings for any existing documents would change as a result.

A resync operation cannot be run if the database is online. The database can be taken offline by calling the `POST /{db}/_offline` endpoint.

In a multi-node cluster, the resync operation *must* be run on only a single node. Therefore, users should bring other nodes offline before initiating this action. Undefined system behaviour will happen if running resync on more than 1 node.

The `requireUser()` and `requireRole()` calls in the sync function will always return `true`.

- **action=start** - This is an asynchronous operation, and will start resync in the background.
- **action=stop** - This will stop the currently running resync operation.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect

--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| xref:#++DbResyncPostRequest++[]


|===



====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*action* +
_optional_
a| 
[markdown]
--
This is whether to start a new resync job or stop an existing one.

--

[%hardbreaks]
*Values:* `start`, `stop`
ifeval::["start" != "null"]
*Default:* `start`
endif::[]
// end

| String


a| 
*regenerate_sequences* +
_optional_
a| 
[markdown]
--
**Use this only when requested to do so by the Couchbase support team** This request will regenerate the sequence numbers for each document processed.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| successfully changed the status of the resync operation
| xref:#++Resync-status++[]

| 503
a| Service Unavailable
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_resync/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_resync/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get changes list
....
GET /{keyspace}/_changes
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request retrieves a sorted list of changes made to documents in the database, in time order of application. Each document appears at most once, ordered by its most recent change, regardless of how many times it has been changed.

This request can be used to listen for update and modifications to the database for post processing or synchronization. A continuously connected changes feed is a reasonable approach for generating a real-time log for most applications.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*limit* +
_optional_
a| 
[markdown]
--
Maximum number of changes to return.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


a| 
*since* +
_optional_
a| 
[markdown]
--
Starts the results from the change immediately after the given sequence ID. Sequence IDs should be considered opaque; they come from the last_seq property of a prior response.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*style* +
_optional_
a| 
[markdown]
--
Controls whether to return the current winning revision (`main_only`) or all the leaf revision including conflicts and deleted former conflicts (`all_docs`).

--

[%hardbreaks]
*Values:* `main_only`, `all_docs`
ifeval::["main_only" != "null"]
*Default:* `main_only`
endif::[]
// end

| String


a| 
*active_only* +
_optional_
a| 
[markdown]
--
Set true to exclude deleted documents and notifications for documents the user no longer has access to from the changes feed.

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


a| 
*include_docs* +
_optional_
a| 
[markdown]
--
Include the body associated with each document.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*revocations* +
_optional_
a| 
[markdown]
--
If true, revocation messages will be sent on the changes feed.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*filter* +
_optional_
a| 
[markdown]
--
Set a filter to either filter by channels or document IDs.

--

[%hardbreaks]
*Values:* `sync_gateway/bychannel`, `_doc_ids`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*channels* +
_optional_
a| 
[markdown]
--
A comma-separated list of channel names to filter the response to only the channels specified. To use this option, the `filter` query option must be set to `sync_gateway/bychannels`.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*doc_ids* +
_optional_
a| 
[markdown]
--
A valid JSON array of document IDs to filter the documents in the response to only the documents specified. To use this option, the `filter` query option must be set to `_doc_ids` and the `feed` parameter must be `normal`. Also accepts a comma separated list of document IDs instead.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String
List


a| 
*heartbeat* +
_optional_
a| 
[markdown]
--
The interval (in milliseconds) to send an empty line (CRLF) in the response. This is to help prevent gateways from deciding the socket is idle and therefore closing it. This is only applicable to `feed=longpoll` or `feed=continuous`. This will override any timeouts to keep the feed alive indefinitely. Setting to 0 results in no heartbeat. The maximum heartbeat can be set in the server replication configuration.

--

[%hardbreaks]
ifeval::["0" != "null"]
*Default:* `0`
endif::[]
*Minimum:* `25000`
// end

| Integer


a| 
*timeout* +
_optional_
a| 
[markdown]
--
This is the maximum period (in milliseconds) to wait for a change before the response is sent, even if there are no results. This is only applicable for `feed=longpoll` or `feed=continuous` changes feeds. Setting to 0 results in no timeout.

--

[%hardbreaks]
ifeval::["300000" != "null"]
*Default:* `300000`
endif::[]
*Minimum:* `0`
*Maximum:* `900000`
// end

| Integer


a| 
*feed* +
_optional_
a| 
[markdown]
--
The type of changes feed to use. 

--

[%hardbreaks]
*Values:* `normal`, `longpoll`, `continuous`, `websocket`
ifeval::["normal" != "null"]
*Default:* `normal`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully returned the changes feed
| xref:#++Changes-feed++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_changes/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_changes/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== /{db}/_changes
....
HEAD /{keyspace}/_changes
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]





// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| 

| 400
a| Bad Request
| 

| 404
a| Not Found
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_changes/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_changes/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get changes list
....
POST /{keyspace}/_changes
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request retrieves a sorted list of changes made to documents in the database, in time order of application. Each document appears at most once, ordered by its most recent change, regardless of how many times it has been changed.

This request can be used to listen for update and modifications to the database for post processing or synchronization. A continuously connected changes feed is a reasonable approach for generating a real-time log for most applications.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| xref:#++KeyspaceChangesPostRequest++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully returned the changes feed
| xref:#++Changes-feed++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_changes/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_changes/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Compare revisions to what is in the database
....
POST /{keyspace}/_revs_diff
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Takes a set of document IDs, each with a set of revision IDs. For each document, an array of unknown revisions are returned with an array of known revisions that may be recent ancestors.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| xref:#++KeyspaceRevsDiffPostRequest++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Comparisons successful
| xref:#++__keyspace___revs_diff_post_200_response++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_revs_diff/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_revs_diff/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]



[#DatabaseSecurity]
=== Database Security

Create and manage database users and roles



////
// Commenting out, as SGW Spec doesn't use operationID
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
////




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get all names of the roles
....
GET /{db}/_role/
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Retrieves all the roles that are in the database.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*deleted* +
_optional_
a| 
[markdown]
--
Indicates that roles marked as deleted should be included in the result.

--

[%hardbreaks]
*Values:* `true`, `false`
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Roles retrieved successfully
| Set

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_role/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_role/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== /{db}/_role/
....
HEAD /{db}/_role/
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_role/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_role/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Delete a role
....
DELETE /{db}/_role/{name}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Delete a role from the database.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*name* +
_required_
a| 
[markdown]
--
The name of the role.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_role/{name}/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_role/\{name\}/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get a role
....
GET /{db}/_role/{name}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Retrieve a single roles properties.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*name* +
_required_
a| 
[markdown]
--
The name of the role.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Properties associated with a role
| xref:#++Role++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_role/{name}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_role/\{name\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Check if role exists
....
HEAD /{db}/_role/{name}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Check if the role exists by checking the status code.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*name* +
_required_
a| 
[markdown]
--
The name of the role.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Role exists
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_role/{name}/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_role/\{name\}/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Upsert a role
....
PUT /{db}/_role/{name}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
If the role does not exist, create a new role otherwise update the existing role.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*name* +
_required_
a| 
[markdown]
--
The name of the role.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

Properties associated with a role
--

[%hardbreaks]
// end

| xref:#++Role++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| 

| 201
a| Created
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_role/{name}/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_role/\{name\}/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Create a new role
....
POST /{db}/_role/
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Create a new role using the request body to specify the properties on the role.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

Properties associated with a role
--

[%hardbreaks]
// end

| xref:#++Role++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 201
a| New role created successfully
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 409
a| Resource already exists under that name
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_role/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_role/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get all the names of the users
....
GET /{db}/_user/
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Retrieves all the names of the users that are in the database.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*name_only* +
_optional_
a| 
[markdown]
--
Whether to return user names only, or more detailed information for each user.

--

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
// end

| Boolean


a| 
*limit* +
_optional_
a| 
[markdown]
--
How many results to return. Using a value of `0` results in no limit.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Users retrieved successfully
| List

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_user/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_user/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== /{db}/_user/
....
HEAD /{db}/_user/
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_user/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_user/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Delete a user
....
DELETE /{db}/_user/{name}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Delete a user from the database.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*name* +
_required_
a| 
[markdown]
--
The name of the user.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| User deleted successfully
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_user/{name}/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_user/\{name\}/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get a user
....
GET /{db}/_user/{name}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Retrieve a single users information.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*name* +
_required_
a| 
[markdown]
--
The name of the user.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Properties associated with a user
| xref:#++User++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_user/{name}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_user/\{name\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Check if user exists
....
HEAD /{db}/_user/{name}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Check if the user exists by checking the status code.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*name* +
_required_
a| 
[markdown]
--
The name of the user.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]





// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| User exists
| 

| 404
a| Not Found
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_user/{name}/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_user/\{name\}/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Upsert a user
....
PUT /{db}/_user/{name}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
If the user does not exist, create a new user otherwise update the existing user.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*name* +
_required_
a| 
[markdown]
--
The name of the user.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

Properties associated with a user
--

[%hardbreaks]
// end

| xref:#++User++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Existing user modified successfully
| 

| 201
a| New user created
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_user/{name}/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_user/\{name\}/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Create a new user
....
POST /{db}/_user/
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Create a new user using the request body to specify the properties on the user.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

Properties associated with a user
--

[%hardbreaks]
// end

| xref:#++User++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 201
a| New user created successfully
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 409
a| Resource already exists under that name
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_user/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_user/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]



[#Document]
=== Document

Create and manage documents and attachments



////
// Commenting out, as SGW Spec doesn't use operationID
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
////




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Gets all the documents in the database with the given parameters
....
GET /{keyspace}/_all_docs
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Returns all documents in the databased based on the specified parameters.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*include_docs* +
_optional_
a| 
[markdown]
--
Include the body associated with each document.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*channels* +
_optional_
a| 
[markdown]
--
Include the channels each document is part of that the calling user also has access too.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*access* +
_optional_
a| 
[markdown]
--
Include what user/roles that each document grants access too.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*revs* +
_optional_
a| 
[markdown]
--
Include all the revisions for each document under the `_revisions` property.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*update_seq* +
_optional_
a| 
[markdown]
--
Include the document sequence number `update_seq` property for each document.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*keys* +
_optional_
a| 
[markdown]
--
An array of document ID strings to filter by.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String
List


a| 
*startkey* +
_optional_
a| 
[markdown]
--
Return records starting with the specified key.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*endkey* +
_optional_
a| 
[markdown]
--
Stop returning records when this key is reached.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*limit* +
_optional_
a| 
[markdown]
--
This limits the number of result rows returned. Using a value of `0` has the same effect as the value `1`.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| BigDecimal


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Operation ran successfully
| xref:#++__keyspace___all_docs_get_200_response++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_all_docs/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_all_docs/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== /{db}/_all_docs
....
HEAD /{keyspace}/_all_docs
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*include_docs* +
_optional_
a| 
[markdown]
--
Include the body associated with each document.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*channels* +
_optional_
a| 
[markdown]
--
Include the channels each document is part of that the calling user also has access too.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*access* +
_optional_
a| 
[markdown]
--
Include what user/roles that each document grants access too.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*revs* +
_optional_
a| 
[markdown]
--
Include all the revisions for each document under the `_revisions` property.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*update_seq* +
_optional_
a| 
[markdown]
--
Include the document sequence number `update_seq` property for each document.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*keys* +
_optional_
a| 
[markdown]
--
An array of document ID strings to filter by.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String
List


a| 
*startkey* +
_optional_
a| 
[markdown]
--
Return records starting with the specified key.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*endkey* +
_optional_
a| 
[markdown]
--
Stop returning records when this key is reached.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*limit* +
_optional_
a| 
[markdown]
--
This limits the number of result rows returned. Using a value of `0` has the same effect as the value `1`.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| BigDecimal


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_all_docs/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_all_docs/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get all the documents in the database using a built-in view
....
POST /{keyspace}/_all_docs
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Get a built-in view of all the documents in the database.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| xref:#++KeyspaceAllDocsPostRequest++[]


|===



====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*include_docs* +
_optional_
a| 
[markdown]
--
Include the body associated with each document.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*channels* +
_optional_
a| 
[markdown]
--
Include the channels each document is part of that the calling user also has access too.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*access* +
_optional_
a| 
[markdown]
--
Include what user/roles that each document grants access too.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*revs* +
_optional_
a| 
[markdown]
--
Include all the revisions for each document under the `_revisions` property.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*update_seq* +
_optional_
a| 
[markdown]
--
Include the document sequence number `update_seq` property for each document.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*startkey* +
_optional_
a| 
[markdown]
--
Return records starting with the specified key.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*endkey* +
_optional_
a| 
[markdown]
--
Stop returning records when this key is reached.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*limit* +
_optional_
a| 
[markdown]
--
This limits the number of result rows returned. Using a value of `0` has the same effect as the value `1`.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| BigDecimal


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Operation ran successfully
| xref:#++__keyspace___all_docs_get_200_response++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_all_docs/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_all_docs/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Bulk document operations
....
POST /{keyspace}/_bulk_docs
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This will allow multiple documented to be created, updated or deleted in bulk.

To create a new document, simply add the body in an object under `docs`. A doc ID will be generated by Sync Gateway unless `_id` is specified.

To update an existing document, provide the document ID (`_id`) and revision ID (`_rev`) as well as the new body values.

To delete an existing document, provide the document ID (`_id`), revision ID (`_rev`), and set the deletion flag (`_deleted`) to true.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
ifeval::["{new_edits=true, docs=[{_id=FooBar, foo=bar}, {_id=AliceSettings, _rev=5-832a6db48ed130adadede928aee54576, FailedLoginAttempts=7}, {_id=BobSettings, _rev=1-fa76ba41ee5fdfee1b91fc478ed09e59, _deleted=true}]}" != "null"]
*Example:* `{new_edits=true, docs=[{_id=FooBar, foo=bar}, {_id=AliceSettings, _rev=5-832a6db48ed130adadede928aee54576, FailedLoginAttempts=7}, {_id=BobSettings, _rev=1-fa76ba41ee5fdfee1b91fc478ed09e59, _deleted=true}]}`
endif::[]
// end

| xref:#++KeyspaceBulkDocsPostRequest++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 201
a| Executed all operations.  Each object in the returned array represents a document. Each document should be checked to make sure it was successfully added to the database.
| Set

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_bulk_docs/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_bulk_docs/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get multiple documents in a MIME multipart response
....
POST /{keyspace}/_bulk_get
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request returns any number of documents, as individual bodies in a MIME multipart response.

Each enclosed body contains one requested document. The bodies appear in the same order as in the request, but can also be identified by their `X-Doc-ID` and `X-Rev-ID` headers (if the `attachments` query is `true`).

A body for a document with no attachments will have content type `application/json` and contain the document itself.

A body for a document that has attachments will be written as a nested `multipart/related` body.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only

--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
ifeval::["{docs=[{id=FooBar}, {id=attachment}, {id=AliceSettings}]}" != "null"]
*Example:* `{docs=[{id=FooBar}, {id=attachment}, {id=AliceSettings}]}`
endif::[]
// end

| xref:#++KeyspaceBulkGetPostRequest++[]


|===


====== Header Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*X-Accept-Part-Encoding* +
_optional_
a| 
[markdown]
--
If this header includes `gzip` then the part HTTP compression encoding will be done.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*Accept-Encoding* +
_optional_
a| 
[markdown]
--
If this header includes `gzip` then the the HTTP response will be compressed. This takes priority over `X-Accept-Part-Encoding`. Only part compression will be done if `X-Accept-Part-Encoding=gzip` and the `User-Agent` is below 1.2 due to clients not being able to handle full compression.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*attachments* +
_optional_
a| 
[markdown]
--
This is for whether to include attachments in each of the documents returned or not.

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


a| 
*revs* +
_optional_
a| 
[markdown]
--
Include all the revisions for each document under the `_revisions` property.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*revs_limit* +
_optional_
a| 
[markdown]
--
The number of revisions to include in the response from the document history. This parameter only makes a different if the `revs` query parameter is set to `true`. The full revision history will be returned if `revs` is set but this is not.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Returned the requested docs as `multipart/mixed` response type
| 

| 400
a| Bad Request
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_bulk_get/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_bulk_get/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Delete an attachment on a document
....
DELETE /{keyspace}/{docid}/{attach}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request deletes an attachment associated with the document.

If the attachment exists, the attachment will be removed from the document.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The document ID to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*attach* +
_required_
a| 
[markdown]
--
The attachment name. This value must be URL encoded. For example, if the attachment name is `blob_/avatar`, the path component passed to the URL should be `blob_%2Favatar` (tested with [URLEncoder](https://www.urlencoder.org/)).

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===



====== Header Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*If-Match* +
_optional_
a| 
[markdown]
--
An alternative way of specifying the document revision ID.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*rev* +
_optional_
a| 
[markdown]
--
The existing document revision ID to modify.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Attachment removed from the document successfully
| xref:#++New-revision++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 409
a| Resource already exists under that name
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/{docid}/{attach}/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/\{docid\}/\{attach\}/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get an attachment from a document
....
GET /{keyspace}/{docid}/{attach}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request retrieves a file attachment associated with the document.

The raw data of the associated attachment is returned (just as if you were accessing a static file). The `Content-Type` response header is the same content type set when the document attachment was added to the database. The `Content-Disposition` response header will be set if the content type is considered unsafe to display in a browser (unless overridden by by database config option `serve_insecure_attachment_types`) which will force the attachment to be downloaded.

If the `meta` query parameter is set then the response will be in JSON with the additional metadata tags.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The document ID to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*attach* +
_required_
a| 
[markdown]
--
The attachment name. This value must be URL encoded. For example, if the attachment name is `blob_/avatar`, the path component passed to the URL should be `blob_%2Favatar` (tested with [URLEncoder](https://www.urlencoder.org/)).

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===



====== Header Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Range* +
_optional_
a| 
[markdown]
--
RFC-2616 bytes range header.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*rev* +
_optional_
a| 
[markdown]
--
The document revision to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*content_encoding* +
_optional_
a| 
[markdown]
--
Set to false to disable the `Content-Encoding` response header.

--

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
// end

| Boolean


a| 
*meta* +
_optional_
a| 
[markdown]
--
Return only the metadata of the attachment in the response body.

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Found attachment successfully.
| 

| 206
a| Partial attachment content returned
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 416
a| Requested range exceeds content length
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/{docid}/{attach}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/\{docid\}/\{attach\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Check if attachment exists
....
HEAD /{keyspace}/{docid}/{attach}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request check if the attachment exists on the specified document.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The document ID to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*attach* +
_required_
a| 
[markdown]
--
The attachment name. This value must be URL encoded. For example, if the attachment name is `blob_/avatar`, the path component passed to the URL should be `blob_%2Favatar` (tested with [URLEncoder](https://www.urlencoder.org/)).

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*rev* +
_optional_
a| 
[markdown]
--
The document revision to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| The document exists and the attachment exists on the document.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/{docid}/{attach}/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/\{docid\}/\{attach\}/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Create or update an attachment on a document
....
PUT /{keyspace}/{docid}/{attach}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request adds or updates an attachment associated with the document. If the document does not exist, it will be created and the attachment will be added to it.

If the attachment already exists, the data of the existing attachment will be replaced in the new revision.

The maximum content size of an attachment is 20MB. The `Content-Type` header of the request specifies the content type of the attachment.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The document ID to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*attach* +
_required_
a| 
[markdown]
--
The attachment name. This value must be URL encoded. For example, if the attachment name is `blob_/avatar`, the path component passed to the URL should be `blob_%2Favatar` (tested with [URLEncoder](https://www.urlencoder.org/)).

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

The attachment data
--

[%hardbreaks]
ifeval::["body_example" != "null"]
*Example:* `body_example`
endif::[]
// end

| String


|===


====== Header Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Content-Type* +
_optional_
a| 
[markdown]
--
The content type of the attachment.

--

[%hardbreaks]
ifeval::["application/octet-stream" != "null"]
*Default:* `application/octet-stream`
endif::[]
// end

| String


a| 
*If-Match* +
_optional_
a| 
[markdown]
--
An alternative way of specifying the document revision ID.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*rev* +
_optional_
a| 
[markdown]
--
The existing document revision ID to modify. Required only when modifying an existing document.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* Attachment content type


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 201
a| Attachment added to new or existing document successfully
| xref:#++New-revision++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 409
a| Resource already exists under that name
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/{docid}/{attach}/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/\{docid\}/\{attach\}/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Delete a document
....
DELETE /{keyspace}/{docid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Delete a document from the database. A new revision is created so the database can track the deletion in synchronized copies.

A revision ID either in the header or on the query parameters is required.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The document ID to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===



====== Header Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*If-Match* +
_optional_
a| 
[markdown]
--
The revision ID to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*rev* +
_optional_
a| 
[markdown]
--
The document revision to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| New revision created successfully
| xref:#++New-revision++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/{docid}/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/\{docid\}/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get a document
....
GET /{keyspace}/{docid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Retrieve a document from the database by its doc ID.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The document ID to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*rev* +
_optional_
a| 
[markdown]
--
The document revision to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*open_revs* +
_optional_
a| 
[markdown]
--
Option to fetch specified revisions of the document. The value can be all to fetch all leaf revisions or an array of revision numbers (i.e. open_revs=["rev1", "rev2"]). Only leaf revision bodies that haven't been pruned are guaranteed to be returned. If this option is specified the response will be in multipart format. Use the `Accept: application/json` request header to get the result as a JSON object.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String
List


a| 
*show_exp* +
_optional_
a| 
[markdown]
--
Whether to show the expiry property (`_exp`) in the response.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*revs_from* +
_optional_
a| 
[markdown]
--
Trim the revision history to stop at the first revision in the provided list. If no match is found, the revisions will be trimmed to the `revs_limit`.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String
List


a| 
*atts_since* +
_optional_
a| 
[markdown]
--
Include attachments only since specified revisions. Excludes the attachments for the specified revisions. Only gets used if `attachments=true`.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String
List


a| 
*revs_limit* +
_optional_
a| 
[markdown]
--
Maximum amount of revisions to return for each document.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


a| 
*attachments* +
_optional_
a| 
[markdown]
--
Include attachment bodies in response.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*replicator2* +
_optional_
a| 
[markdown]
--
Returns the document with the required properties for replication. This is an enterprise-edition only feature.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Document found and returned successfully
| xref:#++__keyspace___docid__get_200_response++[]

| 400
a| Document ID is not in an allowed format therefore is invalid.  This could be because it is over 250 characters or is prefixed with an underscore (\"_\").
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 501
a| Not Implemented. It is likely this error was caused due to trying to use an enterprise-only feature on the community edition.
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/{docid}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/\{docid\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Check if a document exists
....
HEAD /{keyspace}/{docid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Return a status code based on if the document exists or not.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The document ID to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*rev* +
_optional_
a| 
[markdown]
--
The document revision to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*open_revs* +
_optional_
a| 
[markdown]
--
Option to fetch specified revisions of the document. The value can be all to fetch all leaf revisions or an array of revision numbers (i.e. open_revs=["rev1", "rev2"]). Only leaf revision bodies that haven't been pruned are guaranteed to be returned. If this option is specified the response will be in multipart format. Use the `Accept: application/json` request header to get the result as a JSON object.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String
List


a| 
*show_exp* +
_optional_
a| 
[markdown]
--
Whether to show the expiry property (`_exp`) in the response.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*revs_from* +
_optional_
a| 
[markdown]
--
Trim the revision history to stop at the first revision in the provided list. If no match is found, the revisions will be trimmed to the `revs_limit`.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String
List


a| 
*atts_since* +
_optional_
a| 
[markdown]
--
Include attachments only since specified revisions. Excludes the attachments for the specified revisions. Only gets used if `attachments=true`.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String
List


a| 
*revs_limit* +
_optional_
a| 
[markdown]
--
Maximum amount of revisions to return for each document.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


a| 
*attachments* +
_optional_
a| 
[markdown]
--
Include attachment bodies in response.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*replicator2* +
_optional_
a| 
[markdown]
--
Returns the document with the required properties for replication. This is an enterprise-edition only feature.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Document exists
| 

| 400
a| Document ID is not in an allowed format therefore is invalid.  This could be because it is over 250 characters or is prefixed with an underscore (\"_\").
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/{docid}/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/\{docid\}/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Upsert a document
....
PUT /{keyspace}/{docid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This will upsert a document meaning if it does not exist, then it will be created. Otherwise a new revision will be made for the existing document. A revision ID must be provided if targetting an existing document.

A document ID must be specified for this endpoint. To let Sync Gateway generate the ID, use the `POST /{db}/` endpoint.

If a document does exist, then replace the document content with the request body. This means unspecified fields will be removed in the new revision.

The maximum size for a document is 20MB.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The document ID to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| oas_any_type_not_mapped
Map


|===


====== Header Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*If-Match* +
_optional_
a| 
[markdown]
--
The revision ID to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*roundtrip* +
_optional_
a| 
[markdown]
--
Block until document has been received by change cache

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*replicator2* +
_optional_
a| 
[markdown]
--
Returns the document with the required properties for replication. This is an enterprise-edition only feature.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*new_edits* +
_optional_
a| 
[markdown]
--
Setting this to false indicates that the request body is an already-existing revision that should be directly inserted into the database, instead of a modification to apply to the current document. This mode is used for replication.  This option must be used in conjunction with the `_revisions` property in the request body.

--

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
// end

| Boolean


a| 
*rev* +
_optional_
a| 
[markdown]
--
The document revision to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 201
a| Created
| xref:#++New-revision++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 409
a| Resource already exists under that name
| xref:#++HTTP-Error++[]

| 415
a| Invalid content type
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/{docid}/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/\{docid\}/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Delete a local document
....
DELETE /{keyspace}/_local/{docid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request deletes a local document.

Local document IDs begin with `_local/`. Local documents are not replicated or indexed, don't support attachments, and don't save revision histories. In practice they are almost only used by Couchbase Lite's replicator, as a place to store replication checkpoint data.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The name of the local document ID excluding the `_local/` prefix.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*rev* +
_required_
a| 
[markdown]
--
The revision ID of the revision to delete.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully removed the local document.
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 409
a| A revision ID conflict would result from deleting this document revision.
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_local/{docid}/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_local/\{docid\}/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get local document
....
GET /{keyspace}/_local/{docid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request retrieves a local document.

Local document IDs begin with `_local/`. Local documents are not replicated or indexed, don't support attachments, and don't save revision histories. In practice they are almost only used by Couchbase Lite's replicator, as a place to store replication checkpoint data.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The name of the local document ID excluding the `_local/` prefix.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully found local document
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_local/{docid}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_local/\{docid\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Check if local document exists
....
HEAD /{keyspace}/_local/{docid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request checks if a local document exists.

Local document IDs begin with `_local/`. Local documents are not replicated or indexed, don't support attachments, and don't save revision histories. In practice they are almost only used by Couchbase Lite's replicator, as a place to store replication checkpoint data.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The name of the local document ID excluding the `_local/` prefix.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Document exists
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_local/{docid}/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_local/\{docid\}/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Upsert a local document
....
PUT /{keyspace}/_local/{docid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This request creates or updates a local document. Updating a local document requires that the revision ID be put in the body under `_rev`.

Local document IDs are given a `_local/` prefix. Local documents are not replicated or indexed, don't support attachments, and don't save revision histories. In practice they are almost only used by the client's replicator, as a place to store replication checkpoint data.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The name of the local document ID excluding the `_local/` prefix.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

The body of the document
--

[%hardbreaks]
// end

| xref:#++KeyspaceLocalDocidPutRequest++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 201
a| Document successfully written. The document ID will be prefixed with `_local/`.
| xref:#++New-revision++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 409
a| A revision ID conflict would result from updating this document revision.
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_local/{docid}/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_local/\{docid\}/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Create a new document
....
POST /{keyspace}/
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Create a new document in the keyspace.

This will generate a random document ID unless specified in the body.

A document can have a maximum size of 20MB.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| oas_any_type_not_mapped
Map


|===



====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*roundtrip* +
_optional_
a| 
[markdown]
--
Block until document has been received by change cache

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| New document revision created successfully.
| xref:#++New-revision++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 409
a| Resource already exists under that name
| xref:#++HTTP-Error++[]

| 415
a| Invalid content type
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Purge a document
....
POST /{keyspace}/_purge
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
The purge command provides a way to remove a document from the database. The operation removes *all* revisions (active and tombstones) for the specified document(s). A common usage of this endpoint is to remove tombstone documents that are no longer needed, thus recovering storage space and reducing data replicated to clients. Other clients are not notified when a revision has been purged; so in order to purge a revision from the system it must be done from all databases (on Couchbase Lite and Sync Gateway).

When `enable_shared_bucket_access` is enabled, this endpoint removes the document and its associated extended attributes.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

Purge request body
--

[%hardbreaks]
ifeval::["{doc_id=[*]}" != "null"]
*Example:* `{doc_id=[*]}`
endif::[]
// end

| List
Map


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Attempted documents purge. Check output to verify the documents that were purged. The document IDs will not be listed if they have not been purged (for example, due to no existing).
| xref:#++__keyspace___purge_post_200_response++[]

| 400
a| Bad request. This could be due to the documents listed in the request body not having the `[\"*\"]` value for each document ID.
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_purge/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_purge/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get a document with the corresponding metadata
....
GET /{keyspace}/_raw/{docid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Returns the a documents latest revision with its metadata.

Note: The direct use of this endpoint is unsupported. The sync metadata is maintained internally by Sync Gateway and its structure can change. It should not be used to drive business logic of applications since the response to the `/{db}/_raw/{id}` endpoint can change at any time.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The document ID to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*include_doc* +
_optional_
a| 
[markdown]
--
Include the body associated with the document.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*redact* +
_optional_
a| 
[markdown]
--
This redacts sensitive parts of the response. Cannot be used when `include_docs=true`

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Document found successfully
| xref:#++__keyspace___raw__docid__get_200_response++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_raw/{docid}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_raw/\{docid\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== /{keyspace}/_raw/{docid}
....
HEAD /{keyspace}/_raw/{docid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The document ID to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Document exists
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_raw/{docid}/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_raw/\{docid\}/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]



[#Metrics]
=== Metrics

Get Sync Gateway statistics



////
// Commenting out, as SGW Spec doesn't use operationID
* <<>>
* <<>>
////




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get all Sync Gateway statistics
....
GET /_expvar
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This returns a snapshot of all metrics in Sync Gateway for debugging and monitoring purposes.

This includes per database stats, replication stats, and server stats.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Dev Ops
* External Stats Reader
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]









// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/javascript



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Returned statistics
| xref:#++ExpVars++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_expvar/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_expvar/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get memory statistics
....
GET /_stats
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This will return the current Sync Gateway nodes memory statistics such as current memory usage.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Dev Ops
* External Stats Reader
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]









// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Returned memory usage statistics
| xref:#++__stats_get_200_response++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_stats/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_stats/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]



[#Profiling]
=== Profiling

Generate information to help debug and fine-tune Sync Gateway



////
// Commenting out, as SGW Spec doesn't use operationID
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
////




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get fgprof profile
....
GET /_debug/fgprof
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
A sampling Go profiler that allows you to analyze On-CPU as well as [Off-CPU](https://www.brendangregg.com/offcpuanalysis.html) (e.g. I/O) time together.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]






====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*seconds* +
_optional_
a| 
[markdown]
--
The amount of seconds to run the profiler for.

--

[%hardbreaks]
ifeval::["30" != "null"]
*Default:* `30`
endif::[]
*Minimum:* `0`
// end

| Integer


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/x-gzip



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| xref:#++String++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_debug/fgprof/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_debug/fgprof/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get fgprof profile
....
POST /_debug/fgprof
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
A sampling Go profiler that allows you to analyze On-CPU as well as [Off-CPU](https://www.brendangregg.com/offcpuanalysis.html) (e.g. I/O) time together.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]






====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*seconds* +
_optional_
a| 
[markdown]
--
The amount of seconds to run the profiler for.

--

[%hardbreaks]
ifeval::["30" != "null"]
*Default:* `30`
endif::[]
*Minimum:* `0`
// end

| Integer


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/x-gzip



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| xref:#++String++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_debug/fgprof/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_debug/fgprof/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get block profile
....
GET /_debug/pprof/block
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Returns stack traces that led to blocking on synchronization primitives.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]






====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*seconds* +
_optional_
a| 
[markdown]
--
The amount of seconds to run the profiler for.

--

[%hardbreaks]
ifeval::["30" != "null"]
*Default:* `30`
endif::[]
*Minimum:* `0`
// end

| Integer


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/octet-stream
* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| xref:#++String++[]

| 403
a| Forbidden
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_debug/pprof/block/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_debug/pprof/block/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get block profile
....
POST /_debug/pprof/block
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Returns stack traces that led to blocking on synchronization primitives.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]






====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*seconds* +
_optional_
a| 
[markdown]
--
The amount of seconds to run the profiler for.

--

[%hardbreaks]
ifeval::["30" != "null"]
*Default:* `30`
endif::[]
*Minimum:* `0`
// end

| Integer


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/octet-stream
* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| xref:#++String++[]

| 403
a| Forbidden
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_debug/pprof/block/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_debug/pprof/block/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get passed in command line parameters
....
GET /_debug/pprof/cmdline
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Gets the command line parameters that was passed in to Sync Gateway which will include the binary, flags (if any) and startup configuration.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]









// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* text/plain



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| xref:#++String++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_debug/pprof/cmdline/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_debug/pprof/cmdline/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get passed in command line parameters
....
POST /_debug/pprof/cmdline
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Gets the command line parameters that was passed in to Sync Gateway which will include the binary, flags (if any) and startup configuration.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]









// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* text/plain



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| xref:#++String++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_debug/pprof/cmdline/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_debug/pprof/cmdline/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get goroutine profile
....
GET /_debug/pprof/goroutine
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Stack traces of all current goroutines.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]






====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*seconds* +
_optional_
a| 
[markdown]
--
If set, collect a delta profile for the given duration, instead of a snapshot.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/octet-stream



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| xref:#++String++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_debug/pprof/goroutine/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_debug/pprof/goroutine/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get goroutine profile
....
POST /_debug/pprof/goroutine
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Stack traces of all current goroutines.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]






====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*seconds* +
_optional_
a| 
[markdown]
--
If set, collect a delta profile for the given duration, instead of a snapshot.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/octet-stream



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| xref:#++String++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_debug/pprof/goroutine/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_debug/pprof/goroutine/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get the heap pprof debug file
....
GET /_debug/pprof/heap
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]






====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*seconds* +
_optional_
a| 
[markdown]
--
If set, collect a delta profile for the given duration, instead of a snapshot.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/octet-stream



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| xref:#++String++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_debug/pprof/heap/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_debug/pprof/heap/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get the heap pprof debug file
....
POST /_debug/pprof/heap
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]






====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*seconds* +
_optional_
a| 
[markdown]
--
If set, collect a delta profile for the given duration, instead of a snapshot.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/octet-stream



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| xref:#++String++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_debug/pprof/heap/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_debug/pprof/heap/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get mutex profile
....
GET /_debug/pprof/mutex
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Returns stack traces of holders of contended mutexes.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]






====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*seconds* +
_optional_
a| 
[markdown]
--
The amount of seconds to run the profiler for.

--

[%hardbreaks]
ifeval::["30" != "null"]
*Default:* `30`
endif::[]
*Minimum:* `0`
// end

| Integer


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/octet-stream
* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| xref:#++String++[]

| 403
a| Forbidden
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_debug/pprof/mutex/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_debug/pprof/mutex/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get mutex profile
....
POST /_debug/pprof/mutex
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Returns stack traces of holders of contended mutexes.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]






====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*seconds* +
_optional_
a| 
[markdown]
--
The amount of seconds to run the profiler for.

--

[%hardbreaks]
ifeval::["30" != "null"]
*Default:* `30`
endif::[]
*Minimum:* `0`
// end

| Integer


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/octet-stream
* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| xref:#++String++[]

| 403
a| Forbidden
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_debug/pprof/mutex/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_debug/pprof/mutex/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get the profile pprof debug file
....
GET /_debug/pprof/profile
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]






====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*seconds* +
_optional_
a| 
[markdown]
--
If set, collect a delta profile for the given duration, instead of a snapshot.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/octet-stream



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| xref:#++String++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_debug/pprof/profile/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_debug/pprof/profile/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get the profile pprof debug file
....
POST /_debug/pprof/profile
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]






====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*seconds* +
_optional_
a| 
[markdown]
--
If set, collect a delta profile for the given duration, instead of a snapshot.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/octet-stream



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| xref:#++String++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_debug/pprof/profile/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_debug/pprof/profile/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get symbol pprof debug information
....
GET /_debug/pprof/symbol
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]









// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* text/plain



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| xref:#++String++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_debug/pprof/symbol/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_debug/pprof/symbol/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get symbol pprof debug information
....
POST /_debug/pprof/symbol
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]









// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* text/plain



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| xref:#++String++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_debug/pprof/symbol/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_debug/pprof/symbol/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get the threadcreate pprof debug file
....
GET /_debug/pprof/threadcreate
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]









// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/octet-stream



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| xref:#++String++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_debug/pprof/threadcreate/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_debug/pprof/threadcreate/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get the threadcreate pprof debug file
....
POST /_debug/pprof/threadcreate
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]









// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/octet-stream



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| xref:#++String++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_debug/pprof/threadcreate/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_debug/pprof/threadcreate/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get trace profile
....
GET /_debug/pprof/trace
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Responds with the execution trace in binary form.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]






====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*seconds* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
ifeval::["1" != "null"]
*Default:* `1`
endif::[]
// end

| Integer


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/octet-stream



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| xref:#++String++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_debug/pprof/trace/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_debug/pprof/trace/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get trace profile
....
POST /_debug/pprof/trace
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Responds with the execution trace in binary form.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]






====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*seconds* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
ifeval::["1" != "null"]
*Default:* `1`
endif::[]
// end

| Integer


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/octet-stream



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| xref:#++String++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_debug/pprof/trace/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_debug/pprof/trace/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Dump heap profile
....
POST /_heap
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This endpoint will dump a pprof heap profile.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]



====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| xref:#++ProfileProfilenamePostRequest++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully dumped heap profile
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_heap/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_heap/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Start or Stop continuous CPU profiling
....
POST /_profile
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This endpoint allows you to start and stop continuous CPU profiling.

To start profiling the CPU, call this endpoint and supply a file to output the pprof file to.

To stop profiling, call this endpoint but don't supply the `file` in the body.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]



====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| xref:#++ProfileProfilenamePostRequest++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully started or stopped CPU profiling
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_profile/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_profile/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Create point-in-time profile
....
POST /_profile/{profilename}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This endpoint allows you to create a pprof snapshot of the given type.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*profilename* +
_required_
a| 
[markdown]
--
The handler to use for profiling.

--

[%hardbreaks]
*Values:* `heap`, `block`, `threadcreate`, `mutex`, `goroutine`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| xref:#++ProfileProfilenamePostRequest++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully created profile
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_profile/{profilename}/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_profile/\{profilename\}/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]



[#Replication]
=== Replication

Create and manage inter-Sync Gateway replications



////
// Commenting out, as SGW Spec doesn't use operationID
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
////




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Handle incoming BLIP Sync web socket request
....
GET /{db}/_blipsync
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This handles incoming BLIP Sync requests from either Couchbase Lite or another Sync Gateway node. The connection has to be upgradable to a websocket connection or else the request will fail.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*client* +
_optional_
a| 
[markdown]
--
This is the client type that is making the BLIP Sync request. Used to control client-type specific replication behaviour.

--

[%hardbreaks]
*Values:* `cbl2`, `sgr2`
ifeval::["cbl2" != "null"]
*Default:* `cbl2`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 101
a| Upgraded to a web socket connection
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 426
a| Cannot upgrade connection to a web socket connection
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_blipsync/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_blipsync/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get all replication configurations
....
GET /{db}/_replication/
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This will retrieve all database replication definitions.

Required Sync Gateway RBAC roles:

* Sync Gateway Replicator
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Retrieved replication configurations successfully. The `assigned_node` fields will end with `(local)` or `(non-local)` depending on if the replication is running on this Sync Gateway node.
| xref:#++All-replications++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_replication/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_replication/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== /{db}/_replication/
....
HEAD /{db}/_replication/
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Required Sync Gateway RBAC roles:

* Sync Gateway Replicator
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]





// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| 

| 404
a| Not Found
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_replication/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_replication/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Upsert a replication
....
POST /{db}/_replication/
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Create or update a replication in the database.

If an existing replication is being updated, that replication must be stopped first.

Required Sync Gateway RBAC roles:

* Sync Gateway Replicator
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

If the `replication_id` matches an existing replication then the existing configuration will be updated. Only the specified fields in the request will be used to update the existing configuration. Unspecified fields will remain untouched.
--

[%hardbreaks]
// end

| xref:#++Replication++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Updated existing configuration successfully
| 

| 201
a| Created new replication successfully
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_replication/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_replication/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Stop and delete a replication
....
DELETE /{db}/_replication/{replicationid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This will delete a replication causing it to stop and no longer exist.

Required Sync Gateway RBAC roles:

* Sync Gateway Replicator
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*replicationid* +
_required_
a| 
[markdown]
--
What replication to target based on its replication ID.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Replication successfully deleted
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_replication/{replicationid}/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_replication/\{replicationid\}/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get a replication configuration
....
GET /{db}/_replication/{replicationid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Retrieve a replication configuration from the database.

Required Sync Gateway RBAC roles:

* Sync Gateway Replicator
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*replicationid* +
_required_
a| 
[markdown]
--
What replication to target based on its replication ID.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully retrieved the replication configuration
| xref:#++Retrieved-replication++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_replication/{replicationid}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_replication/\{replicationid\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Check if a replication exists
....
HEAD /{db}/_replication/{replicationid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Check if a replication exists.

Required Sync Gateway RBAC roles:

* Sync Gateway Replicator
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*replicationid* +
_required_
a| 
[markdown]
--
What replication to target based on its replication ID.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]





// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Replication exists
| 

| 404
a| Replication does not exist
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_replication/{replicationid}/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_replication/\{replicationid\}/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Upsert a replication
....
PUT /{db}/_replication/{replicationid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Create or update a replication in the database.

The replication ID does **not** need to be set in the request body.

If an existing replication is being updated, that replication must be stopped first and, if the `replication_id` is specified in the request body, it must match the replication ID in the URI.

Required Sync Gateway RBAC roles:

* Sync Gateway Replicator
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*replicationid* +
_required_
a| 
[markdown]
--
What replication to target based on its replication ID.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

If the `replication_id` matches an existing replication then the existing configuration will be updated. Only the specified fields in the request will be used to update the existing configuration. Unspecified fields will remain untouched.
--

[%hardbreaks]
// end

| xref:#++Replication++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Updated existing configuration successfully
| 

| 201
a| Created new replication successfully
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_replication/{replicationid}/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_replication/\{replicationid\}/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get all replication statuses
....
GET /{db}/_replicationStatus/
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Retrieve all the replication statuses in the Sync Gateway node.

Required Sync Gateway RBAC roles:

* Sync Gateway Replicator
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*activeOnly* +
_optional_
a| 
[markdown]
--
Only return replications that are actively running (`state=running`).

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


a| 
*localOnly* +
_optional_
a| 
[markdown]
--
Only return replications that were started on the current Sync Gateway node.

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


a| 
*includeError* +
_optional_
a| 
[markdown]
--
Include replications that have stopped due to an error (`state=error`).

--

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
// end

| Boolean


a| 
*includeConfig* +
_optional_
a| 
[markdown]
--
Include the replication configuration with each replicator status in the response.

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully retrieved all replication statuses.
| List

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_replicationStatus/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_replicationStatus/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== /{db}/_replicationStatus/
....
HEAD /{db}/_replicationStatus/
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Required Sync Gateway RBAC roles:

* Sync Gateway Replicator
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]





// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| 

| 400
a| Bad Request
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_replicationStatus/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_replicationStatus/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get replication status
....
GET /{db}/_replicationStatus/{replicationid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Retrieve the status of a replication.

Required Sync Gateway RBAC roles:

* Sync Gateway Replicator
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*replicationid* +
_required_
a| 
[markdown]
--
What replication to target based on its replication ID.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*activeOnly* +
_optional_
a| 
[markdown]
--
Only return replications that are actively running (`state=running`).

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


a| 
*localOnly* +
_optional_
a| 
[markdown]
--
Only return replications that were started on the current Sync Gateway node.

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


a| 
*includeError* +
_optional_
a| 
[markdown]
--
Include replications that have stopped due to an error (`state=error`).

--

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
// end

| Boolean


a| 
*includeConfig* +
_optional_
a| 
[markdown]
--
Include the replication configuration with each replicator status in the response.

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully retrieved replication status
| xref:#++Replication-status++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Could not find replication
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_replicationStatus/{replicationid}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_replicationStatus/\{replicationid\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Check if replication exists
....
HEAD /{db}/_replicationStatus/{replicationid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Check if a replication exists.

Required Sync Gateway RBAC roles:

* Sync Gateway Replicator
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*replicationid* +
_required_
a| 
[markdown]
--
What replication to target based on its replication ID.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*activeOnly* +
_optional_
a| 
[markdown]
--
Only return replications that are actively running (`state=running`).

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


a| 
*localOnly* +
_optional_
a| 
[markdown]
--
Only return replications that were started on the current Sync Gateway node.

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


a| 
*includeError* +
_optional_
a| 
[markdown]
--
Include replications that have stopped due to an error (`state=error`).

--

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
// end

| Boolean


a| 
*includeConfig* +
_optional_
a| 
[markdown]
--
Include the replication configuration with each replicator status in the response.

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Replication exists
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_replicationStatus/{replicationid}/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_replicationStatus/\{replicationid\}/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Control a replication state
....
PUT /{db}/_replicationStatus/{replicationid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Control the replication by changing its state.

This is done through the action query parameter, which has 3 valid values:
* `start` - starts a stopped replication
* `stop` - stops an active replication
* `reset` - resets the replication checkpoint to 0. For bidirectional replication, both push and pull checkpoints are reset to 0. The replication must be stopped to use this.

Required Sync Gateway RBAC roles:

* Sync Gateway Replicator
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*replicationid* +
_required_
a| 
[markdown]
--
What replication to target based on its replication ID.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*action* +
_required_
a| 
[markdown]
--
The target state to put the replicator into.

--

[%hardbreaks]
*Values:* `start`, `stop`, `reset`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully changed target state of replicator
| xref:#++Replication-status++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_replicationStatus/{replicationid}/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_replicationStatus/\{replicationid\}/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]



[#Server]
=== Server

Manage server activities



////
// Commenting out, as SGW Spec doesn't use operationID
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
////




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get server configuration
....
GET /_config
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This will return the configuration that the Sync Gateway node was initially started up with, or the currently config if `include_runtime` is set.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]






====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*redact* +
_optional_
a| 
[markdown]
--
No longer supported field.

--

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
// end

| Boolean


a| 
*include_runtime* +
_optional_
a| 
[markdown]
--
Whether to include the values set after starting (at runtime), default values, and all loaded databases.

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| Boolean


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully returned server configuration
| xref:#++Startup-config++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_config/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_config/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Set runtime configuration
....
PUT /_config
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This endpoint is used to dynamically set runtime options, like logging without needing a restart.

These options are not persisted, and will not survive a restart of Sync Gateway.

The endpoint only accepts a limited number of options that can be changed at runtime. See request body schema for allowable options.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]



====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| xref:#++StartupConfig++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully set runtime options
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_config/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_config/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get console logging settings
....
GET /_logging
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
**Deprecated in favour of `GET /_config`**
This will return a map of the log keys being used for the console logging.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]









// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Returned map of console log keys
| xref:#++Map++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_logging/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_logging/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Update console logging settings
....
POST /_logging
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
**Deprecated in favour of `PUT /_config`**
This is for enabling the log keys provided and optionally changing the console log level.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]



====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

The console log keys to upsert.
--

[%hardbreaks]
// end

| Boolean
Map


|===



====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*logLevel* +
_optional_
a| 
[markdown]
--
The is what to set the console log level too.

--

[%hardbreaks]
*Values:* `none`, `error`, `warn`, `info`, `debug`, `trace`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*level* +
_optional_
a| 
[markdown]
--
**Deprecated: use log level instead.**

This sets the console log level depending on the value provide. 1 sets to `info`, 2 sets to `warn`, and 3 sets to `error`.'

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
*Minimum:* `1`
*Maximum:* `3`
// end

| Integer


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Log keys successfully updated.
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_logging/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_logging/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Set console logging settings
....
PUT /_logging
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
**Deprecated in favour of `PUT /_config`**
Enable or disable console log keys and optionally change the console log level.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]



====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

The map of log keys to use for console logging.
--

[%hardbreaks]
// end

| Boolean
Map


|===



====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*logLevel* +
_optional_
a| 
[markdown]
--
The is what to set the console log level too.

--

[%hardbreaks]
*Values:* `none`, `error`, `warn`, `info`, `debug`, `trace`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*level* +
_optional_
a| 
[markdown]
--
**Deprecated: use log level instead.**

This sets the console log level depending on the value provide. 1 sets to `info`, 2 sets to `warn`, and 3 sets to `error`.'

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
*Minimum:* `1`
*Maximum:* `3`
// end

| Integer


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Log keys successfully replaced.
| 

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_logging/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_logging/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Run the post upgrade process on all databases
....
POST /_post_upgrade
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
The post upgrade process involves removing obsolete design documents and indexes when they are no longer needed.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]






====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*preview* +
_optional_
a| 
[markdown]
--
If set, a dry-run will be done to return what would be removed.

--

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Returned results
| xref:#++__post_upgrade_post_200_response++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_post_upgrade/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_post_upgrade/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get server information
....
GET /
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Returns information about the Sync Gateway node.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]









// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Returned server information
| xref:#++NodeInfo++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Check if server online
....
HEAD /
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Check if the server is online by checking the status code of response.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]









// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]





// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Server is online
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Cancel the Sync Gateway Collect Info job
....
DELETE /_sgcollect_info
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This endpoint is used to cancel a current Sync Gateway Collect Info (sgcollect_info) job that is running.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]









// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Job cancelled successfully
| xref:#++__sgcollect_info_delete_200_response++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_sgcollect_info/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_sgcollect_info/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get the status of the Sync Gateway Collect Info
....
GET /_sgcollect_info
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This will return the status of whether Sync Gateway Collect Info (sgcollect_info) is currently running or not.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]









// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Returned sgcollect_info status
| xref:#++__sgcollect_info_get_200_response++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_sgcollect_info/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_sgcollect_info/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Start Sync Gateway Collect Info
....
POST /_sgcollect_info
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This endpoint is used to start a Sync Gateway Collect Info (sgcollect_info) job so that Sync Gateway diagnostic data can be outputted to a file.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]



====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

sgcollect_info options
--

[%hardbreaks]
// end

| xref:#++SgcollectInfoPostRequest++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully started sgcollect_info
| xref:#++__sgcollect_info_post_200_response++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]

| 500
a| An error occurred while trying to run sgcollect_info
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_sgcollect_info/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_sgcollect_info/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get the server status
....
GET /_status
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This will retrieve the status of each database and the overall server status.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]









// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Returned the status successfully
| xref:#++Status++[]

| 400
a| There was a problem with your request
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :_status/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}_status/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]



[#Session]
=== Session

Manage user sessions



////
// Commenting out, as SGW Spec doesn't use operationID
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
////




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get information about the current user
....
GET /{db}/_session
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This will get the information about the current user.
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Properties associated with a user session
| xref:#++User-session-information++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_session/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_session/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== /{db}/_session
....
HEAD /{db}/_session
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--

--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| OK
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_session/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_session/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Create a new user session
....
POST /{db}/_session
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Generates a login session for a user and returns the session ID and cookie name for that session. If no TTL is provided, then the default of 24 hours will be used.

A session cannot be generated for an non-existent user or the `GUEST` user.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--

The body can depend on if using the Public or Admin APIs.
--

[%hardbreaks]
// end

| xref:#++DbSessionPostRequest++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Session created successfully. Returned body is dependant on if using Public or Admin APIs.
| xref:#++__db___session_post_200_response++[]

| 400
a| Origin is not in the approved list of allowed origins
| xref:#++HTTP-Error++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_session/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_session/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Remove session
....
DELETE /{db}/_session/{sessionid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Invalidates the session provided so that anyone using it is logged out and is prevented from future use.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*sessionid* +
_required_
a| 
[markdown]
--
The ID of the session to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully removed the user session
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_session/{sessionid}/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_session/\{sessionid\}/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get session information
....
GET /{db}/_session/{sessionid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Retrieve session information such as the user the session belongs too and what channels that user can access.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*sessionid* +
_required_
a| 
[markdown]
--
The ID of the session to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Properties associated with a user session
| xref:#++User-session-information++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_session/{sessionid}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_session/\{sessionid\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Remove all of a users sessions
....
DELETE /{db}/_user/{name}/_session
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Invalidates all the sessions that a user has.

Will still return a `200` status code if the user has no sessions.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*name* +
_required_
a| 
[markdown]
--
The name of the user.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| User now has no sessions
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_user/{name}/_session/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_user/\{name\}/_session/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Remove session with user validation
....
DELETE /{db}/_user/{name}/_session/{sessionid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
Invalidates the session only if it belongs to the user.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*name* +
_required_
a| 
[markdown]
--
The name of the user.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*sessionid* +
_required_
a| 
[markdown]
--
The ID of the session to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Session has been successfully removed as the user was associated with the session
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_user/{name}/_session/{sessionid}/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_user/\{name\}/_session/\{sessionid\}/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]



[#Unsupported]
=== Unsupported

Endpoints that are not supported by Sync Gateway



////
// Commenting out, as SGW Spec doesn't use operationID
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
* <<>>
////




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Delete a design document | Unsupported
....
DELETE /{db}/_design/{ddoc}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
**This is unsupported**

Delete a design document.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*ddoc* +
_required_
a| 
[markdown]
--
The design document name.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Design document deleted successfully
| 

| 403
a| Forbidden access possibly due to not using the Admin API or the design document is a built-in Sync Gateway one.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_design/{ddoc}/DELETE/DELETE.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_design/\{ddoc\}/DELETE/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Get views of a design document | Unsupported
....
GET /{db}/_design/{ddoc}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
**This is unsupported**

Query a design document.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*ddoc* +
_required_
a| 
[markdown]
--
The design document name.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully returned design document.
| xref:#++Design-doc++[]

| 403
a| Forbidden access possibly due to not using the Admin API or the design document is a built-in Sync Gateway one.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_design/{ddoc}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_design/\{ddoc\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Check if view of design document exists | Unsupported
....
HEAD /{db}/_design/{ddoc}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
**This is unsupported**

Check if a design document can be queried.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*ddoc* +
_required_
a| 
[markdown]
--
The design document name.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Design document exists
| 

| 403
a| Forbidden access possibly due to not using the Admin API or the design document is a built-in Sync Gateway one.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_design/{ddoc}/HEAD/HEAD.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_design/\{ddoc\}/HEAD/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Update views of a design document | Unsupported
....
PUT /{db}/_design/{ddoc}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
**This is unsupported**

Update the views of a design document.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*ddoc* +
_required_
a| 
[markdown]
--
The design document name.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===

====== Body Parameter

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*Body* +
_optional_
a| 
[markdown]
--


--

[%hardbreaks]
// end

| xref:#++DesignDoc++[]


|===





// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json

[#-consumes]]
===== Consumes

* application/json


// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Design document changes successfully
| 

| 403
a| Forbidden access possibly due to not using the Admin API or the design document is a built-in Sync Gateway one.
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_design/{ddoc}/PUT/PUT.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_design/\{ddoc\}/PUT/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Query a view on a design document | Unsupported
....
GET /{db}/_design/{ddoc}/_view/{view}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
**This is unsupported**

Query a view on a design document.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*ddoc* +
_required_
a| 
[markdown]
--
The design document name.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*view* +
_required_
a| 
[markdown]
--
The view to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*inclusive_end* +
_optional_
a| 
[markdown]
--
Indicates whether the specified end key should be included in the result.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*descending* +
_optional_
a| 
[markdown]
--
Return documents in descending order.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*include_docs* +
_optional_
a| 
[markdown]
--
Only works when using Couchbase Server 3.0 and earlier. Indicates whether to include the full content of the documents in the response.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*reduce* +
_optional_
a| 
[markdown]
--
Whether to execute a reduce function on the response or not.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*group* +
_optional_
a| 
[markdown]
--
Group the results using the reduce function to a group or single row.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*skip* +
_optional_
a| 
[markdown]
--
Skip the specified number of documents before starting to return results.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


a| 
*limit* +
_optional_
a| 
[markdown]
--
Return only the specified number of documents

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


a| 
*group_level* +
_optional_
a| 
[markdown]
--
Specify the group level to be used.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


a| 
*startkey_docid* +
_optional_
a| 
[markdown]
--
Return documents starting with the specified document identifier.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*endkey_docid* +
_optional_
a| 
[markdown]
--
Stop returning records when the specified document identifier is reached.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*stale* +
_optional_
a| 
[markdown]
--
Allow the results from a stale view to be used, without triggering a rebuild of all views within the encompassing design document.

--

[%hardbreaks]
*Values:* `ok`, `update_after`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*startkey* +
_optional_
a| 
[markdown]
--
Return records starting with the specified key.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*endkey* +
_optional_
a| 
[markdown]
--
Stop returning records when this key is reached.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*key* +
_optional_
a| 
[markdown]
--
Return only the document that matches the specified key.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*keys* +
_optional_
a| 
[markdown]
--
An array of document ID strings to filter by.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String
List


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Returned view successfully
| xref:#++__db___view__view__get_200_response++[]

| 403
a| Forbidden
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_design/{ddoc}/_view/{view}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_design/\{ddoc\}/_view/\{view\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Dump a view | Unsupported
....
GET /{db}/_dump/{view}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
**This is unsupported**

This queries the view and outputs it as HTML.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*view* +
_required_
a| 
[markdown]
--
The view to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* text/html
* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Retrieved view successfully
| xref:#++String++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 500
a| Internal Server Error
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_dump/{view}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_dump/\{view\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Flush the entire database bucket | Unsupported
....
POST /{db}/_flush
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
**This is unsupported**

This will purge *all* documents.

The bucket will only be flushed if the unsupported database configuration option `enable_couchbase_bucket_flush` is set.

Required Sync Gateway RBAC roles:

* Sync Gateway Dev Ops
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully flushed the bucket
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]

| 503
a| The bucket does not support flush or delete
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_flush/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_flush/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Disabled endpoint
....
POST /{db}/_repair
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This endpoint is disabled.

Required Sync Gateway RBAC roles:

* Sync Gateway Architect
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]





// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 500
a| This endpoint is disabled
| 


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_repair/POST/POST.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_repair/POST/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Query a view on the default design document | Unsupported
....
GET /{db}/_view/{view}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
**This is unsupported**

Query a view on the default Sync Gateway design document.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*db* +
_required_
a| 
[markdown]
--
The name of the database to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*view* +
_required_
a| 
[markdown]
--
The view to target.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*inclusive_end* +
_optional_
a| 
[markdown]
--
Indicates whether the specified end key should be included in the result.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*descending* +
_optional_
a| 
[markdown]
--
Return documents in descending order.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*include_docs* +
_optional_
a| 
[markdown]
--
Only works when using Couchbase Server 3.0 and earlier. Indicates whether to include the full content of the documents in the response.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*reduce* +
_optional_
a| 
[markdown]
--
Whether to execute a reduce function on the response or not.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*group* +
_optional_
a| 
[markdown]
--
Group the results using the reduce function to a group or single row.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Boolean


a| 
*skip* +
_optional_
a| 
[markdown]
--
Skip the specified number of documents before starting to return results.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


a| 
*limit* +
_optional_
a| 
[markdown]
--
Return only the specified number of documents

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


a| 
*group_level* +
_optional_
a| 
[markdown]
--
Specify the group level to be used.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| Integer


a| 
*startkey_docid* +
_optional_
a| 
[markdown]
--
Return documents starting with the specified document identifier.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*endkey_docid* +
_optional_
a| 
[markdown]
--
Stop returning records when the specified document identifier is reached.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*stale* +
_optional_
a| 
[markdown]
--
Allow the results from a stale view to be used, without triggering a rebuild of all views within the encompassing design document.

--

[%hardbreaks]
*Values:* `ok`, `update_after`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*startkey* +
_optional_
a| 
[markdown]
--
Return records starting with the specified key.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*endkey* +
_optional_
a| 
[markdown]
--
Stop returning records when this key is reached.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*key* +
_optional_
a| 
[markdown]
--
Return only the document that matches the specified key.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*keys* +
_optional_
a| 
[markdown]
--
An array of document ID strings to filter by.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String
List


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Returned view successfully
| xref:#++__db___view__view__get_200_response++[]

| 403
a| Forbidden
| 

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{db}/_view/{view}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{db\}/_view/\{view\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Dump all the documents in a channel | Unsupported
....
GET /{keyspace}/_dumpchannel/{channel}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
**This is unsupported**

This queries a channel and displays all the document IDs and revisions that are in that channel.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*channel* +
_required_
a| 
[markdown]
--
The channel to dump all the documents from.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===




====== Query Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*since* +
_optional_
a| 
[markdown]
--
Starts the results from the change immediately after the given sequence ID. Sequence IDs should be considered opaque; they come from the last_seq property of a prior response.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===


// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* text/html
* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Successfully got all documents in the channel
| xref:#++String++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_dumpchannel/{channel}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_dumpchannel/\{channel\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}paths/operation-before.adoc[opts=optional]


[#]
==== Revision tree structure in Graphviz Dot format | Unsupported
....
GET /{keyspace}/_revtree/{docid}
....


// markup not found, no include::{specDir}paths/operation-begin.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-description-before.adoc[opts=optional]


[#-description]]
===== Description


// markup not found, no include::{specDir}paths/operation-description-begin.adoc[opts=optional]


[markdown]
--
This returns the Dot syntax of the revision tree for the document so that it can be rendered in to a PNG image using the [Graphviz CLI tool](https://www.graphviz.org/).

To use:
1. Install the Graphviz tool. Using Brew, this can be done by calling `brew install graphviz`.
2. Save the response text from this endpoint to a file (for example, `revtree.dot`).
3. Render the PNG by calling `dot -Tpng revtree.dot > revtree.png`.

Required Sync Gateway RBAC roles:

* Sync Gateway Application
* Sync Gateway Application Read Only

**Note: This endpoint is useful for debugging purposes only. It is not officially supported.**
--


// markup not found, no include::{specDir}paths/operation-description-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-description-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-before.adoc[opts=optional]


===== Parameters


// markup not found, no include::{specDir}paths/operation-parameters-begin.adoc[opts=optional]


====== Path Parameters

[cols="2,3,1"]
|===
|Name| Description| Schema

a| 
*keyspace* +
_required_
a| 
[markdown]
--
The keyspace to run the operation against.

A keyspace is a dot-separated string, comprised of a database name, and optionally a named scope and collection.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


a| 
*docid* +
_required_
a| 
[markdown]
--
The document ID to run the operation against.

--

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
// end

| String


|===






// markup not found, no include::{specDir}paths/operation-parameters-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-parameters-after.adoc[opts=optional]


[#-produces]]
===== Produces

* application/json



// markup not found, no include::{specDir}paths/operation-responses-before.adoc[opts=optional]


[#-responses]]
===== Responses


// markup not found, no include::{specDir}paths/operation-responses-begin.adoc[opts=optional]


[cols="1,3,1"]
|===
| HTTP Code | Description | Schema

| 200
a| Found document
| xref:#++String++[]

| 404
a| Resource could not be found
| xref:#++HTTP-Error++[]


|===


// markup not found, no include::{specDir}paths/operation-responses-end.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-responses-after.adoc[opts=optional]



// markup not found, no include::{specDir}paths/operation-security-before.adoc[opts=optional]






// markup not found, no include::{specDir}paths/operation-security-after.adoc[opts=optional]


:leveloffset: +4

// markup not found, no include::{snippetDir}http-request.adoc[opts=optional]


// markup not found, no include::{snippetDir}http-response.adoc[opts=optional]

:leveloffset: -4


// file not found, no * wiremock data link :{keyspace}/_revtree/{docid}/GET/GET.json[]


ifdef::internal-generation[]
===== Implementation

// markup not found, no include::{specDir}\{keyspace\}/_revtree/\{docid\}/GET/implementation.adoc[opts=optional]


endif::internal-generation[]


// markup not found, no include::{specDir}paths/operation-end.adoc[opts=optional]


// markup not found, no include::{specDir}paths/operation-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/document-before.adoc[opts=optional]


[#models]
== Definitions

:desc-All-replications: Contains all the replication IDs with their corresponding replication configurations
:desc-Changes-feed: Properties of a changes feed
:desc-CollectionAccessConfig: An object keyed by collection name, defines access for the collection.
:desc-CollectionConfig: The configuration for the individual collection
:desc-Compact-status: The status returned from a compaction.
:desc-CredentialsConfig: The configuration for the credentials set.
:desc-Database: The properties of a database configuration.
:desc-Database_cache_channel_cache: The channel cache config settings.
:desc-Database_cache_rev_cache: The revision cache config settings.
:desc-Database_delta_sync: Delta sync configuration settings.  **This is an enterprise-edition feature only**
:desc-Database_event_handlers: These are the settings for webhooks.
:desc-Database_local_jwt_value: The providers name.
:desc-Database_oidc: Configuration for OpenID Connect authentication.
:desc-Database_oidc_providers_value: The providers name.
:desc-Database_scopes: Scope and collection specific config.
:desc-Database_unsupported: These are unsupported options and therefore it is not recommended to use them.
:desc-__db___get_200_response_scopes_value: The name of the scope.
:desc-__db___get_200_response_scopes_value_collections_value: The name of the collection.
:desc-Design-doc: Properties of a design document
:desc-Design_doc_views_additionalProperties: The name of the view.
:desc-Document: The configurable Sync Gateway properties of a document.
:desc-Document__attachments_value: The name of the attachment.
:desc-Event_config_options: The options for the event.
:desc-ExpVars_syncgateway: Monitoring stats
:desc-ExpVars_syncgateway_global: Global Sync Gateway stats
:desc-ExpVars_syncgateway_global_resource_utilization: Resource utilization stats
:desc-ExpVars_syncgateway_per_replication_inner: Stats for a given replication_id
:desc-__keyspace___revs_diff_post_200_response_docid: The document ID.
:desc-New-revision: Properties returned when a new document revision is created
:desc-NodeInfo_vendor: Product vendor
:desc-OIDC-login-page-handler: Properties passed from the OpenID Connect mock login page to the handler
:desc-OIDC-token: Properties expected back from an OpenID Connect provider after successful authentication
:desc-__post_upgrade_post_200_response_post_upgrade_results_value: The name of the database that was targetted.
:desc-Replication: Properties of a replication
:desc-Resync-status: The status of a resync operation
:desc-Retrieved-replication: Properties of a replication
:desc-Role: Properties associated with a role
:desc-Serverless: Configuration for when SG is running in serverless mode
:desc-Startup_config_api: Configuration settings for modifying how the REST API is interacted with.
:desc-Startup_config_bootstrap: Configuration settings for interacting with Couchbase Server.
:desc-Startup_config_logging: The configuration settings for modifying Sync Gateway logging.
:desc-Startup_config_unsupported: Settings that are not officially supported. It is highly recommended these are **not** used.
:desc-Status_databases_value: The name of the database.
:desc-Status_databases_value_cluster_nodes: Map of all Sync Gateway nodes in the cluster.
:desc-Status_databases_value_cluster_nodes_node_uuid: The nodes unique identifier.
:desc-Status_databases_value_cluster_replication: Map of replication configs defined for the cluster.
:desc-User: Properties associated with a user


// markup not found, no include::{specDir}definitions/document-begin.adoc[opts=optional]


This section describes the properties consumed and returned by this REST API.

* xref:#++All-replications++[]
* xref:#++Changes-feed++[]
* xref:#++Changes_feed_results_inner++[]
* xref:#++Changes_feed_results_inner_changes_inner++[]
* xref:#++CollectionAccessConfig++[]
* xref:#++CollectionConfig++[]
* xref:#++Compact-status++[]
* xref:#++Console-logging-config++[]
* xref:#++CredentialsConfig++[]
* xref:#++Database++[]
* xref:#++Database_cache++[]
* xref:#++Database_cache_channel_cache++[]
* xref:#++Database_cache_rev_cache++[]
* xref:#++Database_delta_sync++[]
* xref:#++Database_event_handlers++[]
* xref:#++Database_local_jwt_value++[]
* xref:#++Database_local_jwt_value_keys_inner++[]
* xref:#++Database_oidc++[]
* xref:#++Database_oidc_providers_value++[]
* xref:#++Database_replications++[]
* xref:#++Database_scopes++[]
* xref:#++Database_unsupported++[]
* xref:#++Database_unsupported_api_endpoints++[]
* xref:#++Database_unsupported_oidc_test_provider++[]
* xref:#++Database_unsupported_user_views++[]
* xref:#++Database_unsupported_warning_thresholds++[]
* xref:#++__db___ensure_full_commit_post_201_response++[]
* xref:#++__db___facebook_post_401_response++[]
* xref:#++__db___facebook_post_request++[]
* xref:#++__db___get_200_response++[]
* xref:#++__db___get_200_response_scopes_value++[]
* xref:#++__db___get_200_response_scopes_value_collections_value++[]
* xref:#++__db___google_post_request++[]
* xref:#++__db___oidc_testing_certs_get_200_response++[]
* xref:#++__db___oidc_testing_certs_get_200_response_keys_inner++[]
* xref:#++__db___oidc_testing_token_post_request++[]
* xref:#++__db___oidc_testing__well_known_openid_configuration_get_200_response++[]
* xref:#++__db___online_post_request++[]
* xref:#++__db___resync_post_request++[]
* xref:#++__db___session_post_200_response++[]
* xref:#++__db___session_post_request++[]
* xref:#++__db___view__view__get_200_response++[]
* xref:#++__db___view__view__get_200_response_errors_inner++[]
* xref:#++__db___view__view__get_200_response_rows_inner++[]
* xref:#++Design-doc++[]
* xref:#++Design_doc_options++[]
* xref:#++Design_doc_views++[]
* xref:#++Design_doc_views_additionalProperties++[]
* xref:#++Document++[]
* xref:#++Document__attachments_value++[]
* xref:#++Document__revisions++[]
* xref:#++Event-config++[]
* xref:#++Event_config_options++[]
* xref:#++ExpVars++[]
* xref:#++ExpVars_syncGateway_changeCache++[]
* xref:#++ExpVars_syncGateway_db++[]
* xref:#++ExpVars_syncgateway++[]
* xref:#++ExpVars_syncgateway_global++[]
* xref:#++ExpVars_syncgateway_global_resource_utilization++[]
* xref:#++ExpVars_syncgateway_per_db_inner++[]
* xref:#++ExpVars_syncgateway_per_replication_inner++[]
* xref:#++ExpVars_syncgateway_per_replication_inner__replication_id++[]
* xref:#++File-logging-config++[]
* xref:#++HTTP-Error++[]
* xref:#++__keyspace___all_docs_get_200_response++[]
* xref:#++__keyspace___all_docs_get_200_response_rows_inner++[]
* xref:#++__keyspace___all_docs_get_200_response_rows_inner_value++[]
* xref:#++__keyspace___all_docs_post_request++[]
* xref:#++__keyspace___bulk_docs_post_201_response_inner++[]
* xref:#++__keyspace___bulk_docs_post_request++[]
* xref:#++__keyspace___bulk_get_post_request++[]
* xref:#++__keyspace___bulk_get_post_request_docs_inner++[]
* xref:#++__keyspace___changes_post_request++[]
* xref:#++__keyspace___docid__get_200_response++[]
* xref:#++__keyspace___local__docid__put_request++[]
* xref:#++__keyspace___purge_post_200_response++[]
* xref:#++__keyspace___purge_post_request++[]
* xref:#++__keyspace___raw__docid__get_200_response++[]
* xref:#++__keyspace___raw__docid__get_200_response__sync++[]
* xref:#++__keyspace___raw__docid__get_200_response__sync_channel_set_history_inner++[]
* xref:#++__keyspace___raw__docid__get_200_response__sync_channel_set_inner++[]
* xref:#++__keyspace___raw__docid__get_200_response__sync_history++[]
* xref:#++__keyspace___revs_diff_post_200_response++[]
* xref:#++__keyspace___revs_diff_post_200_response_docid++[]
* xref:#++__keyspace___revs_diff_post_request++[]
* xref:#++Log-rotation-config-readonly++[]
* xref:#++New-revision++[]
* xref:#++NodeInfo++[]
* xref:#++NodeInfo_vendor++[]
* xref:#++OIDC-callback++[]
* xref:#++OIDC-login-page-handler++[]
* xref:#++OIDC-token++[]
* xref:#++__post_upgrade_post_200_response++[]
* xref:#++__post_upgrade_post_200_response_post_upgrade_results_value++[]
* xref:#++__profile__profilename__post_request++[]
* xref:#++Replication++[]
* xref:#++Replication-status++[]
* xref:#++Resync-status++[]
* xref:#++Retrieved-replication++[]
* xref:#++Role++[]
* xref:#++Serverless++[]
* xref:#++__sgcollect_info_delete_200_response++[]
* xref:#++__sgcollect_info_get_200_response++[]
* xref:#++__sgcollect_info_post_200_response++[]
* xref:#++__sgcollect_info_post_request++[]
* xref:#++Startup-config++[]
* xref:#++Startup_config_api++[]
* xref:#++Startup_config_api_cors++[]
* xref:#++Startup_config_api_https++[]
* xref:#++Startup_config_auth++[]
* xref:#++Startup_config_bootstrap++[]
* xref:#++Startup_config_logging++[]
* xref:#++Startup_config_replicator++[]
* xref:#++Startup_config_unsupported++[]
* xref:#++Startup_config_unsupported_http2++[]
* xref:#++__stats_get_200_response++[]
* xref:#++Status++[]
* xref:#++Status_databases_value++[]
* xref:#++Status_databases_value_cluster++[]
* xref:#++Status_databases_value_cluster_nodes++[]
* xref:#++Status_databases_value_cluster_nodes_node_uuid++[]
* xref:#++Status_databases_value_cluster_replication++[]
* xref:#++User++[]
* xref:#++User-session-information++[]
* xref:#++User_session_information_userCtx++[]



// markup not found, no include::{specDir}definitions/All-replications/definition-before.adoc[opts=optional]


[#All-replications]
=== All replications


// markup not found, no include::{specDir}definitions/All-replications/definition-begin.adoc[opts=optional]


[#fields-All-replications]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *replication_id* +
_optional_
a| 
ifdef::desc-Retrieved-replication[]
{desc-Retrieved-replication}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Retrieved-replication++[]


|===


// markup not found, no include::{specDir}definitions/All-replications/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/All-replications/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Changes-feed/definition-before.adoc[opts=optional]


[#Changes-feed]
=== ChangesFeed


// markup not found, no include::{specDir}definitions/Changes-feed/definition-begin.adoc[opts=optional]


[#fields-Changes-feed]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *results* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Changes_feed_results_inner++[]
Set


a| *last_seq* +
_optional_
a| The last change sequence number.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/Changes-feed/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Changes-feed/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Changes_feed_results_inner/definition-before.adoc[opts=optional]


[#Changes_feed_results_inner]
=== ChangesFeedResultsInner


// markup not found, no include::{specDir}definitions/Changes_feed_results_inner/definition-begin.adoc[opts=optional]


[#fields-Changes_feed_results_inner]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *seq* +
_optional_
a| The change sequence number.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *id* +
_optional_
a| The document ID the change happened on.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *changes* +
_optional_
a| List of document leafs with each leaf containing only a `rev` field.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Changes_feed_results_inner_changes_inner++[]
Set


|===


// markup not found, no include::{specDir}definitions/Changes_feed_results_inner/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Changes_feed_results_inner/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Changes_feed_results_inner_changes_inner/definition-before.adoc[opts=optional]


[#Changes_feed_results_inner_changes_inner]
=== ChangesFeedResultsInnerChangesInner


// markup not found, no include::{specDir}definitions/Changes_feed_results_inner_changes_inner/definition-begin.adoc[opts=optional]


[#fields-Changes_feed_results_inner_changes_inner]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *rev* +
_optional_
a| The new revision that was caused by that change.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/Changes_feed_results_inner_changes_inner/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Changes_feed_results_inner_changes_inner/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/CollectionAccessConfig/definition-before.adoc[opts=optional]


[#CollectionAccessConfig]
=== CollectionAccessConfig


// markup not found, no include::{specDir}definitions/CollectionAccessConfig/definition-begin.adoc[opts=optional]


[#fields-CollectionAccessConfig]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *admin_channels* +
_optional_
a| A list of channels to explicitly grant to the user.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *all_channels* +
_optional_
a| All the channels that the user has been granted access to.

Access could have been granted through the sync function, roles, or explicitly on the user under the `admin_channels` property.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *jwt_channels* +
_optional_
a| The channels that the user has been granted access to through channels_claim.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *jwt_last_updated* +
_optional_
a| The last time that the user's JWT roles/channels were updated.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Date (date-time)


|===


// markup not found, no include::{specDir}definitions/CollectionAccessConfig/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/CollectionAccessConfig/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/CollectionConfig/definition-before.adoc[opts=optional]


[#CollectionConfig]
=== Collection config


// markup not found, no include::{specDir}definitions/CollectionConfig/definition-begin.adoc[opts=optional]


[#fields-CollectionConfig]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *sync* +
_optional_
a| The Javascript function that newly created documents in this collection are ran through.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["function(doc){channel(doc.channels);}" != "null"]
*Example:* `function(doc){channel(doc.channels);}`
endif::[]
// end
| String


a| *import_filter* +
_optional_
a| This is the function that all imported documents in this collection are ran through in order to filter out what to import and what not to import. This allows you to control what is made available to Couchbase Mobile clients. If it is not set, then no documents are filtered when imported.

`import_docs` in the database config must be true to make this field applicable.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["function(doc) { if (doc.type != 'mobile') { return false; } return true; }" != "null"]
*Example:* `function(doc) { if (doc.type != 'mobile') { return false; } return true; }`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/CollectionConfig/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/CollectionConfig/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Compact-status/definition-before.adoc[opts=optional]


[#Compact-status]
=== Compact-status


// markup not found, no include::{specDir}definitions/Compact-status/definition-begin.adoc[opts=optional]


[#fields-Compact-status]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *status* +
_required_
a| The status of the current operation.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *start_time* +
_required_
a| The ISO-8601 date and time the compact operation was started.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *last_error* +
_required_
a| The last error that occurred in the compact operation (if any).

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *docs_purged* +
_optional_
a| **Applicable to tombstone compaction only**

This is the amount of documents that have been purged so far.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *marked_attachments* +
_optional_
a| **Applicable to attachment compaction only**

This is the number of references there are to legacy attachments. 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *purged_attachments* +
_optional_
a| **Applicable to attachment compaction only**

This is the amount of attachments that have been purged so far.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *compact_id* +
_optional_
a| **Applicable to attachment compaction only**

This is the ID of the compaction.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *phase* +
_optional_
a| **Applicable to attachment compaction only**

This indicates the current phase of running attachment compact processes.

For failed processes, this indicates the phase at which a compact_id restart will commence (where relevant).

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *dry_run* +
_optional_
a| **Applicable to attachment compaction only**


[%hardbreaks]
*Values:* `mark`, `sweep`, `cleanup`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/Compact-status/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Compact-status/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Console-logging-config/definition-before.adoc[opts=optional]


[#Console-logging-config]
=== Console-logging-config


// markup not found, no include::{specDir}definitions/Console-logging-config/definition-begin.adoc[opts=optional]


[#fields-Console-logging-config]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *log_level* +
_optional_
a| Log Level for the console output

[%hardbreaks]
*Values:* `none`, `error`, `warn`, `info`, `debug`, `trace`
ifeval::["none" != "null"]
*Default:* `none`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *log_keys* +
_optional_
a| Log Keys for the console output

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *color_enabled* +
_optional_
a| Log with color for the console output

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *file_output* +
_optional_
a| Override the default stderr output, and write to the file specified instead

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *enabled* +
_optional_
a| Toggle for this log output

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *rotation* +
_optional_
a| 
ifdef::desc-Log-rotation-config-readonly[]
{desc-Log-rotation-config-readonly}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Log-rotation-config-readonly++[]


a| *collation_buffer_size* +
_optional_
a| The size of the log collation buffer.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


|===


// markup not found, no include::{specDir}definitions/Console-logging-config/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Console-logging-config/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/CredentialsConfig/definition-before.adoc[opts=optional]


[#CredentialsConfig]
=== Credentials config


// markup not found, no include::{specDir}definitions/CredentialsConfig/definition-begin.adoc[opts=optional]


[#fields-CredentialsConfig]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *username* +
_optional_
a| Username for authenticating to the bucket

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *password* +
_optional_
a| Password for authenticating to the bucket. This value is always redacted.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *x509_cert_path* +
_optional_
a| Cert path (public key) for X.509 bucket auth

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *x509_key_path* +
_optional_
a| Key path (private key) for X.509 bucket auth

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/CredentialsConfig/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/CredentialsConfig/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Database/definition-before.adoc[opts=optional]


[#Database]
=== Database-config


// markup not found, no include::{specDir}definitions/Database/definition-begin.adoc[opts=optional]


[#fields-Database]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *server* +
_optional_
a| This is the Couchbase Server address or addresses that the database connect to. 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *pool* +
_optional_
a| This field is unsupported and ignored.

[%hardbreaks]
ifeval::["default" != "null"]
*Default:* `default`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *bucket* +
_optional_
a| The Couchbase Server backing bucket for the database.

[%hardbreaks]
ifeval::["The database name" != "null"]
*Default:* `The database name`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *username* +
_optional_
a| The username for authenticating to the server.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *password* +
_optional_
a| The password for authenticating to the server.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *certpath* +
_optional_
a| The cert path (public key) for X.509 bucket auth.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *keypath* +
_optional_
a| The key path (private key) for X.509 bucket auth

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *cacertpath* +
_optional_
a| The root CA cert path for X.509 bucket authentication.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *kv_tls_port* +
_optional_
a| The Memcached TLS port.

[%hardbreaks]
ifeval::["11207" != "null"]
*Default:* `11207`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *max_concurrent_query_ops* +
_optional_
a| The maximum amount of query operations that can be running at any one point.

[%hardbreaks]
ifeval::["1000" != "null"]
*Default:* `1000`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *scopes* +
_optional_
a| 
ifdef::desc-Database_scopes[]
{desc-Database_scopes}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Database_scopes++[]


a| *name* +
_optional_
a| The name of the database.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *sync* +
_optional_
a| The Javascript function that newly created documents are ran through for the _default scope and collection.

[%hardbreaks]
ifeval::["function(doc){channel(doc.channels);}" != "null"]
*Default:* `function(doc){channel(doc.channels);}`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *users* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++User++[]
Map


a| *roles* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Role++[]
Map


a| *revs_limit* +
_optional_
a| The maximum depth a document's revision tree can grow too.

The minimum is `20` if conflicts are allowed and 0 if not. It is not recommended to go below `100` when conflicts are allowed.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
*Minimum:* `0`
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *import_docs* +
_optional_
a| If true, documents will be imported in to Sync Gateway from the bucket when requested. Documents will be ran through the set `import_filter` if any is set.

The default value depends on the edition of Sync Gateway being used. If the edition is the community-edition, then this will default to `false` or else in the enterprise-edition, it will default to `true`.

This can also be set to the string `continuous` which maps to true.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *import_partitions* +
_optional_
a| ** This is an enterprise-edition feature only**

This is how many import partitions should be used for import sharding.

Partitions are distributed among all Sync Gateway nodes participating in import processing (`import_docs=true`), and each process a subset of the server's vbuckets.

Each partition is processed by an independent function that runs simultaneously to others, so `import_partitions` can be used to tune concurrency based on the number of Sync Gateway nodes, and the number of cores per node.

[%hardbreaks]
ifeval::["16" != "null"]
*Default:* `16`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *import_filter* +
_optional_
a| This is the function that all imported documents in the _default scope and collection are ran through in order to filter out what to import and what not to import. This allows you to control what is made available to Couchbase Mobile clients. If it is not set, then no documents are filtered when imported.

`import_docs` must be true to make this field applicable.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["function(doc) { if (doc.type != 'mobile') { return false; } return true; }" != "null"]
*Example:* `function(doc) { if (doc.type != 'mobile') { return false; } return true; }`
endif::[]
// end
| String


a| *import_backup_old_rev* +
_optional_
a| This controls whether import should attempt to create a temporary backup of the previous revision body (if available) when the document is modified in the bucket.

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *event_handlers* +
_optional_
a| 
ifdef::desc-Database_event_handlers[]
{desc-Database_event_handlers}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Database_event_handlers++[]


a| *feed_type* +
_optional_
a| The type of feed to use to communicate with Couchbase Server.

[%hardbreaks]
*Values:* `TAP`, `DCP`
ifeval::["DCP" != "null"]
*Default:* `DCP`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *allow_empty_password* +
_optional_
a| This controls whether users that are created can have an empty password or not.

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *cache* +
_optional_
a| 
ifdef::desc-Database_cache[]
{desc-Database_cache}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Database_cache++[]


a| *rev_cache_size* +
_optional_
a| **Deprecated, please use the database setting `cache.rev_cache.size` instead**

The maximum number of revisions to store in the revision cache.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *offline* +
_optional_
a| Start the database in an offline state.

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *unsupported* +
_optional_
a| 
ifdef::desc-Database_unsupported[]
{desc-Database_unsupported}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Database_unsupported++[]


a| *local_jwt* +
_optional_
a| Configuration for Local JWT authentication.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Database_local_jwt_value++[]
Map


a| *oidc* +
_optional_
a| 
ifdef::desc-Database_oidc[]
{desc-Database_oidc}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Database_oidc++[]


a| *old_rev_expiry_seconds* +
_optional_
a| The number of seconds before old revisions are removed from the Couchbase Server bucket.

[%hardbreaks]
ifeval::["300" != "null"]
*Default:* `300`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *view_query_timeout_secs* +
_optional_
a| The number of seconds before a view query should timeout.

[%hardbreaks]
ifeval::["75" != "null"]
*Default:* `75`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *local_doc_expiry_secs* +
_optional_
a| The number of seconds before a `_local` document should expire.

[%hardbreaks]
ifeval::["7776000" != "null"]
*Default:* `7776000`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *enable_shared_bucket_access* +
_optional_
a| Whether to use extended attributes to store Sync Gateway document (`_sync`) metadata.

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *session_cookie_secure* +
_optional_
a| Override the session cookie `secure` flag. If set, the cookie will have the `secure` flag.

This will default to `true` if startup config `api.https.tls_cert_path` is set otherwise it will default to `false`.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *session_cookie_name* +
_optional_
a| This can be used to define a custom per-database session cookie name.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *session_cookie_http_only* +
_optional_
a| Make all session cookies for the database set the `HttpOnly` flag so they are inaccessible to JavaScript.

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *allow_conflicts* +
_optional_
a| This controls whether to allow conflicting document revisions.

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *num_index_replicas* +
_optional_
a| This is the number of Global Secondary Indexes (GSI) to use for core indexes.

[%hardbreaks]
ifeval::["1" != "null"]
*Default:* `1`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *use_views* +
_optional_
a| Force the use of views instead of GSI.

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *send_www_authentice_header* +
_optional_
a| Controls whether to send a `WWW-Authenticate` header in `401 Unauthorized` HTTP responses.

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *disable_password_auth* +
_optional_
a| Whether to disable username/password authentication and only allow OIDC and guest access.

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *bucket_op_timeout_ms* +
_optional_
a| This is the amount of milliseconds should pass before a bucket operation times out. An error will be returned if the bucket operation times out saying: `operation timed out`.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *slow_query_warning_threshold* +
_optional_
a| The amount of milliseconds a N1QL query should run before logging a warning. 

[%hardbreaks]
ifeval::["500" != "null"]
*Default:* `500`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *delta_sync* +
_optional_
a| 
ifdef::desc-Database_delta_sync[]
{desc-Database_delta_sync}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Database_delta_sync++[]


a| *compact_interval_days* +
_optional_
a| The interval between scheduled tombstone compaction runs (in days). This can be a floating point number.

If set to 0, compaction will not run automatically.

[%hardbreaks]
ifeval::["1" != "null"]
*Default:* `1`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *sgreplicate_enabled* +
_optional_
a| Whether the node should accept assign replications (`true`) or not (`false`).

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *sgreplicate_websocket_heartbeat_secs* +
_optional_
a| Use a custom heartbeat interval (in seconds) for websocket ping frames.

[%hardbreaks]
ifeval::["300" != "null"]
*Default:* `300`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *replications* +
_optional_
a| 
ifdef::desc-Database_replications[]
{desc-Database_replications}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Database_replications++[]


a| *serve_insecure_attachment_types* +
_optional_
a| If set, always serve attachments with the `Content-Type` header set to the type of the attachment.

When serving an attachment, usually the `Content-Type` header is set to the type of the attachment but the `Content-Disposition` response header will be set instead if the content type is vulnerable to a phishing attack, causing the browser to download the file instead of display it. This option will override that behaviour and always set the `Content-Type` header.


[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *query_pagination_limit* +
_optional_
a| The query limit to be used during pagination of large queries.

[%hardbreaks]
ifeval::["5000" != "null"]
*Default:* `5000`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *user_xattr_key* +
_optional_
a| The key to use for the user xattr that will be accessible from the sync function. IF empty, the feature will be disabled.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *client_partition_window_secs* +
_optional_
a| How long (in seconds) clients can remain offline for without losing replication metadata.

Defaults to 30 days (in seconds)

[%hardbreaks]
ifeval::["2592000" != "null"]
*Default:* `2592000`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *guest* +
_optional_
a| 
ifdef::desc-User[]
{desc-User}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++User++[]


a| *javascript_timeout_secs* +
_optional_
a| The maximum number of seconds the sync, import filter, and custom conflict resolver JavaScript functions are allowed to run for before timing out. Set to 0 to allow the JS functions to run uncapped.

[%hardbreaks]
ifeval::["60" != "null"]
*Default:* `60`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *suspendable* +
_optional_
a| Set to true to allow the database to be suspended. 

Defaults to true when running in serverless mode otherwise defaults to false.

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


|===


// markup not found, no include::{specDir}definitions/Database/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Database/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Database_cache/definition-before.adoc[opts=optional]


[#Database_cache]
=== DatabaseCache


// markup not found, no include::{specDir}definitions/Database_cache/definition-begin.adoc[opts=optional]


[#fields-Database_cache]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *rev_cache* +
_optional_
a| 
ifdef::desc-Database_cache_rev_cache[]
{desc-Database_cache_rev_cache}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Database_cache_rev_cache++[]


a| *channel_cache* +
_optional_
a| 
ifdef::desc-Database_cache_channel_cache[]
{desc-Database_cache_channel_cache}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Database_cache_channel_cache++[]


a| *max_wait_pending* +
_optional_
a| **Deprecated, please use the database setting `cache.channel_cache.max_wait_pending` instead**

The maximum time (in milliseconds) for waiting for a pending sequence before skipping it.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *max_wait_skipped* +
_optional_
a| **Deprecated, please use the database setting `cache.channel_cache.max_wait_skipped` instead**

The maximum time (in milliseconds) for waiting for pending sequences before skipping.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *enable_star_channel* +
_optional_
a| **Deprecated, please use the database setting `cache.channel_cache.enable_star_channel` instead**

Used to control whether Sync Gateway should use the all documents (*) channel.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *channel_cache_max_length* +
_optional_
a| **Deprecated, please use the database setting `cache.channel_cache.max_length` instead**

The maximum number of entries maintained in cache per channel.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *channel_cache_min_length* +
_optional_
a| **Deprecated, please use the database setting `cache.channel_cache.min_length` instead**

The minimum number of entries maintained in cache per channel.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *channel_cache_expiry* +
_optional_
a| **Deprecated, please use the database setting `cache.channel_cache.expiry_seconds` instead**

The time (seconds) to keep entries in cache beyond the minimum retained.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *max_num_pending* +
_optional_
a| **Deprecated, please use the database setting `cache.channel_cache.max_num_pending` instead**

The max number of pending sequences before skipping.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


|===


// markup not found, no include::{specDir}definitions/Database_cache/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Database_cache/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Database_cache_channel_cache/definition-before.adoc[opts=optional]


[#Database_cache_channel_cache]
=== DatabaseCacheChannelCache


// markup not found, no include::{specDir}definitions/Database_cache_channel_cache/definition-begin.adoc[opts=optional]


[#fields-Database_cache_channel_cache]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *max_number* +
_optional_
a| The maximum number of channel caches which can exist at any one point.

[%hardbreaks]
ifeval::["50000" != "null"]
*Default:* `50000`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *compact_high_watermark_pct* +
_optional_
a| The trigger value for starting the channel cache eviction process.

Specify this as a percentage which will be the percentage used on `max_number).

When the cache size, determined by `max_number`, reaches the high watermark, the eviction process iterates through the cache, removing inactive channels.

[%hardbreaks]
ifeval::["80" != "null"]
*Default:* `80`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *compact_low_watermark_pct* +
_optional_
a| The trigger value for stopping the channel cache eviction process.

Specify this as a percentage which will be the percentage used on `max_number).

When the cache size, determined by `max_number` returns to a value lower than the percentage of it set here, the cache eviction process is stopped.

[%hardbreaks]
ifeval::["60" != "null"]
*Default:* `60`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *max_wait_pending* +
_optional_
a| The maximum time (in milliseconds) for waiting for a pending sequence before skipping it.

[%hardbreaks]
ifeval::["5000" != "null"]
*Default:* `5000`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *max_num_pending* +
_optional_
a| The maximum number of pending sequences before skipping sequences.

[%hardbreaks]
ifeval::["10000" != "null"]
*Default:* `10000`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *max_wait_skipped* +
_optional_
a| The maximum amount of time (in milliseconds) to wait for a skipped sequence before abandoning it.

[%hardbreaks]
ifeval::["3600000" != "null"]
*Default:* `3600000`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *enable_star_channel* +
_optional_
a| Used to control whether Sync Gateway should use the all documents (*) channel.

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *max_length* +
_optional_
a| The maximum number of entries to maintain in the cache per channel.

[%hardbreaks]
ifeval::["500" != "null"]
*Default:* `500`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *min_length* +
_optional_
a| The minimum number of entries to maintain in the cache per channel.

[%hardbreaks]
ifeval::["50" != "null"]
*Default:* `50`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *expiry_seconds* +
_optional_
a| The amount of time (in seconds) to keep entries in the cache beyond the minimum retained.

[%hardbreaks]
ifeval::["60" != "null"]
*Default:* `60`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *query_limit* +
_optional_
a| **Deprecated in favour of the database setting `query_pagination_limit`**

The limit used for channel queries.

[%hardbreaks]
ifeval::["5000" != "null"]
*Default:* `5000`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


|===


// markup not found, no include::{specDir}definitions/Database_cache_channel_cache/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Database_cache_channel_cache/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Database_cache_rev_cache/definition-before.adoc[opts=optional]


[#Database_cache_rev_cache]
=== DatabaseCacheRevCache


// markup not found, no include::{specDir}definitions/Database_cache_rev_cache/definition-begin.adoc[opts=optional]


[#fields-Database_cache_rev_cache]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *size* +
_optional_
a| The maximum number of revisions that can be stored in the revision cache.

[%hardbreaks]
ifeval::["5000" != "null"]
*Default:* `5000`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *shard_count* +
_optional_
a| The number of shards the revision cache should be split into.

[%hardbreaks]
ifeval::["16" != "null"]
*Default:* `16`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/Database_cache_rev_cache/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Database_cache_rev_cache/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Database_delta_sync/definition-before.adoc[opts=optional]


[#Database_delta_sync]
=== DatabaseDeltaSync


// markup not found, no include::{specDir}definitions/Database_delta_sync/definition-begin.adoc[opts=optional]


[#fields-Database_delta_sync]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *enabled* +
_optional_
a| Whether delta sync is enabled.

**This is an enterprise-edition feature only**

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *rev_max_age_seconds* +
_optional_
a| The number of seconds deltas for old revisions are available for.

This defaults to 24 hours (in seconds).

[%hardbreaks]
ifeval::["86400" != "null"]
*Default:* `86400`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


|===


// markup not found, no include::{specDir}definitions/Database_delta_sync/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Database_delta_sync/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Database_event_handlers/definition-before.adoc[opts=optional]


[#Database_event_handlers]
=== DatabaseEventHandlers


// markup not found, no include::{specDir}definitions/Database_event_handlers/definition-begin.adoc[opts=optional]


[#fields-Database_event_handlers]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *max_processes* +
_optional_
a| The maximum amount of concurrent event handling independent functions that can be running at the same time.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *wait_for_process* +
_optional_
a| The maximum amount of time (in milliseconds) to wait when the even queue is full.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *document_changed* +
_optional_
a| 
ifdef::desc-Event-config[]
{desc-Event-config}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Event-config++[]


a| *db_state_changed* +
_optional_
a| 
ifdef::desc-Event-config[]
{desc-Event-config}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Event-config++[]


|===


// markup not found, no include::{specDir}definitions/Database_event_handlers/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Database_event_handlers/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Database_local_jwt_value/definition-before.adoc[opts=optional]


[#Database_local_jwt_value]
=== DatabaseLocalJwtValue


// markup not found, no include::{specDir}definitions/Database_local_jwt_value/definition-begin.adoc[opts=optional]


[#fields-Database_local_jwt_value]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *issuer* +
_required_
a| The value to match against the "iss" claim of JWTs.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *register* +
_optional_
a| If to register a new Sync Gateway user account when a user logs in with a JWT.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *client_id* +
_required_
a| The value to match against the "aud" claim of JWTs. Set to an empty string to disable audience validation.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *algorithms* +
_required_
a| The JWT signing algorithms to accept for authentication.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *keys* +
_required_
a| The JSON Web Keys to use to validate JWTs.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Database_local_jwt_value_keys_inner++[]
List


a| *disable_session* +
_optional_
a| Disable Sync Gateway session creation on successful JWT authentication.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *user_prefix* +
_optional_
a| This is the username prefix for all users created through this provider.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *username_claim* +
_optional_
a| Allows a different OpenID Connect field to be specified instead of the Subject (`sub`).

The field name to use can be specified here.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *roles_claim* +
_optional_
a| If set, the value(s) of the given JSON Web Token claim will be added to the user's roles.

The value of this claim must be either a string or an array of strings, any other type will result in an error.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *channels_claim* +
_optional_
a| If set, the value(s) of the given JSON Web Token claim will be added to the user's channels.

The value of this claim must be either a string or an array of strings, any other type will result in an error.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/Database_local_jwt_value/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Database_local_jwt_value/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Database_local_jwt_value_keys_inner/definition-before.adoc[opts=optional]


[#Database_local_jwt_value_keys_inner]
=== DatabaseLocalJwtValueKeysInner


// markup not found, no include::{specDir}definitions/Database_local_jwt_value_keys_inner/definition-begin.adoc[opts=optional]


[#fields-Database_local_jwt_value_keys_inner]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *kty* +
_optional_
a| The cryptographic algorithm family used with the key, such as "RSA" or "EC"

[%hardbreaks]
*Values:* `RSA`, `EC`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *use* +
_optional_
a| The intended use of the public key. Only 'sig' is accepted.

[%hardbreaks]
*Values:* `sig`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *alg* +
_optional_
a| The algorithm intended for use with the key.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *kid* +
_optional_
a| The Key ID, used to identify the key to use.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *crv* +
_optional_
a| For Elliptic Curve keys, the name of the curve to use.

[%hardbreaks]
*Values:* `P-256`, `P-384`, `P-521`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *x* +
_optional_
a| For Elliptic Curve keys, the X coordinate of the point, as a base64url string.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *y* +
_optional_
a| For Elliptic Curve keys, the Y coordinate of the point, as a base64url string.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *n* +
_optional_
a| For RSA keys, the modulus value of the key, as a Base64urlUInt-encoded value.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *e* +
_optional_
a| For RSA keys, the exponent of the public key, as a Base64urlUInt-encoded value.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/Database_local_jwt_value_keys_inner/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Database_local_jwt_value_keys_inner/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Database_oidc/definition-before.adoc[opts=optional]


[#Database_oidc]
=== DatabaseOidc


// markup not found, no include::{specDir}definitions/Database_oidc/definition-begin.adoc[opts=optional]


[#fields-Database_oidc]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *providers* +
_optional_
a| List of OpenID Connect issuers.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Database_oidc_providers_value++[]
Map


a| *default_provider* +
_optional_
a| The default provider to use when the provider is not specified in the client.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/Database_oidc/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Database_oidc/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Database_oidc_providers_value/definition-before.adoc[opts=optional]


[#Database_oidc_providers_value]
=== DatabaseOidcProvidersValue


// markup not found, no include::{specDir}definitions/Database_oidc_providers_value/definition-begin.adoc[opts=optional]


[#fields-Database_oidc_providers_value]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *issuer* +
_optional_
a| The URL for the OpenID Connect issuer.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *register* +
_optional_
a| If to register a new Sync Gateway user account when a user logs in with OpenID Connect.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *client_id* +
_optional_
a| The OpenID Connect provider client ID.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *validation_key* +
_optional_
a| The OpenID Connect provider client secret.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *callback_url* +
_optional_
a| The URL that the OpenID Connect will redirect to after authentication.

If not provided, a callback URL will be generated.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *disable_session* +
_optional_
a| Disable Sync Gateway session creation on successful OpenID Connect authentication.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *scope* +
_optional_
a| The scope sent for the OpenID Connect request.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *include_access* +
_optional_
a| This is whether the `_oidc_callback` response should include the OpenID Connect access token and associated fields (such as `token_type`, and `expires_in`).

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *user_prefix* +
_optional_
a| This is the username prefix for all users created through this provider.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *discovery_url* +
_optional_
a| The non-standard discovery endpoint.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *disable_cfg_validation* +
_optional_
a| This bypasses the configuration validation based on the OpenID Connect specifications. This may be required for some OpenID providers that don't strictly adhere to the specifications.

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *disable_callback_state* +
_optional_
a| Controls whether to maintain state between the auth request and callback endpoints (`/_oidc` and `/_oidc_callback`).

**This is not recommended as it would cause OpenID Connect authentication to be vulnerable to Cross-Site Request Forgery (CSRF, XSRF).**

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *username_claim* +
_optional_
a| Allows a different OpenID Connect field to be specified instead of the Subject (`sub`).

The field name to use can be specified here.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *roles_claim* +
_optional_
a| If set, the value(s) of the given OpenID Connect authentication token claim will be added to the user's roles.

The value of this claim must be either a string or an array of strings, any other type will result in an error.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *channels_claim* +
_optional_
a| If set, the value(s) of the given OpenID Connect authentication token claim will be added to the user's channels.

The value of this claim must be either a string or an array of strings, any other type will result in an error.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *allow_unsigned_provider_tokens* +
_optional_
a| Allows users accept unsigned tokens from providers.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *IsDefault* +
_optional_
a| Indicates if this is the default OpenID Connect provider.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *Name* +
_optional_
a| The name of the OpenID Connect Provider.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *InsecureSkipVerify* +
_optional_
a| Determines whether the TLS certificate verification should be disabled for this provider. 

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


|===


// markup not found, no include::{specDir}definitions/Database_oidc_providers_value/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Database_oidc_providers_value/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Database_replications/definition-before.adoc[opts=optional]


[#Database_replications]
=== DatabaseReplications


// markup not found, no include::{specDir}definitions/Database_replications/definition-begin.adoc[opts=optional]


[#fields-Database_replications]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *replication_id* +
_optional_
a| 
ifdef::desc-Replication[]
{desc-Replication}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Replication++[]


|===


// markup not found, no include::{specDir}definitions/Database_replications/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Database_replications/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Database_scopes/definition-before.adoc[opts=optional]


[#Database_scopes]
=== DatabaseScopes


// markup not found, no include::{specDir}definitions/Database_scopes/definition-begin.adoc[opts=optional]


[#fields-Database_scopes]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *additionalProperties* +
_optional_
a| A map of all the collections with their corresponding configs for this scope

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++CollectionConfig++[]
Map


|===


// markup not found, no include::{specDir}definitions/Database_scopes/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Database_scopes/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Database_unsupported/definition-before.adoc[opts=optional]


[#Database_unsupported]
=== DatabaseUnsupported


// markup not found, no include::{specDir}definitions/Database_unsupported/definition-begin.adoc[opts=optional]


[#fields-Database_unsupported]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *user_views* +
_optional_
a| 
ifdef::desc-Database_unsupported_user_views[]
{desc-Database_unsupported_user_views}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Database_unsupported_user_views++[]


a| *oidc_test_provider* +
_optional_
a| 
ifdef::desc-Database_unsupported_oidc_test_provider[]
{desc-Database_unsupported_oidc_test_provider}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Database_unsupported_oidc_test_provider++[]


a| *api_endpoints* +
_optional_
a| 
ifdef::desc-Database_unsupported_api_endpoints[]
{desc-Database_unsupported_api_endpoints}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Database_unsupported_api_endpoints++[]


a| *warning_thresholds* +
_optional_
a| 
ifdef::desc-Database_unsupported_warning_thresholds[]
{desc-Database_unsupported_warning_thresholds}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Database_unsupported_warning_thresholds++[]


a| *oidc_tls_skip_verify* +
_optional_
a| Enable self-signed certificates for OIDC testing.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *sgr_tls_skip_verify* +
_optional_
a| Enable self-signed certificates for SG-replicate testing.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *remote_config_tls_skip_verify* +
_optional_
a| Enable self-signed certificates for external JavaScript load.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *guest_read_only* +
_optional_
a| Restrict GUEST document access to read-only.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *force_api_forbidden_errors* +
_optional_
a| Force REST API errors to return forbidden

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *dcp_read_buffer* +
_optional_
a| Set the dcp feed to use a different read buffer size.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *kv_buffer* +
_optional_
a| Set the kv pool to use a different buffer size.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


|===


// markup not found, no include::{specDir}definitions/Database_unsupported/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Database_unsupported/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Database_unsupported_api_endpoints/definition-before.adoc[opts=optional]


[#Database_unsupported_api_endpoints]
=== DatabaseUnsupportedApiEndpoints


// markup not found, no include::{specDir}definitions/Database_unsupported_api_endpoints/definition-begin.adoc[opts=optional]


[#fields-Database_unsupported_api_endpoints]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *enable_couchbase_bucket_flush* +
_optional_
a| **Setting for test purposes only**

Whether Couchbase buckets can be flushed via Admin REST API.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


|===


// markup not found, no include::{specDir}definitions/Database_unsupported_api_endpoints/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Database_unsupported_api_endpoints/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Database_unsupported_oidc_test_provider/definition-before.adoc[opts=optional]


[#Database_unsupported_oidc_test_provider]
=== DatabaseUnsupportedOidcTestProvider


// markup not found, no include::{specDir}definitions/Database_unsupported_oidc_test_provider/definition-begin.adoc[opts=optional]


[#fields-Database_unsupported_oidc_test_provider]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *enabled* +
_optional_
a| Whether the `oidc_test_provider` endpoints should be exposed on the public API.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


|===


// markup not found, no include::{specDir}definitions/Database_unsupported_oidc_test_provider/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Database_unsupported_oidc_test_provider/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Database_unsupported_user_views/definition-before.adoc[opts=optional]


[#Database_unsupported_user_views]
=== DatabaseUnsupportedUserViews


// markup not found, no include::{specDir}definitions/Database_unsupported_user_views/definition-begin.adoc[opts=optional]


[#fields-Database_unsupported_user_views]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *enabled* +
_optional_
a| Whether pass-through view query is supported through public API.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


|===


// markup not found, no include::{specDir}definitions/Database_unsupported_user_views/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Database_unsupported_user_views/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Database_unsupported_warning_thresholds/definition-before.adoc[opts=optional]


[#Database_unsupported_warning_thresholds]
=== DatabaseUnsupportedWarningThresholds


// markup not found, no include::{specDir}definitions/Database_unsupported_warning_thresholds/definition-begin.adoc[opts=optional]


[#fields-Database_unsupported_warning_thresholds]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *xattr_size_bytes* +
_optional_
a| The number of bytes to be used as a threshold for xattr size limit warnings.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *channels_per_doc* +
_optional_
a| The number of channels per document to be used as a threshold for the channel count warnings.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *access_and_role_grants_per_doc* +
_optional_
a| The number of access and role grants per document to be used as a threshold for grant count warnings.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *channels_per_user* +
_optional_
a| The number of channels per user to be used as a threshold for channel count warnings.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *channel_name_size* +
_optional_
a| The number of channel name characters to be used as a threshold for channel name warnings.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


|===


// markup not found, no include::{specDir}definitions/Database_unsupported_warning_thresholds/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Database_unsupported_warning_thresholds/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___ensure_full_commit_post_201_response/definition-before.adoc[opts=optional]


[#__db___ensure_full_commit_post_201_response]
=== DbEnsureFullCommitPost201Response


// markup not found, no include::{specDir}definitions/__db___ensure_full_commit_post_201_response/definition-begin.adoc[opts=optional]


[#fields-__db___ensure_full_commit_post_201_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *instance_start_time* +
_optional_
a| Timestamp of when the database opened, in microseconds since the Unix epoch.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["1644600082279583" != "null"]
*Example:* `1644600082279583`
endif::[]
// end
| Integer


a| *ok* +
_optional_
a| 

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
ifeval::["true" != "null"]
*Example:* `true`
endif::[]
// end
| Boolean


|===


// markup not found, no include::{specDir}definitions/__db___ensure_full_commit_post_201_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___ensure_full_commit_post_201_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___facebook_post_401_response/definition-before.adoc[opts=optional]


[#__db___facebook_post_401_response]
=== DbFacebookPost401Response


// markup not found, no include::{specDir}definitions/__db___facebook_post_401_response/definition-begin.adoc[opts=optional]


[#fields-__db___facebook_post_401_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *error* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *reason* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__db___facebook_post_401_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___facebook_post_401_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___facebook_post_request/definition-before.adoc[opts=optional]


[#__db___facebook_post_request]
=== DbFacebookPostRequest


// markup not found, no include::{specDir}definitions/__db___facebook_post_request/definition-begin.adoc[opts=optional]


[#fields-__db___facebook_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *access_token* +
_required_
a| Facebook access token to base the new session on.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__db___facebook_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___facebook_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___get_200_response/definition-before.adoc[opts=optional]


[#__db___get_200_response]
=== DbGet200Response


// markup not found, no include::{specDir}definitions/__db___get_200_response/definition-begin.adoc[opts=optional]


[#fields-__db___get_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *db_name* +
_optional_
a| Database name

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["db" != "null"]
*Example:* `db`
endif::[]
// end
| String


a| *update_seq* +
_optional_
a| The last sequence number that was committed to the database.

Will return 0 if the database is offline.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["123456" != "null"]
*Example:* `123456`
endif::[]
// end
| Integer


a| *committed_update_seq* +
_optional_
a| The last sequence number that was committed to the database.

Will return 0 if the database is offline.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["123456" != "null"]
*Example:* `123456`
endif::[]
// end
| Integer


a| *instance_start_time* +
_optional_
a| Timestamp of when the database opened, in microseconds since the Unix epoch.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["1644600082279583" != "null"]
*Example:* `1644600082279583`
endif::[]
// end
| Integer


a| *compact_running* +
_optional_
a| Indicates whether database compaction is currently taking place or not.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *purge_seq* +
_optional_
a| Unused field.

[%hardbreaks]
ifeval::["0" != "null"]
*Default:* `0`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *disk_format_version* +
_optional_
a| Unused field.

[%hardbreaks]
ifeval::["0" != "null"]
*Default:* `0`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *state* +
_optional_
a| The database state. Change using the `/{db}/_offline` and `/{db}/_online` endpoints.

[%hardbreaks]
*Values:* `Online`, `Offline`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *server_uuid* +
_optional_
a| Unique server identifier.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["995618a6a6cc9ac79731bd13240e19b5" != "null"]
*Example:* `995618a6a6cc9ac79731bd13240e19b5`
endif::[]
// end
| String


a| *scopes* +
_optional_
a| Scopes that are used by the database.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["{scope1={collections={collection1={update_seq=123456}, collection2={update_seq=654321}}}}" != "null"]
*Example:* `{scope1={collections={collection1={update_seq=123456}, collection2={update_seq=654321}}}}`
endif::[]
// end
| xref:#++__db___get_200_response_scopes_value++[]
Map


|===


// markup not found, no include::{specDir}definitions/__db___get_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___get_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___get_200_response_scopes_value/definition-before.adoc[opts=optional]


[#__db___get_200_response_scopes_value]
=== DbGet200ResponseScopesValue


// markup not found, no include::{specDir}definitions/__db___get_200_response_scopes_value/definition-begin.adoc[opts=optional]


[#fields-__db___get_200_response_scopes_value]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *collections* +
_optional_
a| The set of collections within the scope.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__db___get_200_response_scopes_value_collections_value++[]
Map


|===


// markup not found, no include::{specDir}definitions/__db___get_200_response_scopes_value/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___get_200_response_scopes_value/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___get_200_response_scopes_value_collections_value/definition-before.adoc[opts=optional]


[#__db___get_200_response_scopes_value_collections_value]
=== DbGet200ResponseScopesValueCollectionsValue


// markup not found, no include::{specDir}definitions/__db___get_200_response_scopes_value_collections_value/definition-begin.adoc[opts=optional]


[#fields-__db___get_200_response_scopes_value_collections_value]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *update_seq* +
_optional_
a| The last sequence number that was committed to the collection.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["123456" != "null"]
*Example:* `123456`
endif::[]
// end
| Integer


|===


// markup not found, no include::{specDir}definitions/__db___get_200_response_scopes_value_collections_value/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___get_200_response_scopes_value_collections_value/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___google_post_request/definition-before.adoc[opts=optional]


[#__db___google_post_request]
=== DbGooglePostRequest


// markup not found, no include::{specDir}definitions/__db___google_post_request/definition-begin.adoc[opts=optional]


[#fields-__db___google_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *id_token* +
_required_
a| Google ID token to base the new session on.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__db___google_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___google_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___oidc_testing_certs_get_200_response/definition-before.adoc[opts=optional]


[#__db___oidc_testing_certs_get_200_response]
=== DbOidcTestingCertsGet200Response


// markup not found, no include::{specDir}definitions/__db___oidc_testing_certs_get_200_response/definition-begin.adoc[opts=optional]


[#fields-__db___oidc_testing_certs_get_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *keys* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__db___oidc_testing_certs_get_200_response_keys_inner++[]
List


|===


// markup not found, no include::{specDir}definitions/__db___oidc_testing_certs_get_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___oidc_testing_certs_get_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___oidc_testing_certs_get_200_response_keys_inner/definition-before.adoc[opts=optional]


[#__db___oidc_testing_certs_get_200_response_keys_inner]
=== DbOidcTestingCertsGet200ResponseKeysInner


// markup not found, no include::{specDir}definitions/__db___oidc_testing_certs_get_200_response_keys_inner/definition-begin.adoc[opts=optional]


[#fields-__db___oidc_testing_certs_get_200_response_keys_inner]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *Key* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *KeyID* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *Use* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *Certificates* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object
List


a| *Algorithm* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__db___oidc_testing_certs_get_200_response_keys_inner/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___oidc_testing_certs_get_200_response_keys_inner/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___oidc_testing_token_post_request/definition-before.adoc[opts=optional]


[#__db___oidc_testing_token_post_request]
=== DbOidcTestingTokenPostRequest


// markup not found, no include::{specDir}definitions/__db___oidc_testing_token_post_request/definition-begin.adoc[opts=optional]


[#fields-__db___oidc_testing_token_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *grant_type* +
_required_
a| The grant type of the token to request. Can either be an `authorization_code` or `refresh_token`.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *code* +
_optional_
a| **`grant_type=authorization_code` only**: The OpenID Connect authentication token.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *refresh_token* +
_optional_
a| **`grant_type=refresh_token` only**: The OpenID Connect refresh token.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__db___oidc_testing_token_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___oidc_testing_token_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___oidc_testing__well_known_openid_configuration_get_200_response/definition-before.adoc[opts=optional]


[#__db___oidc_testing__well_known_openid_configuration_get_200_response]
=== DbOidcTestingWellKnownOpenidConfigurationGet200Response


// markup not found, no include::{specDir}definitions/__db___oidc_testing__well_known_openid_configuration_get_200_response/definition-begin.adoc[opts=optional]


[#fields-__db___oidc_testing__well_known_openid_configuration_get_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *issuer* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *authorization_endpoint* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *token_endpoint* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *jwks_uri* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *userinfo_endpoint* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *id_token_signing_alg_values_supported* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *response_types_supported* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *subject_types_supported* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *scopes_supported* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *claims_supported* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *token_endpoint_auth_methods_supported* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__db___oidc_testing__well_known_openid_configuration_get_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___oidc_testing__well_known_openid_configuration_get_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___online_post_request/definition-before.adoc[opts=optional]


[#__db___online_post_request]
=== DbOnlinePostRequest


// markup not found, no include::{specDir}definitions/__db___online_post_request/definition-begin.adoc[opts=optional]


[#fields-__db___online_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *delay* +
_optional_
a| The amount of seconds to delay bringing the database online.

[%hardbreaks]
ifeval::["0" != "null"]
*Default:* `0`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


|===


// markup not found, no include::{specDir}definitions/__db___online_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___online_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___resync_post_request/definition-before.adoc[opts=optional]


[#__db___resync_post_request]
=== DbResyncPostRequest


// markup not found, no include::{specDir}definitions/__db___resync_post_request/definition-begin.adoc[opts=optional]


[#fields-__db___resync_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *scopes* +
_optional_
a| scope name with one or more collection names for which resync will be triggered

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| List
Map


a| *regenerate_sequences* +
_optional_
a| This can be used as an alternative to query param `regenerate_sequences`. If either query param or this is set to true, then the request will regenerate the sequence numbers for each document processed.

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


|===


// markup not found, no include::{specDir}definitions/__db___resync_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___resync_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___session_post_200_response/definition-before.adoc[opts=optional]


[#__db___session_post_200_response]
=== DbSessionPost200Response


// markup not found, no include::{specDir}definitions/__db___session_post_200_response/definition-begin.adoc[opts=optional]


[#fields-__db___session_post_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *session_id* +
_optional_
a| The ID of the session. This is the value that would be put in to the cookie to keep the user authenticated.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *expires* +
_optional_
a| The date and time the cookie expires.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *cookie_name* +
_optional_
a| The name of the cookie that would be used to store the users session.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__db___session_post_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___session_post_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___session_post_request/definition-before.adoc[opts=optional]


[#__db___session_post_request]
=== DbSessionPostRequest


// markup not found, no include::{specDir}definitions/__db___session_post_request/definition-begin.adoc[opts=optional]


[#fields-__db___session_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *name* +
_optional_
a| User name to generate the session for.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *ttl* +
_optional_
a| Time until the session expires. Uses default value of 24 hours if left blank.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


|===


// markup not found, no include::{specDir}definitions/__db___session_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___session_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___view__view__get_200_response/definition-before.adoc[opts=optional]


[#__db___view__view__get_200_response]
=== DbViewViewGet200Response


// markup not found, no include::{specDir}definitions/__db___view__view__get_200_response/definition-begin.adoc[opts=optional]


[#fields-__db___view__view__get_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *total_rows* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *rows* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__db___view__view__get_200_response_rows_inner++[]
List


a| *errors* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__db___view__view__get_200_response_errors_inner++[]
List


|===


// markup not found, no include::{specDir}definitions/__db___view__view__get_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___view__view__get_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___view__view__get_200_response_errors_inner/definition-before.adoc[opts=optional]


[#__db___view__view__get_200_response_errors_inner]
=== DbViewViewGet200ResponseErrorsInner


// markup not found, no include::{specDir}definitions/__db___view__view__get_200_response_errors_inner/definition-begin.adoc[opts=optional]


[#fields-__db___view__view__get_200_response_errors_inner]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *From* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *Reason* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__db___view__view__get_200_response_errors_inner/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___view__view__get_200_response_errors_inner/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__db___view__view__get_200_response_rows_inner/definition-before.adoc[opts=optional]


[#__db___view__view__get_200_response_rows_inner]
=== DbViewViewGet200ResponseRowsInner


// markup not found, no include::{specDir}definitions/__db___view__view__get_200_response_rows_inner/definition-begin.adoc[opts=optional]


[#fields-__db___view__view__get_200_response_rows_inner]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *id* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *key* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *value* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *doc* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


|===


// markup not found, no include::{specDir}definitions/__db___view__view__get_200_response_rows_inner/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__db___view__view__get_200_response_rows_inner/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Design-doc/definition-before.adoc[opts=optional]


[#Design-doc]
=== DesignDoc


// markup not found, no include::{specDir}definitions/Design-doc/definition-begin.adoc[opts=optional]


[#fields-Design-doc]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *language* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *views* +
_optional_
a| 
ifdef::desc-Design_doc_views[]
{desc-Design_doc_views}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Design_doc_views++[]


a| *options* +
_optional_
a| 
ifdef::desc-Design_doc_options[]
{desc-Design_doc_options}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Design_doc_options++[]


|===


// markup not found, no include::{specDir}definitions/Design-doc/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Design-doc/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Design_doc_options/definition-before.adoc[opts=optional]


[#Design_doc_options]
=== DesignDocOptions


// markup not found, no include::{specDir}definitions/Design_doc_options/definition-begin.adoc[opts=optional]


[#fields-Design_doc_options]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *local_seq* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *include_design* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *raw* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *index_xattr_on_deleted_docs* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/Design_doc_options/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Design_doc_options/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Design_doc_views/definition-before.adoc[opts=optional]


[#Design_doc_views]
=== DesignDocViews


// markup not found, no include::{specDir}definitions/Design_doc_views/definition-begin.adoc[opts=optional]


[#fields-Design_doc_views]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *additionalProperties* +
_optional_
a| 
ifdef::desc-Design_doc_views_additionalProperties[]
{desc-Design_doc_views_additionalProperties}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Design_doc_views_additionalProperties++[]


|===


// markup not found, no include::{specDir}definitions/Design_doc_views/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Design_doc_views/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Design_doc_views_additionalProperties/definition-before.adoc[opts=optional]


[#Design_doc_views_additionalProperties]
=== DesignDocViewsAdditionalProperties


// markup not found, no include::{specDir}definitions/Design_doc_views_additionalProperties/definition-begin.adoc[opts=optional]


[#fields-Design_doc_views_additionalProperties]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *map* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *reduce* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/Design_doc_views_additionalProperties/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Design_doc_views_additionalProperties/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Document/definition-before.adoc[opts=optional]


[#Document]
=== Document


// markup not found, no include::{specDir}definitions/Document/definition-begin.adoc[opts=optional]


[#fields-Document]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *_id* +
_optional_
a| The ID of the document.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *_rev* +
_optional_
a| The revision of the document.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *_exp* +
_optional_
a| Expiry time after which the document will be purged. The expiration time is set and managed on the Couchbase Server document. The value can be specified in two ways; in ISO-8601 format, for example the 6th of July 2022 at 17:00 in the BST timezone would be `2016-07-06T17:00:00+01:00`; it can also be specified as a numeric Couchbase Server expiry value. Couchbase Server expiries are specified as Unix time, and if the desired TTL is below 30 days then it can also represent an interval in seconds from the current time (for example, a value of 5 will remove the document 5 seconds after it is written to Couchbase Server). The document expiration time is returned in the response of `GET /{db}/{doc} ` when `show_exp=true` is included in the query.

As with the existing explicit purge mechanism, this applies only to the local database; it has nothing to do with replication. This expiration time is not propagated when the document is replicated. The purge of the document does not cause it to be deleted on any other database.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *_deleted* +
_optional_
a| Whether the document is a tombstone or not. If true, it is a tombstone.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *_revisions* +
_optional_
a| 
ifdef::desc-Document__revisions[]
{desc-Document__revisions}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Document__revisions++[]


a| *_attachments* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Document__attachments_value++[]
Map


|===


// markup not found, no include::{specDir}definitions/Document/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Document/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Document__attachments_value/definition-before.adoc[opts=optional]


[#Document__attachments_value]
=== DocumentAttachmentsValue


// markup not found, no include::{specDir}definitions/Document__attachments_value/definition-begin.adoc[opts=optional]


[#fields-Document__attachments_value]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *content_type* +
_optional_
a| Content type of the attachment.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *data* +
_optional_
a| The data in the attachment in base64.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/Document__attachments_value/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Document__attachments_value/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Document__revisions/definition-before.adoc[opts=optional]


[#Document__revisions]
=== DocumentRevisions


// markup not found, no include::{specDir}definitions/Document__revisions/definition-begin.adoc[opts=optional]


[#fields-Document__revisions]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *start* +
_optional_
a| Prefix number for the latest revision.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *ids* +
_optional_
a| Array of valid revision IDs, in reverse order (latest first).

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


|===


// markup not found, no include::{specDir}definitions/Document__revisions/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Document__revisions/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Event-config/definition-before.adoc[opts=optional]


[#Event-config]
=== Event-config


// markup not found, no include::{specDir}definitions/Event-config/definition-begin.adoc[opts=optional]


[#fields-Event-config]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *handler* +
_optional_
a| The handler type.

[%hardbreaks]
*Values:* `webhook`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *url* +
_optional_
a| The URL of the webhook.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *filter* +
_optional_
a| The Javascript function to use to filter the webhook events.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *timeout* +
_optional_
a| The amount of time (in seconds) to attempt connect to the webhook before giving up.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *options* +
_optional_
a| 
ifdef::desc-Event_config_options[]
{desc-Event_config_options}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Event_config_options++[]


|===


// markup not found, no include::{specDir}definitions/Event-config/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Event-config/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Event_config_options/definition-before.adoc[opts=optional]


[#Event_config_options]
=== EventConfigOptions


// markup not found, no include::{specDir}definitions/Event_config_options/definition-begin.adoc[opts=optional]


[#fields-Event_config_options]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *additionalProperties* +
_optional_
a| The option key and value.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| oas_any_type_not_mapped


|===


// markup not found, no include::{specDir}definitions/Event_config_options/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Event_config_options/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/ExpVars/definition-before.adoc[opts=optional]


[#ExpVars]
=== ExpVars


// markup not found, no include::{specDir}definitions/ExpVars/definition-begin.adoc[opts=optional]


[#fields-ExpVars]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *cmdline* +
_optional_
a| Built-in variables from the Go runtime, lists the command-line arguments

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *memstats* +
_optional_
a| Dumps a large amount of information about the memory heap and garbage collector

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *cb* +
_optional_
a| Variables reported by the Couchbase SDK (go_couchbase package)

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *mc* +
_optional_
a| Variables reported by the low-level memcached API (gomemcached package)

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *syncGateway_changeCache* +
_optional_
a| 
ifdef::desc-ExpVars_syncGateway_changeCache[]
{desc-ExpVars_syncGateway_changeCache}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++ExpVars_syncGateway_changeCache++[]


a| *syncGateway_db* +
_optional_
a| 
ifdef::desc-ExpVars_syncGateway_db[]
{desc-ExpVars_syncGateway_db}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++ExpVars_syncGateway_db++[]


a| *syncgateway* +
_optional_
a| 
ifdef::desc-ExpVars_syncgateway[]
{desc-ExpVars_syncgateway}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++ExpVars_syncgateway++[]


|===


// markup not found, no include::{specDir}definitions/ExpVars/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/ExpVars/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/ExpVars_syncGateway_changeCache/definition-before.adoc[opts=optional]


[#ExpVars_syncGateway_changeCache]
=== ExpVarsSyncGatewayChangeCache


// markup not found, no include::{specDir}definitions/ExpVars_syncGateway_changeCache/definition-begin.adoc[opts=optional]


[#fields-ExpVars_syncGateway_changeCache]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *maxPending* +
_optional_
a| Max number of sequences waiting on a missing earlier sequence number

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *lag-tap-0000ms* +
_optional_
a| Histogram of delay from doc save till it shows up in Tap feed

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *lag-queue-0000ms* +
_optional_
a| Histogram of delay from Tap feed till doc is posted to changes feed

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *lag-total-0000ms* +
_optional_
a| Histogram of total delay from doc save till posted to changes feed

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *outOfOrder* +
_optional_
a| Number of out-of-order sequences posted

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *view_queries* +
_optional_
a| Number of queries to channels view

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


|===


// markup not found, no include::{specDir}definitions/ExpVars_syncGateway_changeCache/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/ExpVars_syncGateway_changeCache/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/ExpVars_syncGateway_db/definition-before.adoc[opts=optional]


[#ExpVars_syncGateway_db]
=== ExpVarsSyncGatewayDb


// markup not found, no include::{specDir}definitions/ExpVars_syncGateway_db/definition-begin.adoc[opts=optional]


[#fields-ExpVars_syncGateway_db]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *channelChangesFeeds* +
_optional_
a| Number of calls to db.changesFeed, i.e. generating a changes feed for a single channel.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *channelLogAdds* +
_optional_
a| Number of entries added to channel logs

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *channelLogAppends* +
_optional_
a| Number of times entries were written to channel logs using an APPEND operation

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *channelLogCacheHits* +
_optional_
a| Number of requests for channel-logs that were fulfilled from the in-memory cache

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *channelLogRewrites* +
_optional_
a| Number of times entries were written to channel logs using a SET operation (rewriting the entire log)

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *channelLogRewriteCollisions* +
_optional_
a| Number of collisions while attempting to rewrite channel logs using SET

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *document_gets* +
_optional_
a| Number of times a document was read from the database

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *revisionCache_adds* +
_optional_
a| Number of revisions added to the revision cache

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *revisionCache_hits* +
_optional_
a| Number of times a revision-cache lookup succeeded

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *revisionCache_misses* +
_optional_
a| Number of times a revision-cache lookup failed

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *revs_added* +
_optional_
a| Number of revisions added to the database (including deletions)

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *sequence_gets* +
_optional_
a| Number of times the database's lastSequence was read

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *sequence_reserves* +
_optional_
a| Number of times the database's lastSequence was incremented

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


|===


// markup not found, no include::{specDir}definitions/ExpVars_syncGateway_db/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/ExpVars_syncGateway_db/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/ExpVars_syncgateway/definition-before.adoc[opts=optional]


[#ExpVars_syncgateway]
=== ExpVarsSyncgateway


// markup not found, no include::{specDir}definitions/ExpVars_syncgateway/definition-begin.adoc[opts=optional]


[#fields-ExpVars_syncgateway]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *global* +
_optional_
a| 
ifdef::desc-ExpVars_syncgateway_global[]
{desc-ExpVars_syncgateway_global}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++ExpVars_syncgateway_global++[]


a| *per_db* +
_optional_
a| This array contains stats for all databases declared in the config file -- see the [Sync Gateway Statistics Schema](./../stats-monitoring.html) for more details on the metrics collected and reported by Sync Gateway.
The statistics for each {$db_name} database are grouped into:
- cache related statistics
- collections statistics
- cbl_replication_push
- cbl_replication_pull
- database_related_statistics
- delta_sync
- gsi_views
- security_related_statistics
- shared_bucket_import
- per_replication statistics for each `replication_id`

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++ExpVars_syncgateway_per_db_inner++[]
List


a| *per_replication* +
_optional_
a| An array of stats for each replication declared in the config file
**Deprecated @ 2.8**: used only by inter-sync-gateway replications version 1.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++ExpVars_syncgateway_per_replication_inner++[]
List


|===


// markup not found, no include::{specDir}definitions/ExpVars_syncgateway/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/ExpVars_syncgateway/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/ExpVars_syncgateway_global/definition-before.adoc[opts=optional]


[#ExpVars_syncgateway_global]
=== ExpVarsSyncgatewayGlobal


// markup not found, no include::{specDir}definitions/ExpVars_syncgateway_global/definition-begin.adoc[opts=optional]


[#fields-ExpVars_syncgateway_global]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *resource_utilization* +
_optional_
a| 
ifdef::desc-ExpVars_syncgateway_global_resource_utilization[]
{desc-ExpVars_syncgateway_global_resource_utilization}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++ExpVars_syncgateway_global_resource_utilization++[]


|===


// markup not found, no include::{specDir}definitions/ExpVars_syncgateway_global/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/ExpVars_syncgateway_global/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/ExpVars_syncgateway_global_resource_utilization/definition-before.adoc[opts=optional]


[#ExpVars_syncgateway_global_resource_utilization]
=== ExpVarsSyncgatewayGlobalResourceUtilization


// markup not found, no include::{specDir}definitions/ExpVars_syncgateway_global_resource_utilization/definition-begin.adoc[opts=optional]


[#fields-ExpVars_syncgateway_global_resource_utilization]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *admin_net_bytes_recv* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *admin_net_bytes_sent* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *error_count* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *go_memstats_heapalloc* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *go_memstats_heapidle* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *go_memstats_heapinuse* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *go_memstats_heapreleased* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *go_memstats_pausetotalns* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *go_memstats_stackinuse* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *go_memstats_stacksys* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *go_memstats_sys* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *goroutines_high_watermark* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *num_goroutines* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *process_cpu_percent_utilization* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *process_memory_resident* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *pub_net_bytes_recv* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *pub_net_bytes_sent* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *system_memory_total* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *warn_count* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


|===


// markup not found, no include::{specDir}definitions/ExpVars_syncgateway_global_resource_utilization/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/ExpVars_syncgateway_global_resource_utilization/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/ExpVars_syncgateway_per_db_inner/definition-before.adoc[opts=optional]


[#ExpVars_syncgateway_per_db_inner]
=== ExpVarsSyncgatewayPerDbInner


// markup not found, no include::{specDir}definitions/ExpVars_syncgateway_per_db_inner/definition-begin.adoc[opts=optional]


[#fields-ExpVars_syncgateway_per_db_inner]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *cache* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *database* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *per_replication* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *collections* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *security* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


|===


// markup not found, no include::{specDir}definitions/ExpVars_syncgateway_per_db_inner/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/ExpVars_syncgateway_per_db_inner/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/ExpVars_syncgateway_per_replication_inner/definition-before.adoc[opts=optional]


[#ExpVars_syncgateway_per_replication_inner]
=== ExpVarsSyncgatewayPerReplicationInner


// markup not found, no include::{specDir}definitions/ExpVars_syncgateway_per_replication_inner/definition-begin.adoc[opts=optional]


[#fields-ExpVars_syncgateway_per_replication_inner]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *$replication_id* +
_optional_
a| 
ifdef::desc-ExpVars_syncgateway_per_replication_inner__replication_id[]
{desc-ExpVars_syncgateway_per_replication_inner__replication_id}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++ExpVars_syncgateway_per_replication_inner__replication_id++[]


|===


// markup not found, no include::{specDir}definitions/ExpVars_syncgateway_per_replication_inner/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/ExpVars_syncgateway_per_replication_inner/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/ExpVars_syncgateway_per_replication_inner__replication_id/definition-before.adoc[opts=optional]


[#ExpVars_syncgateway_per_replication_inner__replication_id]
=== ExpVarsSyncgatewayPerReplicationInnerReplicationId


// markup not found, no include::{specDir}definitions/ExpVars_syncgateway_per_replication_inner__replication_id/definition-begin.adoc[opts=optional]


[#fields-ExpVars_syncgateway_per_replication_inner__replication_id]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *sgr_active* +
_optional_
a| Whether the replication is active at this time.
**Deprecated @ 2.8**: used only by inter-sync-gateway replications version 1.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *sgr_docs_checked_sent* +
_optional_
a| The total number of documents checked for changes since replication started.
This represents the number of potential change notifications pushed by Sync Gateway.
**Constraints**
  This is not necessarily the number of documents pushed, as a given target might already have the change.
  Used by versions 1 and 2.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *sgr_num_attachments_transferred* +
_optional_
a| The total number of attachments transferred since replication started.
**Deprecated @ 2.8**: used only by inter-sync-gateway replications version 1.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *sgr_num_attachment_bytes_transferred* +
_optional_
a| The total number of attachment bytes transferred since replication started.
**Deprecated @ 2.8**: used only by inter-sync-gateway replications version 1.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *sgr_num_docs_failed_to_push* +
_optional_
a| The total number of documents that failed to be pushed since replication started.
Used by versions 1 and 2.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *sgr_num_docs_pushed* +
_optional_
a| The total number of documents that were pushed since replication started.
Used by versions 1 and 2.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


|===


// markup not found, no include::{specDir}definitions/ExpVars_syncgateway_per_replication_inner__replication_id/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/ExpVars_syncgateway_per_replication_inner__replication_id/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/File-logging-config/definition-before.adoc[opts=optional]


[#File-logging-config]
=== File-logging-config


// markup not found, no include::{specDir}definitions/File-logging-config/definition-begin.adoc[opts=optional]


[#fields-File-logging-config]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *enabled* +
_optional_
a| Toggle for this log output

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *rotation* +
_optional_
a| 
ifdef::desc-Log-rotation-config-readonly[]
{desc-Log-rotation-config-readonly}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Log-rotation-config-readonly++[]


a| *collation_buffer_size* +
_optional_
a| The size of the log collation buffer

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


|===


// markup not found, no include::{specDir}definitions/File-logging-config/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/File-logging-config/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/HTTP-Error/definition-before.adoc[opts=optional]


[#HTTP-Error]
=== HTTP-Error


// markup not found, no include::{specDir}definitions/HTTP-Error/definition-begin.adoc[opts=optional]


[#fields-HTTP-Error]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *error* +
_required_
a| The error name.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *reason* +
_required_
a| The error description.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/HTTP-Error/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/HTTP-Error/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response/definition-before.adoc[opts=optional]


[#__keyspace___all_docs_get_200_response]
=== KeyspaceAllDocsGet200Response


// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response/definition-begin.adoc[opts=optional]


[#fields-__keyspace___all_docs_get_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *rows* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__keyspace___all_docs_get_200_response_rows_inner++[]
Set


a| *total_rows* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *update_seq* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


|===


// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response_rows_inner/definition-before.adoc[opts=optional]


[#__keyspace___all_docs_get_200_response_rows_inner]
=== KeyspaceAllDocsGet200ResponseRowsInner


// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response_rows_inner/definition-begin.adoc[opts=optional]


[#fields-__keyspace___all_docs_get_200_response_rows_inner]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *key* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *id* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *value* +
_optional_
a| 
ifdef::desc-__keyspace___all_docs_get_200_response_rows_inner_value[]
{desc-__keyspace___all_docs_get_200_response_rows_inner_value}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__keyspace___all_docs_get_200_response_rows_inner_value++[]


|===


// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response_rows_inner/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response_rows_inner/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response_rows_inner_value/definition-before.adoc[opts=optional]


[#__keyspace___all_docs_get_200_response_rows_inner_value]
=== KeyspaceAllDocsGet200ResponseRowsInnerValue


// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response_rows_inner_value/definition-begin.adoc[opts=optional]


[#fields-__keyspace___all_docs_get_200_response_rows_inner_value]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *rev* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response_rows_inner_value/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___all_docs_get_200_response_rows_inner_value/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___all_docs_post_request/definition-before.adoc[opts=optional]


[#__keyspace___all_docs_post_request]
=== KeyspaceAllDocsPostRequest


// markup not found, no include::{specDir}definitions/__keyspace___all_docs_post_request/definition-begin.adoc[opts=optional]


[#fields-__keyspace___all_docs_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *keys* +
_required_
a| List of the documents to retrieve.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


|===


// markup not found, no include::{specDir}definitions/__keyspace___all_docs_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___all_docs_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___bulk_docs_post_201_response_inner/definition-before.adoc[opts=optional]


[#__keyspace___bulk_docs_post_201_response_inner]
=== KeyspaceBulkDocsPost201ResponseInner


// markup not found, no include::{specDir}definitions/__keyspace___bulk_docs_post_201_response_inner/definition-begin.adoc[opts=optional]


[#fields-__keyspace___bulk_docs_post_201_response_inner]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *id* +
_required_
a| The ID of the document that the operation was performed on.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *rev* +
_optional_
a| The new revision of the document if the operation was a success.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *error* +
_optional_
a| The error type if the operation of the document failed.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *reason* +
_optional_
a| The reason the operation failed.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *status* +
_optional_
a| The HTTP status code for why the operation failed.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


|===


// markup not found, no include::{specDir}definitions/__keyspace___bulk_docs_post_201_response_inner/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___bulk_docs_post_201_response_inner/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___bulk_docs_post_request/definition-before.adoc[opts=optional]


[#__keyspace___bulk_docs_post_request]
=== KeyspaceBulkDocsPostRequest


// markup not found, no include::{specDir}definitions/__keyspace___bulk_docs_post_request/definition-begin.adoc[opts=optional]


[#fields-__keyspace___bulk_docs_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *new_edits* +
_optional_
a| This controls whether to assign new revision identifiers to new edits (`true`) or use the existing ones (`false`).

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *docs* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Document
List


|===


// markup not found, no include::{specDir}definitions/__keyspace___bulk_docs_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___bulk_docs_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___bulk_get_post_request/definition-before.adoc[opts=optional]


[#__keyspace___bulk_get_post_request]
=== KeyspaceBulkGetPostRequest


// markup not found, no include::{specDir}definitions/__keyspace___bulk_get_post_request/definition-begin.adoc[opts=optional]


[#fields-__keyspace___bulk_get_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *docs* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__keyspace___bulk_get_post_request_docs_inner++[]
List


|===


// markup not found, no include::{specDir}definitions/__keyspace___bulk_get_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___bulk_get_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___bulk_get_post_request_docs_inner/definition-before.adoc[opts=optional]


[#__keyspace___bulk_get_post_request_docs_inner]
=== KeyspaceBulkGetPostRequestDocsInner


// markup not found, no include::{specDir}definitions/__keyspace___bulk_get_post_request_docs_inner/definition-begin.adoc[opts=optional]


[#fields-__keyspace___bulk_get_post_request_docs_inner]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *id* +
_required_
a| ID of the document to retrieve.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__keyspace___bulk_get_post_request_docs_inner/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___bulk_get_post_request_docs_inner/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___changes_post_request/definition-before.adoc[opts=optional]


[#__keyspace___changes_post_request]
=== KeyspaceChangesPostRequest


// markup not found, no include::{specDir}definitions/__keyspace___changes_post_request/definition-begin.adoc[opts=optional]


[#fields-__keyspace___changes_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *limit* +
_optional_
a| Maximum number of changes to return.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *style* +
_optional_
a| Controls whether to return the current winning revision (`main_only`) or all the leaf revision including conflicts and deleted former conflicts (`all_docs`).

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *active_only* +
_optional_
a| Set true to exclude deleted documents and notifications for documents the user no longer has access to from the changes feed.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *include_docs* +
_optional_
a| Include the body associated with each document.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *revocations* +
_optional_
a| If true, revocation messages will be sent on the changes feed.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *filter* +
_optional_
a| Set a filter to either filter by channels or document IDs.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *channels* +
_optional_
a| A comma-separated list of channel names to filter the response to only the channels specified. To use this option, the `filter` query option must be set to `sync_gateway/bychannels`.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *doc_ids* +
_optional_
a| A valid JSON array of document IDs to filter the documents in the response to only the documents specified. To use this option, the `filter` query option must be set to `_doc_ids` and the `feed` parameter must be `normal`.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *heartbeat* +
_optional_
a| The interval (in milliseconds) to send an empty line (CRLF) in the response. This is to help prevent gateways from deciding the socket is idle and therefore closing it. This is only applicable to `feed=longpoll` or `feed=continuous`. This will override any timeouts to keep the feed alive indefinitely. Setting to 0 results in no heartbeat. The maximum heartbeat can be set in the server replication configuration.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *timeout* +
_optional_
a| This is the maximum period (in milliseconds) to wait for a change before the response is sent, even if there are no results. This is only applicable for `feed=longpoll` or `feed=continuous` changes feeds. Setting to 0 results in no timeout.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *feed* +
_optional_
a| The type of changes feed to use. 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__keyspace___changes_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___changes_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___docid__get_200_response/definition-before.adoc[opts=optional]


[#__keyspace___docid__get_200_response]
=== KeyspaceDocidGet200Response


// markup not found, no include::{specDir}definitions/__keyspace___docid__get_200_response/definition-begin.adoc[opts=optional]


[#fields-__keyspace___docid__get_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *_id* +
_optional_
a| The ID of the document.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *_rev* +
_optional_
a| The revision ID of the document.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__keyspace___docid__get_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___docid__get_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___local__docid__put_request/definition-before.adoc[opts=optional]


[#__keyspace___local__docid__put_request]
=== KeyspaceLocalDocidPutRequest


// markup not found, no include::{specDir}definitions/__keyspace___local__docid__put_request/definition-begin.adoc[opts=optional]


[#fields-__keyspace___local__docid__put_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *_rev* +
_optional_
a| Revision to replace. Required if updating existing local document.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["2-5145e1086bb8d1d71a531e9f6b543c58" != "null"]
*Example:* `2-5145e1086bb8d1d71a531e9f6b543c58`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__keyspace___local__docid__put_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___local__docid__put_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___purge_post_200_response/definition-before.adoc[opts=optional]


[#__keyspace___purge_post_200_response]
=== KeyspacePurgePost200Response


// markup not found, no include::{specDir}definitions/__keyspace___purge_post_200_response/definition-begin.adoc[opts=optional]


[#fields-__keyspace___purge_post_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *purged* +
_required_
a| 

[%hardbreaks]
*Values:* 
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| List
Map


|===


// markup not found, no include::{specDir}definitions/__keyspace___purge_post_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___purge_post_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___purge_post_request/definition-before.adoc[opts=optional]


[#__keyspace___purge_post_request]
=== KeyspacePurgePostRequest


// markup not found, no include::{specDir}definitions/__keyspace___purge_post_request/definition-begin.adoc[opts=optional]


[#fields-__keyspace___purge_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *doc_id* +
_optional_
a| The document ID to purge. The array must only be 1 element which is `*`.

All revisions will be permanently removed for that document.

[%hardbreaks]
*Values:* 
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


|===


// markup not found, no include::{specDir}definitions/__keyspace___purge_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___purge_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___raw__docid__get_200_response/definition-before.adoc[opts=optional]


[#__keyspace___raw__docid__get_200_response]
=== KeyspaceRawDocidGet200Response


// markup not found, no include::{specDir}definitions/__keyspace___raw__docid__get_200_response/definition-begin.adoc[opts=optional]


[#fields-__keyspace___raw__docid__get_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *_sync* +
_optional_
a| 
ifdef::desc-__keyspace___raw__docid__get_200_response__sync[]
{desc-__keyspace___raw__docid__get_200_response__sync}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__keyspace___raw__docid__get_200_response__sync++[]


|===


// markup not found, no include::{specDir}definitions/__keyspace___raw__docid__get_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___raw__docid__get_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___raw__docid__get_200_response__sync/definition-before.adoc[opts=optional]


[#__keyspace___raw__docid__get_200_response__sync]
=== KeyspaceRawDocidGet200ResponseSync


// markup not found, no include::{specDir}definitions/__keyspace___raw__docid__get_200_response__sync/definition-begin.adoc[opts=optional]


[#fields-__keyspace___raw__docid__get_200_response__sync]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *rev* +
_optional_
a| The current document revision ID.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *sequence* +
_optional_
a| The most recent sequence number of the document.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *recent_sequences* +
_optional_
a| The previous sequence numbers of the document.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal
List


a| *history* +
_optional_
a| 
ifdef::desc-__keyspace___raw__docid__get_200_response__sync_history[]
{desc-__keyspace___raw__docid__get_200_response__sync_history}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__keyspace___raw__docid__get_200_response__sync_history++[]


a| *cas* +
_optional_
a| The document CAS (Concurrent Document Mutations) number used for document locking.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *value_crc32c* +
_optional_
a| The documents CRC32 number.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *channel_set* +
_optional_
a| The channels the document has been in.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__keyspace___raw__docid__get_200_response__sync_channel_set_inner++[]
List


a| *channel_set_history* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__keyspace___raw__docid__get_200_response__sync_channel_set_history_inner++[]
List


a| *time_saved* +
_optional_
a| The time and date the document was most recently changed.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__keyspace___raw__docid__get_200_response__sync/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___raw__docid__get_200_response__sync/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___raw__docid__get_200_response__sync_channel_set_history_inner/definition-before.adoc[opts=optional]


[#__keyspace___raw__docid__get_200_response__sync_channel_set_history_inner]
=== KeyspaceRawDocidGet200ResponseSyncChannelSetHistoryInner


// markup not found, no include::{specDir}definitions/__keyspace___raw__docid__get_200_response__sync_channel_set_history_inner/definition-begin.adoc[opts=optional]


[#fields-__keyspace___raw__docid__get_200_response__sync_channel_set_history_inner]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *name* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *start* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *end* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__keyspace___raw__docid__get_200_response__sync_channel_set_history_inner/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___raw__docid__get_200_response__sync_channel_set_history_inner/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___raw__docid__get_200_response__sync_channel_set_inner/definition-before.adoc[opts=optional]


[#__keyspace___raw__docid__get_200_response__sync_channel_set_inner]
=== KeyspaceRawDocidGet200ResponseSyncChannelSetInner


// markup not found, no include::{specDir}definitions/__keyspace___raw__docid__get_200_response__sync_channel_set_inner/definition-begin.adoc[opts=optional]


[#fields-__keyspace___raw__docid__get_200_response__sync_channel_set_inner]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *name* +
_optional_
a| The name of the channel.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *start* +
_optional_
a| The sequence number that document was added to the channel.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *end* +
_optional_
a| The sequence number the document was removed from the channel. Omitted if not removed.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__keyspace___raw__docid__get_200_response__sync_channel_set_inner/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___raw__docid__get_200_response__sync_channel_set_inner/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___raw__docid__get_200_response__sync_history/definition-before.adoc[opts=optional]


[#__keyspace___raw__docid__get_200_response__sync_history]
=== KeyspaceRawDocidGet200ResponseSyncHistory


// markup not found, no include::{specDir}definitions/__keyspace___raw__docid__get_200_response__sync_history/definition-begin.adoc[opts=optional]


[#fields-__keyspace___raw__docid__get_200_response__sync_history]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *revs* +
_optional_
a| The past revision IDs.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *parents* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal
List


a| *channels* +
_optional_
a| The past channel history. Can contain string arrays, strings, or be null depending on if and how the channels where set.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| List
List


|===


// markup not found, no include::{specDir}definitions/__keyspace___raw__docid__get_200_response__sync_history/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___raw__docid__get_200_response__sync_history/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_200_response/definition-before.adoc[opts=optional]


[#__keyspace___revs_diff_post_200_response]
=== KeyspaceRevsDiffPost200Response


// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_200_response/definition-begin.adoc[opts=optional]


[#fields-__keyspace___revs_diff_post_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *docid* +
_optional_
a| 
ifdef::desc-__keyspace___revs_diff_post_200_response_docid[]
{desc-__keyspace___revs_diff_post_200_response_docid}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__keyspace___revs_diff_post_200_response_docid++[]


|===


// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_200_response_docid/definition-before.adoc[opts=optional]


[#__keyspace___revs_diff_post_200_response_docid]
=== KeyspaceRevsDiffPost200ResponseDocid


// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_200_response_docid/definition-begin.adoc[opts=optional]


[#fields-__keyspace___revs_diff_post_200_response_docid]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *missing* +
_optional_
a| The revisions that are not in the database (and therefore `missing`).

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *possible_ancestors* +
_optional_
a| An array of known revisions that might be the recent ancestors.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


|===


// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_200_response_docid/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_200_response_docid/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_request/definition-before.adoc[opts=optional]


[#__keyspace___revs_diff_post_request]
=== KeyspaceRevsDiffPostRequest


// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_request/definition-begin.adoc[opts=optional]


[#fields-__keyspace___revs_diff_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *docid* +
_optional_
a| The document ID with an array of revisions to use for the comparison.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


|===


// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__keyspace___revs_diff_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Log-rotation-config-readonly/definition-before.adoc[opts=optional]


[#Log-rotation-config-readonly]
=== Log-rotation-config


// markup not found, no include::{specDir}definitions/Log-rotation-config-readonly/definition-begin.adoc[opts=optional]


[#fields-Log-rotation-config-readonly]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *max_size* +
_optional_
a| The maximum size in MB of the log file before it gets rotated.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *max_age* +
_optional_
a| The maximum number of days to retain old log files.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *localtime* +
_optional_
a| If true, it uses the computer's local time to format the backup timestamp.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *rotated_logs_size* +
_optional_
a| Max Size (in mb) of log files before deletion

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


|===


// markup not found, no include::{specDir}definitions/Log-rotation-config-readonly/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Log-rotation-config-readonly/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/New-revision/definition-before.adoc[opts=optional]


[#New-revision]
=== New-revision


// markup not found, no include::{specDir}definitions/New-revision/definition-begin.adoc[opts=optional]


[#fields-New-revision]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *id* +
_required_
a| The ID of the document.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *ok* +
_required_
a| Whether the request completed successfully.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *rev* +
_required_
a| The revision of the document.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/New-revision/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/New-revision/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/NodeInfo/definition-before.adoc[opts=optional]


[#NodeInfo]
=== NodeInfo


// markup not found, no include::{specDir}definitions/NodeInfo/definition-begin.adoc[opts=optional]


[#fields-NodeInfo]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *ADMIN* +
_optional_
a| `true` if the request is from the Admin API - otherwise omitted.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["true" != "null"]
*Example:* `true`
endif::[]
// end
| Boolean


a| *couchdb* +
_required_
a| CouchDB welcome

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["Welcome" != "null"]
*Example:* `Welcome`
endif::[]
// end
| String


a| *vendor* +
_required_
a| 
ifdef::desc-NodeInfo_vendor[]
{desc-NodeInfo_vendor}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++NodeInfo_vendor++[]


a| *version* +
_optional_
a| Product version, including the build number and edition (i.e. `EE` or `CE`)
Omitted if `api.hide_product_version=true`

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["Couchbase Sync Gateway/3.1.0(1;a765231) EE" != "null"]
*Example:* `Couchbase Sync Gateway/3.1.0(1;a765231) EE`
endif::[]
// end
| String


a| *persistent_config* +
_optional_
a| Indication for whether sync gateway is running in persistent config mode or legacy config mode.
`true` if the sync gateway node is running in persistent config mode.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["true" != "null"]
*Example:* `true`
endif::[]
// end
| Boolean


|===


// markup not found, no include::{specDir}definitions/NodeInfo/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/NodeInfo/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/NodeInfo_vendor/definition-before.adoc[opts=optional]


[#NodeInfo_vendor]
=== NodeInfoVendor


// markup not found, no include::{specDir}definitions/NodeInfo_vendor/definition-begin.adoc[opts=optional]


[#fields-NodeInfo_vendor]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *name* +
_required_
a| Product name

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["Couchbase Sync Gateway" != "null"]
*Example:* `Couchbase Sync Gateway`
endif::[]
// end
| String


a| *version* +
_optional_
a| API version.
Omitted if `api.hide_product_version=true`

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["3.1" != "null"]
*Example:* `3.1`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/NodeInfo_vendor/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/NodeInfo_vendor/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/OIDC-callback/definition-before.adoc[opts=optional]


[#OIDC-callback]
=== OpenID Connect callback properties


// markup not found, no include::{specDir}definitions/OIDC-callback/definition-begin.adoc[opts=optional]


[#fields-OIDC-callback]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *id_token* +
_optional_
a| The OpenID Connect ID token

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *refresh_token* +
_optional_
a| The OpenID Connect ID refresh token

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *session_id* +
_optional_
a| The Sync Gateway session token

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *name* +
_optional_
a| The Sync Gateway user

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *access_token* +
_optional_
a| The OpenID Connect access token

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *token_type* +
_optional_
a| The OpenID Connect ID token type

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *expires_in* +
_optional_
a| The time until the id_token expires (TTL).

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


|===


// markup not found, no include::{specDir}definitions/OIDC-callback/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/OIDC-callback/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/OIDC-login-page-handler/definition-before.adoc[opts=optional]


[#OIDC-login-page-handler]
=== OIDCLoginPageHandler


// markup not found, no include::{specDir}definitions/OIDC-login-page-handler/definition-begin.adoc[opts=optional]


[#fields-OIDC-login-page-handler]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *username* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *tokenttl* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *identity-token-formats* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *authenticated* +
_required_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/OIDC-login-page-handler/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/OIDC-login-page-handler/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/OIDC-token/definition-before.adoc[opts=optional]


[#OIDC-token]
=== OIDC-token


// markup not found, no include::{specDir}definitions/OIDC-token/definition-begin.adoc[opts=optional]


[#fields-OIDC-token]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *access_token* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *token_type* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *refresh_token* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *expires_in* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *id_token* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/OIDC-token/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/OIDC-token/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__post_upgrade_post_200_response/definition-before.adoc[opts=optional]


[#__post_upgrade_post_200_response]
=== PostUpgradePost200Response


// markup not found, no include::{specDir}definitions/__post_upgrade_post_200_response/definition-begin.adoc[opts=optional]


[#fields-__post_upgrade_post_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *post_upgrade_results* +
_required_
a| A map of databases.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++__post_upgrade_post_200_response_post_upgrade_results_value++[]
Map


a| *preview* +
_optional_
a| If set, nothing in the database was changed as this was a dry-run. This can be controlled by the `preview` query parameter in the request.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


|===


// markup not found, no include::{specDir}definitions/__post_upgrade_post_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__post_upgrade_post_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__post_upgrade_post_200_response_post_upgrade_results_value/definition-before.adoc[opts=optional]


[#__post_upgrade_post_200_response_post_upgrade_results_value]
=== PostUpgradePost200ResponsePostUpgradeResultsValue


// markup not found, no include::{specDir}definitions/__post_upgrade_post_200_response_post_upgrade_results_value/definition-begin.adoc[opts=optional]


[#fields-__post_upgrade_post_200_response_post_upgrade_results_value]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *removed_design_docs* +
_required_
a| The design documents that have or will be removed.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *removed_indexes* +
_required_
a| The indexes that have or will be removed.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


|===


// markup not found, no include::{specDir}definitions/__post_upgrade_post_200_response_post_upgrade_results_value/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__post_upgrade_post_200_response_post_upgrade_results_value/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__profile__profilename__post_request/definition-before.adoc[opts=optional]


[#__profile__profilename__post_request]
=== ProfileProfilenamePostRequest


// markup not found, no include::{specDir}definitions/__profile__profilename__post_request/definition-begin.adoc[opts=optional]


[#fields-__profile__profilename__post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *file* +
_optional_
a| This is the file to output the pprof profile at.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__profile__profilename__post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__profile__profilename__post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Replication/definition-before.adoc[opts=optional]


[#Replication]
=== User configurable replication properties


// markup not found, no include::{specDir}definitions/Replication/definition-begin.adoc[opts=optional]


[#fields-Replication]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *replication_id* +
_optional_
a| This is the ID of the replication.

When creating a new replication using a POST request, this will be set to a random UUID if not explicitly set.

When the replication ID is specified in the URL, this must be set to the same replication ID if specifying it at all.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *remote* +
_optional_
a| This is the endpoint of the database for the remote Sync Gateway that is the subject of this replication's `push`, `pull`, or `pushAndPull` action.

Typically this would include the URI, port, and database name. For example, `http://localhost:4985/db`.

How this remote is used depends on the `direction` of the replication:
* `pull` - this replicator _pulls_ changes from the `remote`
* `push` - this replicator _pushes_ changes to this `remote`
* `pushAndPull` - this replicator _pushes_ changes to this `remote`, while also pulling receiving changes

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *username* +
_optional_
a| **This has been deprecated in favour of `remote_username`.**

This is the username to use to authenticate with the remote.

This can only be used for a pull replication.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *password* +
_optional_
a| **This has been deprecated in favour of `remote_password`.**

This is the password to use to authenticate with the remote.

This password will be redacted in the replication config.

This can only be used for a pull replication.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *remote_username* +
_optional_
a| The username to use to authenticate with the remote.

This can only be used for a pull replication.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *remote_password* +
_optional_
a| The password to use to authenticate with the remote.

This password will be redacted in the replication config.

This can only be used for a pull replication.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *direction* +
_required_
a| This specifies which direction the replication will be replicating with the `remote` replicator.

The directions are:
* `pull` - changes are pulled from the remote database
* `push` - changes are pushed to the remote database
* `pushAndPull` - changes are both push-to and pulled-from the remote database

Replications created prior to Sync Gateway 2.8 derive their `direction` from the source/target URL of the replication.

[%hardbreaks]
*Values:* `push`, `pull`, `pushAndPull`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *conflict_resolution_type* +
_optional_
a| This defines what conflict resolution policy Sync Gateway should use to apply when resolving conflicting revisions.

Changing this is an enterprise-edition only feature.

**Behaviour**
* *default* - In priority order, this will cause
  - Deletes to always win (the delete with the logest revision history wins if both revisions are deletes)
  - The revision with the longest revision history to win. This means the the revision with the most changes and therefore the highest revision ID will win.
* *localWins* - This will result in local revisions always being the winner in any conflict.
* *remoteWins* - This will result in remote revisions always being the winner in any conflict.
* *custom* - This will result in conflicts going through your own custom conflict resolver. You must provide this logic as a Javascript function in the `custom_conflict_resolver` parameter. This is an enterprise-edition only feature.


Note: replications created prior to Sync Gateway 2.8 will default to `default`.

[%hardbreaks]
*Values:* `default`, `remoteWins`, `localWins`, `custom`
ifeval::["default" != "null"]
*Default:* `default`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *custom_conflict_resolver* +
_optional_
a| This specifies the Javascript function to use to resolve conflicts between conflicting revisions.
 
This **must** be used when `conflict_resolution_type=custom`. This property will be ignored when `conflict_resolution_type` is not `custom`.

The Javascript function to provide this property should be in backticks (like the sync function). The function takes 1 parameter which is a struct that represents the conflict. This struct has 2 properties:
* `LocalDocument` - The local document. This contains the document ID under the `_id` key.
* `RemoteDocument` - The remote document
The function should return the new documents body. This can be the winning revision (for example, `return conflict.LocalDocument`), a new body, or `nil` to resolve as a delete.

Example:
```
"custom_conflict_resolver":\`
	function(conflict) {
		console.log("Doc ID: "+conflict.LocalDocument._id);
		console.log("Full remote doc: "+JSON.stringify(conflict.RemoteDocument));
		return conflict.RemoteDocument;
	}
\`
```

Using complex `custom_conflict_resolver` functions can noticeably degrade performance. Use a built-in resolver whenever possible.

This is an enterprise-edition only feature.


[%hardbreaks]
ifeval::["none" != "null"]
*Default:* `none`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *purge_on_removal* +
_optional_
a| Specifies whether to purge a document if the remote user loses access to all of the channels on the document when attempting to pull it from the remote.

If false, documents will not be replicated and not be purged when the user loses access.

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *enable_delta_sync* +
_optional_
a| This will turn on delta- sync for the replication. This works in conjunction with the database level setting `delta_sync.enabled`

If set to true, delta-sync will be used as long as both databases involved in the replication have delta-sync enabled. If a database does not have delta-sync enabled, then the replication will run without delta-sync.

Replications created prior to Sync Gateway 2.8 must have delta-sync disabled.

Enabling this is an enterprise-edition only feature.

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *max_backoff_time* +
_optional_
a| Specifies the maximum time-period (in minutes) that Sync Gateway will attempt to reconnect to a lost or unreachable remote.

When a disconnection happens, Sync Gateway will do an exponential backoff up to this specified value. When this value is met, it will attempt to reconnect indefinitely every `max_backoff_time` minutes.

If this is set to 0, Sync Gateway will do the normal exponential backoff after the disconnect happens but then attempting 10 minutes and stop the replication.

Note: this defaults to 5 minutes for replications created prior to Sync Gateway 2.8.

[%hardbreaks]
ifeval::["5" != "null"]
*Default:* `5`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *initial_state* +
_optional_
a| This is what state to start the replication in when creating a new replication.

This allows you to control if the replication starts in a `stopped` start or `running` state.

Replications prior to Sync Gateway 2.8 will run in the default state `running`.

[%hardbreaks]
*Values:* `running`, `stopped`
ifeval::["running" != "null"]
*Default:* `running`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *continuous* +
_optional_
a| If true, changes will be immediately synced when they happen. This is known as a continuous replication.

If false, all changes will be synced until they have been processed. The replication will then cease and not process any future changes (unless started again by the user). This is known as a one-shot replication.

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *filter* +
_optional_
a| This defines whether to filter documents by their channels or not.

If set to `sync_gateway/bychannel` then a **pull** replication will be limited to a specific set of channels specified by the `query_params.channels` property.

This only can be used with pull replications.

[%hardbreaks]
*Values:* `sync_gateway/bychannel`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *query_params* +
_optional_
a| This is a set of key/value pairs used in the query string of the replication.

If `filters=sync_gateway/bychannel` then this can be used to set the channels to filter by in a pull replication. To do this, set the `channels` key to a string array of the channels to filter by. For example:
```
"filter":"sync_gateway/bychannel",
"query_params": {
  "channels":["chanUser1"]
},
```

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *adhoc* +
_optional_
a| Set to true to run the replication as an adhoc replication instead of a persistent one.

This means that the replication will only last the period of the replication until the status is changed to `stopped` and then it will be removed automatically. It will also be removed if Sync Gateway restarts or if removed due to user action.

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *batch_size* +
_optional_
a| The amount of changes to be sent in one batch of replications. Changing this is an enterprise-edition only feature.

[%hardbreaks]
ifeval::["200" != "null"]
*Default:* `200`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *run_as* +
_optional_
a| This is used if you want to specify a user to run the replication as. This means that the replication will only be able to replicate what the user  access to what the user has access to.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/Replication/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Replication/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Replication-status/definition-before.adoc[opts=optional]


[#Replication-status]
=== Replication-status


// markup not found, no include::{specDir}definitions/Replication-status/definition-begin.adoc[opts=optional]


[#fields-Replication-status]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *replication_id* +
_required_
a| The ID of the replication.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *config* +
_optional_
a| 
ifdef::desc-Replication[]
{desc-Replication}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Replication++[]


a| *status* +
_optional_
a| The status of the replication.

[%hardbreaks]
*Values:* `stopped`, `running`, `reconnecting`, `resetting`, `error`, `starting`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *error_message* +
_optional_
a| The error message of the replication if an error has occurred.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *docs_read* +
_optional_
a| The number of documents that have been read (fetched) from the source database.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *docs_checked_pull* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *docs_purged* +
_optional_
a| The number of documents that have been purged.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *rejected_by_local* +
_optional_
a| The number of documents that were received by the local but did not get replicated due to getting rejected by the sync function on the local.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *last_seq_pull* +
_optional_
a| The last changes sequence number that was pulled from the remote.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *deltas_recv* +
_optional_
a| The number of deltas that have been received from the remote.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *deltas_requested* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *docs_written* +
_optional_
a| The number of documents that have been wrote (pushed) to the target database.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *docs_checked_push* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *docs_write_failures* +
_optional_
a| The number of documents that have failed to be wrote (pushed) to the target database. There will be no attempt to try to push these docs again.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *docs_write_conflicts* +
_optional_
a| The number of documents that had a conflict.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *rejected_by_remote* +
_optional_
a| The number of documents that were received by the remote but did not get replicated due to getting rejected by the sync function on the remote.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *last_seq_push* +
_optional_
a| The last changes sequence number that was pushed to the remote.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *deltas_sent* +
_optional_
a| The number of deltas that have been sent to the remote. 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


|===


// markup not found, no include::{specDir}definitions/Replication-status/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Replication-status/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Resync-status/definition-before.adoc[opts=optional]


[#Resync-status]
=== Resync-status


// markup not found, no include::{specDir}definitions/Resync-status/definition-begin.adoc[opts=optional]


[#fields-Resync-status]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *status* +
_required_
a| The status of the current operation.

[%hardbreaks]
*Values:* `running`, `completed`, `stopping`, `stopped`, `error`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *start_time* +
_required_
a| The ISO-8601 date and time the resync operation was started.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *last_error* +
_required_
a| The last error that occurred in the resync operation (if any).

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *docs_changed* +
_required_
a| The amount of documents that have been changed as a result of the resync operation.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *docs_processed* +
_required_
a| The amount of docs that have been processed so far in the resync operation.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


|===


// markup not found, no include::{specDir}definitions/Resync-status/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Resync-status/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Retrieved-replication/definition-before.adoc[opts=optional]


[#Retrieved-replication]
=== Replication


// markup not found, no include::{specDir}definitions/Retrieved-replication/definition-begin.adoc[opts=optional]


[#fields-Retrieved-replication]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *replication_id* +
_optional_
a| This is the ID of the replication.

When creating a new replication using a POST request, this will be set to a random UUID if not explicitly set.

When the replication ID is specified in the URL, this must be set to the same replication ID if specifying it at all.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *remote* +
_optional_
a| This is the endpoint of the database for the remote Sync Gateway that is the subject of this replication's `push`, `pull`, or `pushAndPull` action.

Typically this would include the URI, port, and database name. For example, `http://localhost:4985/db`.

How this remote is used depends on the `direction` of the replication:
* `pull` - this replicator _pulls_ changes from the `remote`
* `push` - this replicator _pushes_ changes to this `remote`
* `pushAndPull` - this replicator _pushes_ changes to this `remote`, while also pulling receiving changes

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *username* +
_optional_
a| **This has been deprecated in favour of `remote_username`.**

This is the username to use to authenticate with the remote.

This can only be used for a pull replication.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *password* +
_optional_
a| **This has been deprecated in favour of `remote_password`.**

This is the password to use to authenticate with the remote.

This password will be redacted in the replication config.

This can only be used for a pull replication.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *remote_username* +
_optional_
a| The username to use to authenticate with the remote.

This can only be used for a pull replication.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *remote_password* +
_optional_
a| The password to use to authenticate with the remote.

This password will be redacted in the replication config.

This can only be used for a pull replication.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *direction* +
_optional_
a| This specifies which direction the replication will be replicating with the `remote` replicator.

The directions are:
* `pull` - changes are pulled from the remote database
* `push` - changes are pushed to the remote database
* `pushAndPull` - changes are both push-to and pulled-from the remote database

Replications created prior to Sync Gateway 2.8 derive their `direction` from the source/target URL of the replication.

[%hardbreaks]
*Values:* `push`, `pull`, `pushAndPull`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *conflict_resolution_type* +
_optional_
a| This defines what conflict resolution policy Sync Gateway should use to apply when resolving conflicting revisions.

Changing this is an enterprise-edition only feature.

**Behaviour**
* *default* - In priority order, this will cause
  - Deletes to always win (the delete with the logest revision history wins if both revisions are deletes)
  - The revision with the longest revision history to win. This means the the revision with the most changes and therefore the highest revision ID will win.
* *localWins* - This will result in local revisions always being the winner in any conflict.
* *remoteWins* - This will result in remote revisions always being the winner in any conflict.
* *custom* - This will result in conflicts going through your own custom conflict resolver. You must provide this logic as a Javascript function in the `custom_conflict_resolver` parameter. This is an enterprise-edition only feature.


Note: replications created prior to Sync Gateway 2.8 will default to `default`.

[%hardbreaks]
*Values:* `default`, `remoteWins`, `localWins`, `custom`
ifeval::["default" != "null"]
*Default:* `default`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *custom_conflict_resolver* +
_optional_
a| This specifies the Javascript function to use to resolve conflicts between conflicting revisions.
 
This **must** be used when `conflict_resolution_type=custom`. This property will be ignored when `conflict_resolution_type` is not `custom`.

The Javascript function to provide this property should be in backticks (like the sync function). The function takes 1 parameter which is a struct that represents the conflict. This struct has 2 properties:
* `LocalDocument` - The local document. This contains the document ID under the `_id` key.
* `RemoteDocument` - The remote document
The function should return the new documents body. This can be the winning revision (for example, `return conflict.LocalDocument`), a new body, or `nil` to resolve as a delete.

Example:
```
"custom_conflict_resolver":\`
	function(conflict) {
		console.log("Doc ID: "+conflict.LocalDocument._id);
		console.log("Full remote doc: "+JSON.stringify(conflict.RemoteDocument));
		return conflict.RemoteDocument;
	}
\`
```

Using complex `custom_conflict_resolver` functions can noticeably degrade performance. Use a built-in resolver whenever possible.

This is an enterprise-edition only feature.


[%hardbreaks]
ifeval::["none" != "null"]
*Default:* `none`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *purge_on_removal* +
_optional_
a| Specifies whether to purge a document if the remote user loses access to all of the channels on the document when attempting to pull it from the remote.

If false, documents will not be replicated and not be purged when the user loses access.

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *enable_delta_sync* +
_optional_
a| This will turn on delta- sync for the replication. This works in conjunction with the database level setting `delta_sync.enabled`

If set to true, delta-sync will be used as long as both databases involved in the replication have delta-sync enabled. If a database does not have delta-sync enabled, then the replication will run without delta-sync.

Replications created prior to Sync Gateway 2.8 must have delta-sync disabled.

Enabling this is an enterprise-edition only feature.

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *max_backoff_time* +
_optional_
a| Specifies the maximum time-period (in minutes) that Sync Gateway will attempt to reconnect to a lost or unreachable remote.

When a disconnection happens, Sync Gateway will do an exponential backoff up to this specified value. When this value is met, it will attempt to reconnect indefinitely every `max_backoff_time` minutes.

If this is set to 0, Sync Gateway will do the normal exponential backoff after the disconnect happens but then attempting 10 minutes and stop the replication.

Note: this defaults to 5 minutes for replications created prior to Sync Gateway 2.8.

[%hardbreaks]
ifeval::["5" != "null"]
*Default:* `5`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *initial_state* +
_optional_
a| This is what state to start the replication in when creating a new replication.

This allows you to control if the replication starts in a `stopped` start or `running` state.

Replications prior to Sync Gateway 2.8 will run in the default state `running`.

[%hardbreaks]
*Values:* `running`, `stopped`
ifeval::["running" != "null"]
*Default:* `running`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *continuous* +
_optional_
a| If true, changes will be immediately synced when they happen. This is known as a continuous replication.

If false, all changes will be synced until they have been processed. The replication will then cease and not process any future changes (unless started again by the user). This is known as a one-shot replication.

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *filter* +
_optional_
a| This defines whether to filter documents by their channels or not.

If set to `sync_gateway/bychannel` then a **pull** replication will be limited to a specific set of channels specified by the `query_params.channels` property.

This only can be used with pull replications.

[%hardbreaks]
*Values:* `sync_gateway/bychannel`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *query_params* +
_optional_
a| This is a set of key/value pairs used in the query string of the replication.

If `filters=sync_gateway/bychannel` then this can be used to set the channels to filter by in a pull replication. To do this, set the `channels` key to a string array of the channels to filter by. For example:
```
"filter":"sync_gateway/bychannel",
"query_params": {
  "channels":["chanUser1"]
},
```

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *adhoc* +
_optional_
a| Set to true to run the replication as an adhoc replication instead of a persistent one.

This means that the replication will only last the period of the replication until the status is changed to `stopped` and then it will be removed automatically. It will also be removed if Sync Gateway restarts or if removed due to user action.

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *batch_size* +
_optional_
a| The amount of changes to be sent in one batch of replications. Changing this is an enterprise-edition only feature.

[%hardbreaks]
ifeval::["200" != "null"]
*Default:* `200`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


a| *run_as* +
_optional_
a| This is used if you want to specify a user to run the replication as. This means that the replication will only be able to replicate what the user  access to what the user has access to.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *assigned_node* +
_optional_
a| The unique ID of the node assigned to the replication.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *target_state* +
_optional_
a| This is the state that the replicator is in or that trying to transition in to.

[%hardbreaks]
*Values:* `running`, `stopped`, `resetting`, `error`, `starting`, `reconnecting`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/Retrieved-replication/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Retrieved-replication/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Role/definition-before.adoc[opts=optional]


[#Role]
=== Role


// markup not found, no include::{specDir}definitions/Role/definition-begin.adoc[opts=optional]


[#fields-Role]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *name* +
_optional_
a| The name of the role.

Role names can only have alphanumeric ASCII characters and underscores.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *admin_channels* +
_optional_
a| The channels that users in the role are able to access for the default collection.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *all_channels* +
_optional_
a| The channels that the role grants access to for the default collection.

These channels could have been assigned by the Sync function or using the `admin_channels` property.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *collection_access* +
_optional_
a| A set of access grants by scope and collection.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Map
Map


|===


// markup not found, no include::{specDir}definitions/Role/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Role/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Serverless/definition-before.adoc[opts=optional]


[#Serverless]
=== Serverless


// markup not found, no include::{specDir}definitions/Serverless/definition-begin.adoc[opts=optional]


[#fields-Serverless]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *enabled* +
_optional_
a| Run SG in to serverless mode

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *min_config_fetch_interval* +
_optional_
a| How long database configs should be kept for in Sync Gateway before refreshing. Set to 0 to fetch configs everytime. This is used for requested databases that SG does not know about. 

This is a duration and therefore can be provided with units "h", "m", "s", "ms", "us", and "ns". For example, 5 hours, 20 minutes, and 30 seconds would be `5h20m30s`.

[%hardbreaks]
ifeval::["1s" != "null"]
*Default:* `1s`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/Serverless/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Serverless/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__sgcollect_info_delete_200_response/definition-before.adoc[opts=optional]


[#__sgcollect_info_delete_200_response]
=== SgcollectInfoDelete200Response


// markup not found, no include::{specDir}definitions/__sgcollect_info_delete_200_response/definition-begin.adoc[opts=optional]


[#fields-__sgcollect_info_delete_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *status* +
_optional_
a| The new status of sgcollect_info.

[%hardbreaks]
ifeval::["cancelled" != "null"]
*Default:* `cancelled`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__sgcollect_info_delete_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__sgcollect_info_delete_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__sgcollect_info_get_200_response/definition-before.adoc[opts=optional]


[#__sgcollect_info_get_200_response]
=== SgcollectInfoGet200Response


// markup not found, no include::{specDir}definitions/__sgcollect_info_get_200_response/definition-begin.adoc[opts=optional]


[#fields-__sgcollect_info_get_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *status* +
_required_
a| The status of sgcollect_info.

[%hardbreaks]
*Values:* `stopped`, `running`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__sgcollect_info_get_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__sgcollect_info_get_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__sgcollect_info_post_200_response/definition-before.adoc[opts=optional]


[#__sgcollect_info_post_200_response]
=== SgcollectInfoPost200Response


// markup not found, no include::{specDir}definitions/__sgcollect_info_post_200_response/definition-begin.adoc[opts=optional]


[#fields-__sgcollect_info_post_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *status* +
_optional_
a| The new sgcollect_info status.

[%hardbreaks]
ifeval::["started" != "null"]
*Default:* `started`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__sgcollect_info_post_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__sgcollect_info_post_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__sgcollect_info_post_request/definition-before.adoc[opts=optional]


[#__sgcollect_info_post_request]
=== SgcollectInfoPostRequest


// markup not found, no include::{specDir}definitions/__sgcollect_info_post_request/definition-begin.adoc[opts=optional]


[#fields-__sgcollect_info_post_request]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *redact_level* +
_optional_
a| The redaction level to use for redacting the collected logs.

[%hardbreaks]
*Values:* `partial`, `none`
ifeval::["partial" != "null"]
*Default:* `partial`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *redact_salt* +
_optional_
a| The salt to use for the log redactions.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *output_dir* +
_optional_
a| The directory to output the collected logs zip file at.

This overrides the configured default output directory configured in the startup config `logging.log_file_path`.

[%hardbreaks]
ifeval::["The configured path set in the startup config `logging.log_file_path`" != "null"]
*Default:* `The configured path set in the startup config `logging.log_file_path``
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *upload* +
_optional_
a| If set, upload the logs to Couchbase Support.

A customer name must be set if this is set.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *upload_host* +
_optional_
a| The host to send the logs too.

[%hardbreaks]
ifeval::["https://uploads.couchbase.com" != "null"]
*Default:* `https://uploads.couchbase.com`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *upload_proxy* +
_optional_
a| The proxy to use while uploading the logs.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *customer* +
_optional_
a| The customer name to use when uploading the logs.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *ticket* +
_optional_
a| The Zendesk ticket number to use when uploading logs.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/__sgcollect_info_post_request/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__sgcollect_info_post_request/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Startup-config/definition-before.adoc[opts=optional]


[#Startup-config]
=== Startup-config


// markup not found, no include::{specDir}definitions/Startup-config/definition-begin.adoc[opts=optional]


[#fields-Startup-config]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *bootstrap* +
_optional_
a| 
ifdef::desc-Startup_config_bootstrap[]
{desc-Startup_config_bootstrap}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Startup_config_bootstrap++[]


a| *api* +
_optional_
a| 
ifdef::desc-Startup_config_api[]
{desc-Startup_config_api}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Startup_config_api++[]


a| *logging* +
_optional_
a| 
ifdef::desc-Startup_config_logging[]
{desc-Startup_config_logging}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Startup_config_logging++[]


a| *auth* +
_optional_
a| 
ifdef::desc-Startup_config_auth[]
{desc-Startup_config_auth}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Startup_config_auth++[]


a| *replicator* +
_optional_
a| 
ifdef::desc-Startup_config_replicator[]
{desc-Startup_config_replicator}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Startup_config_replicator++[]


a| *unsupported* +
_optional_
a| 
ifdef::desc-Startup_config_unsupported[]
{desc-Startup_config_unsupported}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Startup_config_unsupported++[]


a| *database_credentials* +
_optional_
a| A map of database name to credentials, that can be used instead of the bootstrap ones.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++CredentialsConfig++[]
Map


a| *bucket_credentials* +
_optional_
a| A map of bucket names to credentials, that can be used instead of the bootstrap ones.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++CredentialsConfig++[]
Map


a| *max_file_descriptors* +
_optional_
a| Max of open file descriptors (RLIMIT_NOFILE)

[%hardbreaks]
ifeval::["5000" != "null"]
*Default:* `5000`
endif::[]
*Minimum:* `0`
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *couchbase_keepalive_interval* +
_optional_
a| TCP keep-alive interval between SG and Couchbase server

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


|===


// markup not found, no include::{specDir}definitions/Startup-config/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Startup-config/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Startup_config_api/definition-before.adoc[opts=optional]


[#Startup_config_api]
=== StartupConfigApi


// markup not found, no include::{specDir}definitions/Startup_config_api/definition-begin.adoc[opts=optional]


[#fields-Startup_config_api]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *public_interface* +
_optional_
a| Network interface to bind public API to

[%hardbreaks]
ifeval::[":4984" != "null"]
*Default:* `:4984`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *admin_interface* +
_optional_
a| Network interface to bind admin API to.

By default, this will only be accessible to the localhost.

[%hardbreaks]
ifeval::["127.0.0.1:4985" != "null"]
*Default:* `127.0.0.1:4985`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *metric_interface* +
_optional_
a| Network interface to bind metrics API to.

By default, this will only be accessible to the localhost.

[%hardbreaks]
ifeval::["127.0.0.1:4986" != "null"]
*Default:* `127.0.0.1:4986`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *profile_interface* +
_optional_
a| Network interface to bind profiling API to

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *admin_interface_authentication* +
_optional_
a| Whether the admin API requires authentication

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *metrics_interface_authentication* +
_optional_
a| Whether the metrics API requires authentication

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *enable_advanced_auth_dp* +
_optional_
a| Whether to enable the DP permissions check feature of admin auth.

Defaults to `true` if using enterprise-edition or `false` if using community-edition.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *server_read_timeout* +
_optional_
a| Maximum duration.Second before timing out read of the HTTP(S) request.

This is a duration and therefore can be provided with units "h", "m", "s", "ms", "us", and "ns". For example, 5 hours, 20 minutes, and 30 seconds would be `5h20m30s`.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *server_write_timeout* +
_optional_
a| Maximum duration.Second before timing out write of the HTTP(S) response.

This is a duration and therefore can be provided with units "h", "m", "s", "ms", "us", and "ns". For example, 5 hours, 20 minutes, and 30 seconds would be `5h20m30s`.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *read_header_timeout* +
_optional_
a| The amount of time allowed to read request headers.

This is a duration and therefore can be provided with units "h", "m", "s", "ms", "us", and "ns". For example, 5 hours, 20 minutes, and 30 seconds would be `5h20m30s`.

[%hardbreaks]
ifeval::["5s" != "null"]
*Default:* `5s`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *idle_timeout* +
_optional_
a| The maximum amount of time to wait for the next request when keep-alives are enabled.

This is a duration and therefore can be provided with units "h", "m", "s", "ms", "us", and "ns". For example, 5 hours, 20 minutes, and 30 seconds would be `5h20m30s`.

[%hardbreaks]
ifeval::["90s" != "null"]
*Default:* `90s`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *pretty* +
_optional_
a| Pretty-print JSON responses

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *max_connections* +
_optional_
a| Max of incoming HTTP connections to accept

[%hardbreaks]
ifeval::["0" != "null"]
*Default:* `0`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *compress_responses* +
_optional_
a| If false, disables compression of HTTP responses

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *hide_product_version* +
_optional_
a| Whether product versions removed from Server headers and REST API responses

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *https* +
_optional_
a| 
ifdef::desc-Startup_config_api_https[]
{desc-Startup_config_api_https}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Startup_config_api_https++[]


a| *cors* +
_optional_
a| 
ifdef::desc-Startup_config_api_cors[]
{desc-Startup_config_api_cors}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Startup_config_api_cors++[]


|===


// markup not found, no include::{specDir}definitions/Startup_config_api/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Startup_config_api/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Startup_config_api_cors/definition-before.adoc[opts=optional]


[#Startup_config_api_cors]
=== StartupConfigApiCors


// markup not found, no include::{specDir}definitions/Startup_config_api_cors/definition-begin.adoc[opts=optional]


[#fields-Startup_config_api_cors]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *origin* +
_optional_
a| List of allowed origins, use ['*'] to allow access from everywhere

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *login_origin* +
_optional_
a| List of allowed login origins

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *headers* +
_optional_
a| List of allowed headers

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *max_age* +
_optional_
a| Maximum age of the CORS Options request

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


|===


// markup not found, no include::{specDir}definitions/Startup_config_api_cors/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Startup_config_api_cors/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Startup_config_api_https/definition-before.adoc[opts=optional]


[#Startup_config_api_https]
=== StartupConfigApiHttps


// markup not found, no include::{specDir}definitions/Startup_config_api_https/definition-begin.adoc[opts=optional]


[#fields-Startup_config_api_https]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *tls_minimum_version* +
_optional_
a| The minimum allowable TLS version for the REST APIs

[%hardbreaks]
ifeval::["tlsv1.2" != "null"]
*Default:* `tlsv1.2`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *tls_cert_path* +
_optional_
a| The TLS cert file to use for the REST APIs

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *tls_key_path* +
_optional_
a| The TLS key file to use for the REST APIs

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/Startup_config_api_https/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Startup_config_api_https/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Startup_config_auth/definition-before.adoc[opts=optional]


[#Startup_config_auth]
=== StartupConfigAuth


// markup not found, no include::{specDir}definitions/Startup_config_auth/definition-begin.adoc[opts=optional]


[#fields-Startup_config_auth]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *bcrypt_cost* +
_optional_
a| Cost to use for bcrypt password hashes

[%hardbreaks]
ifeval::["10" != "null"]
*Default:* `10`
endif::[]
*Minimum:* `10`
*Maximum:* `31`
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


|===


// markup not found, no include::{specDir}definitions/Startup_config_auth/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Startup_config_auth/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Startup_config_bootstrap/definition-before.adoc[opts=optional]


[#Startup_config_bootstrap]
=== StartupConfigBootstrap


// markup not found, no include::{specDir}definitions/Startup_config_bootstrap/definition-begin.adoc[opts=optional]


[#fields-Startup_config_bootstrap]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *group_id* +
_optional_
a| The config group ID to use when discovering databases. Allows for non-homogenous configuration.

[%hardbreaks]
ifeval::["default" != "null"]
*Default:* `default`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *config_update_frequency* +
_optional_
a| How often to poll Couchbase Server for new config changes.

This is a duration and therefore can be provided with units "h", "m", "s", "ms", "us", and "ns". For example, 5 hours, 20 minutes, and 30 seconds would be `5h20m30s`.

[%hardbreaks]
ifeval::["10s" != "null"]
*Default:* `10s`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *server* +
_required_
a| Couchbase Server connection string/URL.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *username* +
_required_
a| Username for authenticating to server.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *password* +
_required_
a| Password for authenticating to server

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *ca_cert_path* +
_optional_
a| Root CA cert path for TLS connection

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *server_tls_skip_verify* +
_optional_
a| Allow empty server CA Cert Path without attempting to use system root pool

[%hardbreaks]
ifeval::["false" != "null"]
*Default:* `false`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *x509_cert_path* +
_optional_
a| Cert path (public key) for X.509 bucket auth

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *x509_key_path* +
_optional_
a| Key path (private key) for X.509 bucket auth

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *use_tls_server* +
_optional_
a| Enforces a secure or non-secure server scheme

[%hardbreaks]
ifeval::["true" != "null"]
*Default:* `true`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


|===


// markup not found, no include::{specDir}definitions/Startup_config_bootstrap/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Startup_config_bootstrap/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Startup_config_logging/definition-before.adoc[opts=optional]


[#Startup_config_logging]
=== StartupConfigLogging


// markup not found, no include::{specDir}definitions/Startup_config_logging/definition-begin.adoc[opts=optional]


[#fields-Startup_config_logging]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *log_file_path* +
_optional_
a| Absolute or relative path on the filesystem to the log file directory. A relative path is from the directory that contains the Sync Gateway executable file.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *redaction_level* +
_optional_
a| Redaction level to apply to log output.

[%hardbreaks]
*Values:* `none`, `partial`, `full`, `unset`
ifeval::["partial" != "null"]
*Default:* `partial`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *console* +
_optional_
a| 
ifdef::desc-Console-logging-config[]
{desc-Console-logging-config}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Console-logging-config++[]


a| *error* +
_optional_
a| 
ifdef::desc-File-logging-config[]
{desc-File-logging-config}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++File-logging-config++[]


a| *warn* +
_optional_
a| 
ifdef::desc-File-logging-config[]
{desc-File-logging-config}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++File-logging-config++[]


a| *info* +
_optional_
a| 
ifdef::desc-File-logging-config[]
{desc-File-logging-config}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++File-logging-config++[]


a| *debug* +
_optional_
a| 
ifdef::desc-File-logging-config[]
{desc-File-logging-config}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++File-logging-config++[]


a| *trace* +
_optional_
a| 
ifdef::desc-File-logging-config[]
{desc-File-logging-config}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++File-logging-config++[]


a| *stats* +
_optional_
a| 
ifdef::desc-File-logging-config[]
{desc-File-logging-config}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++File-logging-config++[]


|===


// markup not found, no include::{specDir}definitions/Startup_config_logging/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Startup_config_logging/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Startup_config_replicator/definition-before.adoc[opts=optional]


[#Startup_config_replicator]
=== StartupConfigReplicator


// markup not found, no include::{specDir}definitions/Startup_config_replicator/definition-begin.adoc[opts=optional]


[#fields-Startup_config_replicator]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *max_heartbeat* +
_optional_
a| Max heartbeat value for `_changes` request.

This is a duration and therefore can be provided with units "h", "m", "s", "ms", "us", and "ns". For example, 5 hours, 20 minutes, and 30 seconds would be `5h20m30s`.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *blip_compression* +
_optional_
a| BLIP data compression level (0-9)

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
*Minimum:* `0`
*Maximum:* `9`
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Integer


|===


// markup not found, no include::{specDir}definitions/Startup_config_replicator/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Startup_config_replicator/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Startup_config_unsupported/definition-before.adoc[opts=optional]


[#Startup_config_unsupported]
=== StartupConfigUnsupported


// markup not found, no include::{specDir}definitions/Startup_config_unsupported/definition-begin.adoc[opts=optional]


[#fields-Startup_config_unsupported]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *serverless* +
_optional_
a| 
ifdef::desc-Serverless[]
{desc-Serverless}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Serverless++[]


a| *use_xattr_config* +
_optional_
a| Store database configurations in system xattrs

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *stats_log_frequency* +
_optional_
a| How often should stats be written to stats logs.

This is a duration and therefore can be provided with units "h", "m", "s", "ms", "us", and "ns". For example, 5 hours, 20 minutes, and 30 seconds would be `5h20m30s`.

[%hardbreaks]
ifeval::["1m" != "null"]
*Default:* `1m`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *use_stdlib_json* +
_optional_
a| Bypass the jsoniter package and use Go's stdlib instead

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *http2* +
_optional_
a| 
ifdef::desc-Startup_config_unsupported_http2[]
{desc-Startup_config_unsupported_http2}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Startup_config_unsupported_http2++[]


|===


// markup not found, no include::{specDir}definitions/Startup_config_unsupported/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Startup_config_unsupported/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Startup_config_unsupported_http2/definition-before.adoc[opts=optional]


[#Startup_config_unsupported_http2]
=== StartupConfigUnsupportedHttp2


// markup not found, no include::{specDir}definitions/Startup_config_unsupported_http2/definition-begin.adoc[opts=optional]


[#fields-Startup_config_unsupported_http2]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *enabled* +
_optional_
a| Whether HTTP2 support is enabled

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


|===


// markup not found, no include::{specDir}definitions/Startup_config_unsupported_http2/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Startup_config_unsupported_http2/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/__stats_get_200_response/definition-before.adoc[opts=optional]


[#__stats_get_200_response]
=== StatsGet200Response


// markup not found, no include::{specDir}definitions/__stats_get_200_response/definition-begin.adoc[opts=optional]


[#fields-__stats_get_200_response]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *memstats* +
_optional_
a| A set of Go runtime memory statistics.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| oas_any_type_not_mapped
Map


|===


// markup not found, no include::{specDir}definitions/__stats_get_200_response/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/__stats_get_200_response/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Status/definition-before.adoc[opts=optional]


[#Status]
=== Status


// markup not found, no include::{specDir}definitions/Status/definition-begin.adoc[opts=optional]


[#fields-Status]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *databases* +
_optional_
a| Contains a map of all the databases in the node along with their status.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Status_databases_value++[]
Map


a| *version* +
_optional_
a| The product version including the build number and edition (ie. `EE` or `CE`).

Blank if `api.hide_product_version=true` in the startup configuration.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/Status/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Status/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Status_databases_value/definition-before.adoc[opts=optional]


[#Status_databases_value]
=== StatusDatabasesValue


// markup not found, no include::{specDir}definitions/Status_databases_value/definition-begin.adoc[opts=optional]


[#fields-Status_databases_value]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *seq* +
_optional_
a| The latest sequence number in the database.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
*Minimum:* `0`
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| BigDecimal


a| *server_uuid* +
_optional_
a| The server unique identifier.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *state* +
_optional_
a| Whether the database is online or offline.

[%hardbreaks]
*Values:* `Online`, `Offline`
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *replication_status* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Replication-status++[]
List


a| *cluster* +
_optional_
a| 
ifdef::desc-Status_databases_value_cluster[]
{desc-Status_databases_value_cluster}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Status_databases_value_cluster++[]


|===


// markup not found, no include::{specDir}definitions/Status_databases_value/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Status_databases_value/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Status_databases_value_cluster/definition-before.adoc[opts=optional]


[#Status_databases_value_cluster]
=== StatusDatabasesValueCluster


// markup not found, no include::{specDir}definitions/Status_databases_value_cluster/definition-begin.adoc[opts=optional]


[#fields-Status_databases_value_cluster]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *replication* +
_optional_
a| 
ifdef::desc-Status_databases_value_cluster_replication[]
{desc-Status_databases_value_cluster_replication}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Status_databases_value_cluster_replication++[]


a| *nodes* +
_optional_
a| 
ifdef::desc-Status_databases_value_cluster_nodes[]
{desc-Status_databases_value_cluster_nodes}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Status_databases_value_cluster_nodes++[]


|===


// markup not found, no include::{specDir}definitions/Status_databases_value_cluster/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Status_databases_value_cluster/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Status_databases_value_cluster_nodes/definition-before.adoc[opts=optional]


[#Status_databases_value_cluster_nodes]
=== StatusDatabasesValueClusterNodes


// markup not found, no include::{specDir}definitions/Status_databases_value_cluster_nodes/definition-begin.adoc[opts=optional]


[#fields-Status_databases_value_cluster_nodes]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *node_uuid* +
_optional_
a| 
ifdef::desc-Status_databases_value_cluster_nodes_node_uuid[]
{desc-Status_databases_value_cluster_nodes_node_uuid}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Status_databases_value_cluster_nodes_node_uuid++[]


|===


// markup not found, no include::{specDir}definitions/Status_databases_value_cluster_nodes/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Status_databases_value_cluster_nodes/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Status_databases_value_cluster_nodes_node_uuid/definition-before.adoc[opts=optional]


[#Status_databases_value_cluster_nodes_node_uuid]
=== StatusDatabasesValueClusterNodesNodeUuid


// markup not found, no include::{specDir}definitions/Status_databases_value_cluster_nodes_node_uuid/definition-begin.adoc[opts=optional]


[#fields-Status_databases_value_cluster_nodes_node_uuid]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *uuid* +
_optional_
a| The nodes unique identifier.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *host* +
_optional_
a| The nodes host name.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/Status_databases_value_cluster_nodes_node_uuid/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Status_databases_value_cluster_nodes_node_uuid/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/Status_databases_value_cluster_replication/definition-before.adoc[opts=optional]


[#Status_databases_value_cluster_replication]
=== StatusDatabasesValueClusterReplication


// markup not found, no include::{specDir}definitions/Status_databases_value_cluster_replication/definition-begin.adoc[opts=optional]


[#fields-Status_databases_value_cluster_replication]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *replication_id* +
_optional_
a| 
ifdef::desc-Retrieved-replication[]
{desc-Retrieved-replication}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++Retrieved-replication++[]


|===


// markup not found, no include::{specDir}definitions/Status_databases_value_cluster_replication/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/Status_databases_value_cluster_replication/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/User/definition-before.adoc[opts=optional]


[#User]
=== User


// markup not found, no include::{specDir}definitions/User/definition-begin.adoc[opts=optional]


[#fields-User]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *name* +
_optional_
a| The name of the user.

User names can only have alphanumeric ASCII characters and underscores.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *password* +
_optional_
a| The password of the user.

Mandatory. unless `allow_empty_password` is `true` in the database configs.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *admin_channels* +
_optional_
a| A list of channels to explicitly grant to the user for the default collection.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *all_channels* +
_optional_
a| All the channels that the user has been granted access to for the default collection.

Access could have been granted through the sync function, roles, or explicitly on the user under the `admin_channels` property.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *collection_access* +
_optional_
a| A set of access grants by scope and collection.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Map
Map


a| *email* +
_optional_
a| The email address of the user.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *disabled* +
_optional_
a| If true, the user will not be able to login to the account as it is disabled.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *admin_roles* +
_optional_
a| A list of roles to explicitly grant to the user.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *roles* +
_optional_
a| All the roles that the user has been granted access to.

Access could have been granted through the sync function, roles_claim, or explicitly on the user under the `admin_roles` property.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *jwt_roles* +
_optional_
a| The roles that the user has been added to through roles_claim.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *jwt_channels* +
_optional_
a| The channels that the user has been granted access to through channels_claim.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *jwt_issuer* +
_optional_
a| The issuer of the last JSON Web Token that the user last used to sign in.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


a| *jwt_last_updated* +
_optional_
a| The last time that the user's JWT roles/channels were updated.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Date (date-time)


|===


// markup not found, no include::{specDir}definitions/User/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/User/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/User-session-information/definition-before.adoc[opts=optional]


[#User-session-information]
=== User Session Information


// markup not found, no include::{specDir}definitions/User-session-information/definition-begin.adoc[opts=optional]


[#fields-User-session-information]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *authentication_handlers* +
_optional_
a| The ways authentication can be established to authenticate as the user.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String
List


a| *ok* +
_optional_
a| 

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Boolean


a| *userCtx* +
_optional_
a| 
ifdef::desc-User_session_information_userCtx[]
{desc-User_session_information_userCtx}
endif::[]

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| xref:#++User_session_information_userCtx++[]


|===


// markup not found, no include::{specDir}definitions/User-session-information/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/User-session-information/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/User_session_information_userCtx/definition-before.adoc[opts=optional]


[#User_session_information_userCtx]
=== UserSessionInformationUserCtx


// markup not found, no include::{specDir}definitions/User_session_information_userCtx/definition-begin.adoc[opts=optional]


[#fields-User_session_information_userCtx]
[cols="1,4,1"]
|===
| Name| Description| Schema

a| *channels* +
_optional_
a| A map of the channels the user has access to and the sequence number each channel was created at.

The key is the channel name and the value is the sequence number.


[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| Object


a| *name* +
_optional_
a| The name of the user.

[%hardbreaks]
ifeval::["null" != "null"]
*Default:* `null`
endif::[]
ifeval::["null" != "null"]
*Example:* `null`
endif::[]
// end
| String


|===


// markup not found, no include::{specDir}definitions/User_session_information_userCtx/definition-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/User_session_information_userCtx/definition-after.adoc[opts=optional]




// markup not found, no include::{specDir}definitions/document-end.adoc[opts=optional]



// markup not found, no include::{specDir}definitions/document-after.adoc[opts=optional]



